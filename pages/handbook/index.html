<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>The Nikola Handbook | Pollard's Rho</title>
<link rel="stylesheet" href="https://use.typekit.net/fne7jql.css">
<link rel="stylesheet" href="../../assets/halfmoon/css/halfmoon-variables.min.css">
<link rel="stylesheet" href="../../assets/halfmoon/css/halfmoon-highlight-js-theme.css">
<link href="../../assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/etica.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://nicholas-miklaucic.github.io/pages/handbook/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link href="https://css.gg/yinyang.css" rel="stylesheet">
<link href="https://css.gg/copy.css" rel="stylesheet">
<link rel="stylesheet" href="//unpkg.com/@highlightjs/cdn-assets@11.2.0/styles/default.min.css">
<script src="//unpkg.com/@highlightjs/cdn-assets@11.2.0/highlight.min.js"></script><meta name="author" content="The Nikola Team">
<meta property="og:site_name" content="Pollard's Rho">
<meta property="og:title" content="The Nikola Handbook">
<meta property="og:url" content="https://nicholas-miklaucic.github.io/pages/handbook/">
<meta property="og:description" content="Version
8.0.2


Contents

All You Need to Know
What's Nikola and what can you do with it?
Getting Help
Why Static?
Components
Getting Started
Creating a Blog Post

Metadata fields

Basic
Extra


Metad">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2012-03-30T23:00:00-03:00">
</head>
<body data-set-preferred-mode-onload="true">
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div class="page-wrapper with-navbar">
            <nav class="navbar justify-content-center"><div class="navbar-content">
                <a class="nav-link" id="brand" href="../../" title="Pollard's Rho" rel="home">

            <span id="blog-title" class="navbar-brand">Pollard&#8217;s Rho</span>
    </a>

        </div>
        <div class="navbar-content">
            
        </div>
        <div class="navbar-content">
                <ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="../about-me/">About&nbsp;Me</a></li>
                <li class="nav-item"><a class="nav-link" href="../../archive.html">Archive</a></li>
                <li class="nav-item"><a class="nav-link" href="../../categories/">Tags</a></li>
                <li class="nav-item"><a class="nav-link" href="../../rss.xml"><span class="caps">RSS</span>&nbsp;feed</a></li>

        
        
        
    </ul>
</div>
        <div class="navbar-content">
            <button class="btn" type="button" onclick="halfmoon.toggleDarkMode()"><i class="gg-yinyang"></i></button>
        </div>
    </nav><div class="sticky-alerts"></div>
        <div class="content-wrapper">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-8">
                        <main id="content" class="content"><article class="post-text storypage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">The Nikola&nbsp;Handbook</a></h1>

        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<dl class="docinfo simple">
<dt class="version">Version</dt>
<dd class="version">8.0.2</dd>
</dl>
<div class="contents alert alert-primary float-md-right topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#all-you-need-to-know" id="id11">All You Need to&nbsp;Know</a></p></li>
<li><p><a class="reference internal" href="#what-s-nikola-and-what-can-you-do-with-it" id="id12">What&#8217;s Nikola and what can you do with&nbsp;it?</a></p></li>
<li><p><a class="reference internal" href="#getting-help" id="id13">Getting&nbsp;Help</a></p></li>
<li><p><a class="reference internal" href="#why-static" id="id14">Why&nbsp;Static?</a></p></li>
<li><p><a class="reference internal" href="#components" id="id15">Components</a></p></li>
<li><p><a class="reference internal" href="#getting-started" id="id16">Getting&nbsp;Started</a></p></li>
<li>
<p><a class="reference internal" href="#creating-a-blog-post" id="id17">Creating a Blog&nbsp;Post</a></p>
<ul>
<li>
<p><a class="reference internal" href="#metadata-fields" id="id18">Metadata&nbsp;fields</a></p>
<ul>
<li><p><a class="reference internal" href="#basic" id="id19">Basic</a></p></li>
<li><p><a class="reference internal" href="#extra" id="id20">Extra</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#metadata-formats" id="id21">Metadata&nbsp;formats</a></p>
<ul>
<li><p><a class="reference internal" href="#rest-style-comments" id="id22">reST-style&nbsp;comments</a></p></li>
<li><p><a class="reference internal" href="#two-file-format" id="id23">Two-file&nbsp;format</a></p></li>
<li><p><a class="reference internal" href="#jupyter-notebook-metadata" id="id24">Jupyter Notebook&nbsp;metadata</a></p></li>
<li><p><a class="reference internal" href="#yaml-metadata" id="id25"><span class="caps">YAML</span>&nbsp;metadata</a></p></li>
<li><p><a class="reference internal" href="#toml-metadata" id="id26"><span class="caps">TOML</span>&nbsp;metadata</a></p></li>
<li><p><a class="reference internal" href="#rest-docinfo" id="id27">reST&nbsp;docinfo</a></p></li>
<li><p><a class="reference internal" href="#markdown-metadata" id="id28">Markdown&nbsp;metadata</a></p></li>
<li><p><a class="reference internal" href="#html-meta-tags" id="id29"><span class="caps">HTML</span> meta&nbsp;tags</a></p></li>
<li><p><a class="reference internal" href="#mapping-metadata-from-other-formats" id="id30">Mapping metadata from other&nbsp;formats</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#multilingual-posts" id="id31">Multilingual&nbsp;posts</a></p></li>
<li><p><a class="reference internal" href="#how-does-nikola-decide-where-posts-should-go" id="id32">How does Nikola decide where posts should&nbsp;go?</a></p></li>
<li><p><a class="reference internal" href="#the-new-post-command" id="id33">The <code class="docutils literal">new_post</code> command</a></p></li>
<li><p><a class="reference internal" href="#teasers" id="id34">Teasers</a></p></li>
<li><p><a class="reference internal" href="#drafts" id="id35">Drafts</a></p></li>
<li><p><a class="reference internal" href="#private-posts" id="id36">Private&nbsp;Posts</a></p></li>
<li><p><a class="reference internal" href="#featured-posts" id="id37">Featured&nbsp;Posts</a></p></li>
<li><p><a class="reference internal" href="#queuing-posts" id="id38">Queuing&nbsp;Posts</a></p></li>
<li><p><a class="reference internal" href="#post-types" id="id39">Post&nbsp;Types</a></p></li>
<li>
<p><a class="reference internal" href="#indexes" id="id40">Indexes</a></p>
<ul>
<li><p><a class="reference internal" href="#settings" id="id41">Settings</a></p></li>
<li><p><a class="reference internal" href="#static-indexes" id="id42">Static&nbsp;indexes</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#post-taxonomy" id="id43">Post&nbsp;taxonomy</a></p>
<ul>
<li><p><a class="reference internal" href="#tags" id="id44">Tags</a></p></li>
<li><p><a class="reference internal" href="#categories" id="id45">Categories</a></p></li>
<li><p><a class="reference internal" href="#configuring-tags-and-categories" id="id46">Configuring tags and&nbsp;categories</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#what-if-i-dont-want-a-blog" id="id47">What if I don’t want a&nbsp;blog?</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#creating-a-page" id="id48">Creating a&nbsp;Page</a></p></li>
<li>
<p><a class="reference internal" href="#supported-input-formats" id="id49">Supported input&nbsp;formats</a></p>
<ul>
<li>
<p><a class="reference internal" href="#configuring-other-input-formats" id="id50">Configuring other input&nbsp;formats</a></p>
<ul>
<li><p><a class="reference internal" href="#markdown" id="id51">Markdown</a></p></li>
<li><p><a class="reference internal" href="#jupyter-notebook" id="id52">Jupyter&nbsp;Notebook</a></p></li>
<li><p><a class="reference internal" href="#html" id="id53"><span class="caps">HTML</span></a></p></li>
<li><p><a class="reference internal" href="#php" id="id54"><span class="caps">PHP</span></a></p></li>
<li><p><a class="reference internal" href="#pandoc" id="id55">Pandoc</a></p></li>
</ul>
</li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#shortcodes" id="id56">Shortcodes</a></p>
<ul>
<li><p><a class="reference internal" href="#using-a-shortcode" id="id57">Using a&nbsp;shortcode</a></p></li>
<li><p><a class="reference internal" href="#built-in-shortcodes" id="id58">Built-in&nbsp;shortcodes</a></p></li>
<li><p><a class="reference internal" href="#community-shortcodes" id="id59">Community&nbsp;shortcodes</a></p></li>
<li><p><a class="reference internal" href="#template-based-shortcodes" id="id60">Template-based&nbsp;shortcodes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#the-global-context-and-data-files" id="id61">The Global Context and Data&nbsp;files</a></p></li>
<li><p><a class="reference internal" href="#redirections" id="id62">Redirections</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id63">Configuration</a></p></li>
<li><p><a class="reference internal" href="#customizing-your-site" id="id64">Customizing Your&nbsp;Site</a></p></li>
<li><p><a class="reference internal" href="#fancy-dates" id="id65">Fancy&nbsp;Dates</a></p></li>
<li><p><a class="reference internal" href="#adding-files" id="id66">Adding&nbsp;Files</a></p></li>
<li><p><a class="reference internal" href="#custom-themes" id="id67">Custom&nbsp;Themes</a></p></li>
<li><p><a class="reference internal" href="#getting-extra-themes" id="id68">Getting Extra&nbsp;Themes</a></p></li>
<li>
<p><a class="reference internal" href="#deployment" id="id69">Deployment</a></p>
<ul>
<li><p><a class="reference internal" href="#deploying-to-github" id="id70">Deploying to&nbsp;GitHub</a></p></li>
<li><p><a class="reference internal" href="#automated-rebuilds-with-travis-ci" id="id71">Automated rebuilds with Travis&nbsp;<span class="caps">CI</span></a></p></li>
<li><p><a class="reference internal" href="#automated-rebuilds-with-gitlab" id="id72">Automated rebuilds with&nbsp;GitLab</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#comments" id="id73">Comments</a></p></li>
<li>
<p><a class="reference internal" href="#images-and-galleries" id="id74">Images and&nbsp;Galleries</a></p>
<ul>
<li><p><a class="reference internal" href="#embedding-images" id="id75">Embedding&nbsp;Images</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#handling-exif-data" id="id76">Handling <span class="caps">EXIF</span>&nbsp;Data</a></p>
<ul>
<li><p><a class="reference internal" href="#strip-all-exif-data" id="id77">Strip all <span class="caps">EXIF</span>&nbsp;data</a></p></li>
<li><p><a class="reference internal" href="#preserve-all-exif-data" id="id78">Preserve all <span class="caps">EXIF</span>&nbsp;data</a></p></li>
<li><p><a class="reference internal" href="#preserve-some-exif-data" id="id79">Preserve some <span class="caps">EXIF</span>&nbsp;data</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#handling-icc-profiles" id="id80">Handling <span class="caps">ICC</span>&nbsp;Profiles</a></p></li>
<li><p><a class="reference internal" href="#post-processing-filters" id="id81">Post Processing&nbsp;Filters</a></p></li>
<li><p><a class="reference internal" href="#optimizing-your-website" id="id82">Optimizing Your&nbsp;Website</a></p></li>
<li>
<p><a class="reference internal" href="#math" id="id83">Math</a></p>
<ul>
<li><p><a class="reference internal" href="#id6" id="id84">Configuration</a></p></li>
<li><p><a class="reference internal" href="#inline-usage" id="id85">Inline&nbsp;usage</a></p></li>
<li><p><a class="reference internal" href="#display-usage" id="id86">Display&nbsp;usage</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#restructuredtext-extensions" id="id87">reStructuredText&nbsp;Extensions</a></p>
<ul>
<li><p><a class="reference internal" href="#includes" id="id88">Includes</a></p></li>
<li><p><a class="reference internal" href="#media" id="id89">Media</a></p></li>
<li><p><a class="reference internal" href="#youtube" id="id90">YouTube</a></p></li>
<li><p><a class="reference internal" href="#vimeo" id="id91">Vimeo</a></p></li>
<li><p><a class="reference internal" href="#soundcloud" id="id92">Soundcloud</a></p></li>
<li><p><a class="reference internal" href="#code" id="id93">Code</a></p></li>
<li><p><a class="reference internal" href="#listing" id="id94">Listing</a></p></li>
<li><p><a class="reference internal" href="#gist" id="id95">Gist</a></p></li>
<li><p><a class="reference internal" href="#thumbnails" id="id96">Thumbnails</a></p></li>
<li><p><a class="reference internal" href="#chart" id="id97">Chart</a></p></li>
<li><p><a class="reference internal" href="#doc" id="id98">Doc</a></p></li>
<li><p><a class="reference internal" href="#post-list" id="id99">Post&nbsp;List</a></p></li>
</ul>
</li>
<li>
<p><a class="reference internal" href="#importing-your-wordpress-site-into-nikola" id="id100">Importing your WordPress site into&nbsp;Nikola</a></p>
<ul>
<li><p><a class="reference internal" href="#importing-to-a-custom-location-or-into-an-existing-site" id="id101">Importing to a custom location or into an existing&nbsp;site</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#using-twitter-cards" id="id102">Using Twitter&nbsp;Cards</a></p></li>
<li><p><a class="reference internal" href="#custom-plugins" id="id103">Custom&nbsp;Plugins</a></p></li>
<li><p><a class="reference internal" href="#getting-extra-plugins" id="id104">Getting Extra&nbsp;Plugins</a></p></li>
<li>
<p><a class="reference internal" href="#advanced-features" id="id105">Advanced&nbsp;Features</a></p>
<ul>
<li><p><a class="reference internal" href="#debugging" id="id106">Debugging</a></p></li>
<li><p><a class="reference internal" href="#shell-tab-completion" id="id107">Shell Tab&nbsp;Completion</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#license" id="id108">License</a></p></li>
</ul>
</div>
<section id="all-you-need-to-know"><h2><a class="toc-backref" href="#id11">All You Need to&nbsp;Know</a></h2>
<p>After you have Nikola <a class="reference external" href="https://getnikola.com/getting-started.html">installed</a>:</p>
<dl>
<dt>Create an empty site (with a setup&nbsp;wizard):</dt>
<dd>
<p><code class="docutils literal">nikola init mysite</code></p>
<p>You can create a site with demo files in it&nbsp;with <code class="docutils literal">nikola init <span class="pre">--demo</span> mysite</code></p>
<p>The rest of these commands have to be executed inside the&nbsp;new <code class="docutils literal">mysite</code> folder.</p>
</dd>
<dt>Create a&nbsp;post:</dt>
<dd>
<p><code class="docutils literal">nikola new_post</code></p>
</dd>
<dt>Edit the&nbsp;post:</dt>
<dd>
<p>The filename should be in the output of the previous command.
You can also&nbsp;use <code class="docutils literal">nikola new_post <span class="pre">-e</span></code> to open an editor&nbsp;automatically.</p>
</dd>
<dt>Build the&nbsp;site:</dt>
<dd>
<p><code class="docutils literal">nikola build</code></p>
</dd>
<dt>Start the test server and open a&nbsp;browser:</dt>
<dd>
<p><code class="docutils literal">nikola serve <span class="pre">-b</span></code></p>
</dd>
</dl>
<p>That should get you going. If you want to know more, this manual will always be here
for&nbsp;you.</p>
<p><span class="caps">DON</span>&#8217;T <span class="caps">READ</span> <span class="caps">THIS</span> <span class="caps">MANUAL</span>. <span class="caps">IF</span> <span class="caps">YOU</span> <span class="caps">NEED</span> <span class="caps">TO</span> <span class="caps">READ</span> <span class="caps">IT</span> I <span class="caps">FAILED</span>, <span class="caps">JUST</span> <span class="caps">USE</span> <span class="caps">THE</span>&nbsp;<span class="caps">THING</span>.</p>
<p>On the other hand, if anything about Nikola is not as obvious as it should be, by all
means tell me about it&nbsp;:-)</p>
</section><section id="what-s-nikola-and-what-can-you-do-with-it"><h2><a class="toc-backref" href="#id12">What&#8217;s Nikola and what can you do with&nbsp;it?</a></h2>
<p>Nikola is a static website and blog generator. The very short explanation is
that it takes some texts you wrote, and uses them to create a folder full
of <span class="caps">HTML</span> files. If you upload that folder to a server, you will have a
rather full-featured website, done with little&nbsp;effort.</p>
<p>Its original goal is to create blogs, but it supports most kind of sites, and
can be used as a <span class="caps">CMS</span>, as long as what you present to the user is your own content
instead of something the user&nbsp;generates.</p>
<p>Nikola can&nbsp;do:</p>
<ul class="simple">
<li><p>A blog (<a class="reference external" href="http://ralsina.me">example</a>)</p></li>
<li><p>Your company&#8217;s&nbsp;site</p></li>
<li><p>Your personal&nbsp;site</p></li>
<li><p>A software project&#8217;s site (<a class="reference external" href="https://getnikola.com">example</a>)</p></li>
<li><p>A book&#8217;s&nbsp;site</p></li>
</ul>
<p>Since Nikola-based sites don&#8217;t run any code on the server, there is no way to process
user input in&nbsp;forms.</p>
<p>Nikola can&#8217;t&nbsp;do:</p>
<ul class="simple">
<li><p>Twitter</p></li>
<li><p>Facebook</p></li>
<li><p>An Issue&nbsp;tracker</p></li>
<li><p>Anything with forms, really (except for <a class="reference internal" href="#comments">comments</a>!)</p></li>
</ul>
<p>Keep in mind that &#8220;static&#8221; doesn&#8217;t mean <strong>boring</strong>. You can have animations
or whatever fancy <span class="caps">CSS3</span>/<span class="caps">HTML5</span> thingie you like. It only means all that <span class="caps">HTML</span> is
generated already before being uploaded. On the other hand, Nikola sites will
tend to be content-heavy. What Nikola is good at is at putting what you write
out&nbsp;there.</p>
</section><section id="getting-help"><h2><a class="toc-backref" href="#id13">Getting&nbsp;Help</a></h2>
<p class="lead"><a class="reference external" href="https://getnikola.com/contact.html">Get help&nbsp;here!</a></p>
<p><span class="caps">TL</span>;<span class="caps">DR</span>:</p>
<ul class="simple">
<li><p>You can file bugs at <a class="reference external" href="https://github.com/getnikola/nikola/issues">the issue&nbsp;tracker</a></p></li>
<li><p>You can discuss Nikola at the <a class="reference external" href="http://groups.google.com/group/nikola-discuss">nikola-discuss google&nbsp;group</a></p></li>
<li><p>You can subscribe to <a class="reference external" href="https://getnikola.com/blog">the Nikola&nbsp;Blog</a></p></li>
<li><p>You can follow <a class="reference external" href="https://twitter.com/GetNikola">Nikola on&nbsp;Twitter</a></p></li>
</ul></section><section id="why-static"><h2><a class="toc-backref" href="#id14">Why&nbsp;Static?</a></h2>
<p>Most &#8220;modern&#8221; websites are <em>dynamic</em> in the sense that the contents of the site
live in a database, and are converted into presentation-ready <span class="caps">HTML</span> only when a
user wants to see the page. That&#8217;s great. However, it presents some minor issues
that static site generators try to&nbsp;solve.</p>
<p>In a static site, the whole site, every page, <em>everything</em>, is created before
the first user even sees it and uploaded to the server as a simple folder full
of <span class="caps">HTML</span> files (and images, <span class="caps">CSS</span>,&nbsp;etc).</p>
<p>So, let&#8217;s see some reasons for using static&nbsp;sites:</p>
<dl>
<dt>Security</dt>
<dd>
<p>Dynamic sites are prone to experience security issues. The solution for that
is constant vigilance, keeping the software behind the site updated, and
plain old good luck. The stack of software used to provide a static site,
like those Nikola generates, is much smaller (Just a web&nbsp;server).</p>
<p>A smaller software stack implies less security&nbsp;risk.</p>
</dd>
<dt>Obsolescence</dt>
<dd>
<p>If you create a site using (for example) WordPress, what happens when WordPress
releases a new version? You have to update your WordPress. That is not optional,
because of security and support issues. If I release a new version of Nikola, and
you don&#8217;t update, <em>nothing</em> happens. You can continue to use the version you
have now forever, no&nbsp;problems.</p>
<p>Also, in the longer term, the very foundations of dynamic sites shift. Can you
still deploy a blog software based on Django 0.96? What happens when your
host stops supporting the <span class="caps">PHP</span> version you rely on? And so&nbsp;on.</p>
<p>You may say those are long term issues, or that they won&#8217;t matter for years. Well,
I believe things should work forever, or as close to it as we can make them.
Nikola&#8217;s static output and its input files will work as long as you can install
Python 3.4 or newer under Linux, Windows, or <span class="caps">OS</span> X and can find a server
that sends files over <span class="caps">HTTP</span>. That&#8217;s probably 10 or 15 years at&nbsp;least.</p>
<p>Also, static sites are easily handled by the Internet&nbsp;Archive.</p>
</dd>
<dt>Cost and&nbsp;Performance</dt>
<dd>
<p>On dynamic sites, every time a reader wants a page, a whole lot of database
queries are made. Then a whole pile of code chews that data, and <span class="caps">HTML</span> is
produced, which is sent to the user. All that requires <span class="caps">CPU</span> and&nbsp;memory.</p>
<p>On a static site, the highly optimized <span class="caps">HTTP</span> server reads the file from disk
(or, if it&#8217;s a popular file, from disk cache), and sends it to the user. You could
probably serve a bazillion (technical term) page views from a phone using
static&nbsp;sites.</p>
</dd>
<dt>Lock-in</dt>
<dd>
<p>On server-side blog platforms, sometimes you can&#8217;t export your own data, or
it&#8217;s in strange formats you can&#8217;t use in other services. I have switched
blogging platforms from Advogato to PyCs to two homebrew systems, to Nikola,
and have never lost a file, a <span class="caps">URL</span>, or a comment. That&#8217;s because I have <em>always</em>
had my own data in a format of my&nbsp;choice.</p>
<p>With Nikola, you own your files, and you can do anything with&nbsp;them.</p>
</dd>
</dl></section><section id="components"><h2><a class="toc-backref" href="#id15">Components</a></h2>
<p>Nikola provides the following&nbsp;features:</p>
<ul class="simple">
<li>
<p>Blog support,&nbsp;including:</p>
<ul>
<li><p>Indexes</p></li>
<li><p><span class="caps">RSS</span> and Atom&nbsp;feeds</p></li>
<li><p>Tags and categories, with pages and&nbsp;feeds</p></li>
<li><p>Author pages and feeds (not generated&nbsp;if <code class="docutils literal">ENABLE_AUTHOR_PAGES</code> is set&nbsp;to <code class="docutils literal">False</code> or there is only one&nbsp;author)</p></li>
<li><p>Archives with custom granularity (yearly or&nbsp;monthly)</p></li>
<li><p><a class="reference internal" href="#comments">Comments</a></p></li>
</ul>
</li>
<li><p>Static pages (not part of the&nbsp;blog)</p></li>
<li><p><a class="reference internal" href="#math">Math</a> rendering (via&nbsp;MathJax)</p></li>
<li><p>Custom output paths for generated&nbsp;pages</p></li>
<li><p>Pretty URLs&nbsp;(without <code class="docutils literal">.html</code>) that don’t need web server&nbsp;support</p></li>
<li><p>Easy page template&nbsp;customization</p></li>
<li><p>Internationalization support (my own blog is English and&nbsp;Spanish)</p></li>
<li><p>Sitemap generation (for search&nbsp;engines)</p></li>
<li><p>Custom deployment (if it’s a command, you can use&nbsp;it)</p></li>
<li><p>GitHub Pages&nbsp;deployment</p></li>
<li><p>Themes, easy appearance&nbsp;customization</p></li>
<li><p><a class="reference external" href="#supported-input-formats">Multiple input formats</a>, including reStructuredText and&nbsp;Markdown</p></li>
<li><p>Easy-to-create image&nbsp;galleries</p></li>
<li><p>Image thumbnail&nbsp;generation</p></li>
<li><p>Support for displaying source code&nbsp;listings</p></li>
<li><p>Custom&nbsp;search</p></li>
<li><p>Asset (<span class="caps">CSS</span>/<span class="caps">JS</span>)&nbsp;bundling</p></li>
<li><p>gzip compression (for sending via your web&nbsp;server)</p></li>
<li><p>Open Graph, Twitter&nbsp;Cards</p></li>
<li><p>Hyphenation</p></li>
<li><p>Custom <a class="reference internal" href="#post-processing-filters">post processing filters</a> (eg. for minifying files or better&nbsp;typography)</p></li>
</ul></section><section id="getting-started"><h2><a class="toc-backref" href="#id16">Getting&nbsp;Started</a></h2>
<p class="lead">To set Nikola up and create your first site, read the <a class="reference external" href="https://getnikola.com/getting-started.html">Getting Started Guide</a>.</p>
</section><section id="creating-a-blog-post"><h2><a class="toc-backref" href="#id17">Creating a Blog&nbsp;Post</a></h2>
<aside class="sidebar"><p class="sidebar-title">Magic&nbsp;Links</p>
<p>You will want to do things like &#8220;link from one post to another&#8221; or &#8220;link to an image gallery&#8221;,
etc. Sure, you can just figure out the URLs for each thing and use that. Or you can use
Nikola&#8217;s special link URLs. Those are done using the&nbsp;syntax <code class="docutils literal"><span class="pre">link://kind/name</span></code> and
a full list of the included ones is <a class="reference external" href="../path-handlers/">here</a> (<span class="caps">BTW</span>, I linked
to that&nbsp;using <code class="docutils literal"><span class="pre">link://slug/path-handlers</span></code>).</p>
<p>Note that magic links with spaces won’t work with some input formats (eg.
reST), so you should use slugs there&nbsp;(eg. <code class="docutils literal"><span class="pre">link://tag/some-tag</span></code> instead&nbsp;of
<code class="docutils literal"><span class="pre">link://tag/Some</span> Tag</code>)</p>
</aside><p>To create a new post, the easiest way is to&nbsp;run <code class="docutils literal">nikola new_post</code>. You  will
be asked for a title for your post, and it will tell you where the post&#8217;s file
is&nbsp;located.</p>
<p>By default, that file will contain also some extra information about your post (&#8220;the metadata&#8221;).
It can be placed in a separate file by using&nbsp;the <code class="docutils literal"><span class="pre">-2</span></code> option, but it&#8217;s generally
easier to keep it in a single&nbsp;location.</p>
<p>The contents of your post have to be written (by default) in <a class="reference external" href="http://docutils.sf.net">reStructuredText</a>
but you can use a lot of different markups using&nbsp;the <code class="docutils literal"><span class="pre">-f</span></code> option.</p>
<p>Currently, Nikola supports reStructuredText, Markdown, Jupyter Notebooks, <span class="caps">HTML</span> as input,
can also use Pandoc for conversion, and has support for BBCode, CreoleWiki, txt2tags, Textile
and more via plugins — for more details, read the <a class="reference external" href="#multiple-input-formats">input format documentation</a>.
You can learn reStructuredText syntax with the <a class="reference external" href="https://getnikola.com/quickstart.html">reST quickstart</a>.</p>
<p>Please note that Nikola does not support encodings other than <span class="caps">UTF</span>-8. Make sure
to convert your input files to that encoding to avoid issues.  It will prevent
bugs, and Nikola will write <span class="caps">UTF</span>-8 output&nbsp;anyway.</p>
<p>You can control what markup compiler is used for each file extension with&nbsp;the <code class="docutils literal">COMPILERS</code>
option. The default configuration expects them to be placed&nbsp;in <code class="docutils literal">posts</code> but that can be
changed (see below,&nbsp;the <code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code> options)</p>
<p>This is how it&nbsp;works:</p>
<pre class="code console"><a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-1" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-1"></a><span class="gp">$ </span>nikola new_post
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-2" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-2"></a><span class="go">Creating New Post</span>
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-3" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-3"></a><span class="go">-----------------</span>
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-4" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-4"></a>
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-5" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-5"></a><span class="go">Title: How to make money</span>
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-6" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-6"></a><span class="go">Scanning posts....done!</span>
<a id="rest_code_dfbd6156e6dd42a9a7b779712323cf20-7" name="rest_code_dfbd6156e6dd42a9a7b779712323cf20-7"></a><span class="go">INFO: new_post: Your post's text is at: posts/how-to-make-money.rst</span>
</pre>
<p>The content of that file is as&nbsp;follows:</p>
<pre class="code restructuredtext"><a id="rest_code_21ca9f24357844f690a89dee21bd604f-1" name="rest_code_21ca9f24357844f690a89dee21bd604f-1"></a><span class="cp">.. title: How to make money</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-2" name="rest_code_21ca9f24357844f690a89dee21bd604f-2"></a><span class="cp">.. slug: how-to-make-money</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-3" name="rest_code_21ca9f24357844f690a89dee21bd604f-3"></a><span class="cp">.. date: 2012-09-15 19:52:05 UTC</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-4" name="rest_code_21ca9f24357844f690a89dee21bd604f-4"></a><span class="cp">.. tags:</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-5" name="rest_code_21ca9f24357844f690a89dee21bd604f-5"></a><span class="cp">.. link:</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-6" name="rest_code_21ca9f24357844f690a89dee21bd604f-6"></a><span class="cp">.. description:</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-7" name="rest_code_21ca9f24357844f690a89dee21bd604f-7"></a><span class="cp">.. type: text</span>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-8" name="rest_code_21ca9f24357844f690a89dee21bd604f-8"></a>
<a id="rest_code_21ca9f24357844f690a89dee21bd604f-9" name="rest_code_21ca9f24357844f690a89dee21bd604f-9"></a>Write your post here.
</pre>
<p>You can edit these files with your favorite text editor, and once you are happy
with the contents, generate the pages&nbsp;using <code class="docutils literal">nikola build</code>.</p>
<p>The post page is generated by default using&nbsp;the <code class="docutils literal">post.tmpl</code> template, which you can use
to customize the output. You can also customize paths and the template filename
itself — see <cite>How does Nikola decide where posts should go?</cite></p>
<section id="metadata-fields"><h3><a class="toc-backref" href="#id18">Metadata&nbsp;fields</a></h3>
<p>Nikola supports many metadata fields in posts. All of them are
translatable and almost all are&nbsp;optional.</p>
<section id="basic"><h4><a class="toc-backref" href="#id19">Basic</a></h4>
<dl class="simple">
<dt>title</dt>
<dd>
<p>Title of the post.&nbsp;(required)</p>
</dd>
<dt>slug</dt>
<dd>
<p>Slug of the post. Used as the last component of the page <span class="caps">URL</span>.  We recommend
and default to using a restricted character set&nbsp;(<code class="docutils literal"><span class="pre">a-z0-9-_</span></code>) because
other symbols may cause issues in URLs.&nbsp;(required)</p>
</dd>
<dt>date</dt>
<dd>
<p>Date of the post, defaults to now. Multiple date formats are accepted.
Adding a timezone is recommended. (required for&nbsp;posts)</p>
</dd>
<dt>tags</dt>
<dd>
<p>Comma-separated tags of the&nbsp;post.</p>
</dd>
<dt>status</dt>
<dd>
<p>Can be set&nbsp;to <code class="docutils literal">published</code> (default), <code class="docutils literal">featured</code>, <code class="docutils literal">draft</code>,&nbsp;or <code class="docutils literal">private</code>.</p>
</dd>
<dt>has_math</dt>
<dd>
<p>If set&nbsp;to <code class="docutils literal">true</code> or <code class="docutils literal">yes</code>, MathJax resp. KaTeX support is enabled
for this&nbsp;post.</p>
</dd>
<dt>category</dt>
<dd>
<p>Like tags, except each post can have only one, and they usually have
more descriptive&nbsp;names.</p>
</dd>
<dt>guid</dt>
<dd>
<p>String used as <span class="caps">GUID</span> in <span class="caps">RSS</span> feeds and as <span class="caps">ID</span> in Atom feeds instead of the&nbsp;permalink.</p>
</dd>
<dt>link</dt>
<dd>
<p>Link to original source for content. May be displayed by some&nbsp;themes.</p>
</dd>
<dt>description</dt>
<dd>
<p>Description of the post. Used&nbsp;in <code class="docutils literal">&lt;meta&gt;</code> tags for&nbsp;<span class="caps">SEO</span>.</p>
</dd>
<dt>type</dt>
<dd>
<p>Type of the post. See <a class="reference internal" href="#post-types">Post Types</a> for details.  Whatever you set here
(prepended&nbsp;with <code class="docutils literal">post-</code>) will become a <span class="caps">CSS</span> class of&nbsp;the <code class="docutils literal">&lt;article&gt;</code>
element for this post.  Defaults&nbsp;to <code class="docutils literal">text</code> (resulting in&nbsp;a <code class="docutils literal"><span class="pre">post-text</span></code>
class)</p>
</dd>
</dl></section><section id="extra"><h4><a class="toc-backref" href="#id20">Extra</a></h4>
<dl>
<dt>author</dt>
<dd>
<p>Author of the post, will be used in the <span class="caps">RSS</span> feed and possibly in the post
display&nbsp;(theme-dependent)</p>
</dd>
<dt>enclosure</dt>
<dd>
<p>Add an enclosure to this post when it&#8217;s used in <span class="caps">RSS</span>. See <a class="reference external" href="http://en.wikipedia.org/wiki/RSS_enclosure">more information about&nbsp;enclosures</a></p>
</dd>
<dt>data</dt>
<dd>
<p>Path to an external data file (<span class="caps">JSON</span>/<span class="caps">YAML</span>/<span class="caps">TOML</span> dictionary), relative&nbsp;to <code class="docutils literal">conf.py</code>.
Its keys are available for templates&nbsp;as <code class="docutils literal"><span class="pre">post.data('key')</span></code>.</p>
<p>Translated posts can have different values for this field, and the correct one will be&nbsp;used.</p>
<p>See <a class="reference internal" href="#the-global-context-and-data-files">The Global Context and Data files</a> for more details.  This is
especially useful used in combination with <a class="reference internal" href="#shortcodes">shortcodes</a>.</p>
</dd>
<dt>filters</dt>
<dd>
<p>See the <a class="reference internal" href="#post-processing-filters">Post Processing Filters</a>&nbsp;section.</p>
</dd>
<dt>hidetitle</dt>
<dd>
<p>Set &#8220;True&#8221; if you do not want to see the <strong>page</strong> title as a
heading of the output html file (does not work for&nbsp;posts).</p>
</dd>
<dt>hyphenate</dt>
<dd>
<p>Set &#8220;True&#8221; if you want this document to be hyphenated even if you have
hyphenation disabled by&nbsp;default.</p>
</dd>
<dt>nocomments</dt>
<dd>
<p>Set to &#8220;True&#8221; to disable comments.&nbsp;Example:</p>
</dd>
<dt>pretty_url</dt>
<dd>
<p>Set to &#8220;False&#8221; to disable pretty <span class="caps">URL</span> for this page.&nbsp;Example:</p>
</dd>
<dt>previewimage</dt>
<dd>
<p>Designate a preview or other representative image path relative to BASE_URL
for use with Open Graph for posts. Adds the image when sharing on social
media, feeds, and many other&nbsp;uses.</p>
<pre class="code restructuredtext"><a id="rest_code_77e94ab755a3492a9d7a1b90181a190e-1" name="rest_code_77e94ab755a3492a9d7a1b90181a190e-1"></a><span class="cp">.. previewimage: /images/looks_great_on_facebook.png</span>
</pre>
<p>The image can be of any size and dimension (services will crop and adapt)
but should less than 1 <span class="caps">MB</span> and be larger than 300x300 (ideally&nbsp;600x600).</p>
<p>This image is displayed&nbsp;by <code class="docutils literal">bootblog4</code> for featured posts (see <a class="reference internal" href="#featured-posts">Featured
Posts</a> for&nbsp;details).</p>
</dd>
<dt>template</dt>
<dd>
<p>Change the template used to render this page/post specific page. That
template needs to either be part of the theme, or be placed in&nbsp;a
<code class="docutils literal">templates/</code> folder inside your&nbsp;site.</p>
<pre class="code restructuredtext"><a id="rest_code_d8a6345453154b8cb80967dc4de4d4ee-1" name="rest_code_d8a6345453154b8cb80967dc4de4d4ee-1"></a><span class="cp">.. template: foobar.tmpl</span>
</pre>
</dd>
<dt>updated</dt>
<dd>
<p>The last time this post was updated, defaults to the&nbsp;post’s <code class="docutils literal">date</code>
metadata value. It is not displayed by default in most themes, including
the defaults — you can&nbsp;use <code class="docutils literal">post.formatted_updated(date_format)</code> (and
perhaps&nbsp;check <code class="docutils literal">if post.updated != post.date</code>) in your post template to
show&nbsp;it.</p>
</dd>
</dl>
<p>To add these metadata fields to all new posts by default, you can set the&nbsp;variable <code class="docutils literal">ADDITIONAL_METADATA</code> in your configuration.  For example, you can
add the author metadata to all new posts by default, by adding the following
to your&nbsp;configuration:</p>
<pre class="code python"><a id="rest_code_011e1d4badf045629591a8b34a6227c1-1" name="rest_code_011e1d4badf045629591a8b34a6227c1-1"></a><span class="n">ADDITIONAL_METADATA</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_011e1d4badf045629591a8b34a6227c1-2" name="rest_code_011e1d4badf045629591a8b34a6227c1-2"></a>    <span class="s1">'author'</span><span class="p">:</span> <span class="s1">'John Doe'</span>
<a id="rest_code_011e1d4badf045629591a8b34a6227c1-3" name="rest_code_011e1d4badf045629591a8b34a6227c1-3"></a><span class="p">}</span>
</pre>
<dl>
<dt>url_type</dt>
<dd>
<p>Change the URL_TYPE setting for the given page only. Useful for eg. error
pages which cannot use relative&nbsp;URLs.</p>
<pre class="code restructuredtext"><a id="rest_code_05e8c2e29ab84f03ab4ddbcc33048198-1" name="rest_code_05e8c2e29ab84f03ab4ddbcc33048198-1"></a><span class="cp">.. url_type: full_path</span>
</pre>
</dd>
</dl></section></section><section id="metadata-formats"><h3><a class="toc-backref" href="#id21">Metadata&nbsp;formats</a></h3>
<p>Metadata can be in different formats.
Current Nikola versions experimentally supports other metadata formats that make it more compatible with
other static site generators. The currently supported metadata formats&nbsp;are:</p>
<ul class="simple">
<li><p>reST-style comments&nbsp;(<code class="docutils literal">.. name: value</code> — default&nbsp;format)</p></li>
<li><p>Two-file format (reST-style, <span class="caps">YAML</span>,&nbsp;<span class="caps">TOML</span>)</p></li>
<li><p>Jupyter Notebook&nbsp;metadata</p></li>
<li><p><span class="caps">YAML</span>,&nbsp;between <code class="docutils literal"><span class="pre">---</span></code> (Jekyll,&nbsp;Hugo)</p></li>
<li><p><span class="caps">TOML</span>,&nbsp;between <code class="docutils literal">+++</code> (Hugo)</p></li>
<li><p>reST docinfo&nbsp;(Pelican)</p></li>
<li><p>Markdown metadata extension&nbsp;(Pelican)</p></li>
<li><p><span class="caps">HTML</span> meta tags&nbsp;(Pelican)</p></li>
</ul>
<p>You can add arbitrary meta fields in any&nbsp;format.</p>
<p>When you create new posts, by default the metadata will be created as reST style comments.
If you prefer a different format, you can set&nbsp;the <code class="docutils literal">METADATA_FORMAT</code> to one of these&nbsp;values:</p>
<ul class="simple">
<li><p><code class="docutils literal">"Nikola"</code>: reST comments, wrapped in a <span class="caps">HTML</span> comment if needed&nbsp;(default)</p></li>
<li><p><code class="docutils literal">"YAML"</code>: <span class="caps">YAML</span> wrapped in&nbsp;&#8221;&#8212;-&#8220;</p></li>
<li><p><code class="docutils literal">"TOML"</code>: <span class="caps">TOML</span> wrapped in&nbsp;&#8221;+++&#8221;</p></li>
<li><p><code class="docutils literal">"Pelican"</code>: Native markdown metadata or reST docinfo fields. Nikola style for other&nbsp;formats.</p></li>
</ul>
<section id="rest-style-comments"><h4><a class="toc-backref" href="#id22">reST-style&nbsp;comments</a></h4>
<p>The “traditional” and default meta field format&nbsp;is:</p>
<pre class="code text"><a id="rest_code_3a857bf6215d4bcbb66648c29c02d3a8-1" name="rest_code_3a857bf6215d4bcbb66648c29c02d3a8-1"></a>.. name: value
</pre>
<p>If you are not using reStructuredText, make sure the fields are in a <span class="caps">HTML</span> comment in&nbsp;output.</p>
<p>Also, note that this format does not support any multi-line values. Try <span class="caps">YAML</span> or reST docinfo if you need&nbsp;those.</p>
</section><section id="two-file-format"><h4><a class="toc-backref" href="#id23">Two-file&nbsp;format</a></h4>
<p>Meta information can also be specified in&nbsp;separate <code class="docutils literal">.meta</code> files. Those support reST-style metadata, with names and custom fields. They look like the beginning of our reST&nbsp;files:</p>
<pre class="code text"><a id="rest_code_3341aaeefda841b19b86b2733d147493-1" name="rest_code_3341aaeefda841b19b86b2733d147493-1"></a>.. title: How to make money
<a id="rest_code_3341aaeefda841b19b86b2733d147493-2" name="rest_code_3341aaeefda841b19b86b2733d147493-2"></a>.. slug: how-to-make-money
<a id="rest_code_3341aaeefda841b19b86b2733d147493-3" name="rest_code_3341aaeefda841b19b86b2733d147493-3"></a>.. date: 2012-09-15 19:52:05 UTC
</pre>
<p>You can also use <span class="caps">YAML</span> or <span class="caps">TOML</span> metadata inside those (with the appropriate&nbsp;markers).</p>
</section><section id="jupyter-notebook-metadata"><h4><a class="toc-backref" href="#id24">Jupyter Notebook&nbsp;metadata</a></h4>
<p>Jupyter posts can store meta information&nbsp;inside <code class="docutils literal">.ipynb</code> files by using&nbsp;the <code class="docutils literal">nikola</code> key inside notebook metadata. It can be edited by using <em>Edit → Edit Notebook Metadata</em> in Jupyter. Note that values are currently only strings. Sample metadata (Jupyter-specific information&nbsp;omitted):</p>
<pre class="code json"><a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-1" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-1"></a><span class="p">{</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-2" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-2"></a>    <span class="nt">"nikola"</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-3" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-3"></a>        <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"How to make money"</span><span class="p">,</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-4" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-4"></a>        <span class="nt">"slug"</span><span class="p">:</span> <span class="s2">"how-to-make-money"</span><span class="p">,</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-5" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-5"></a>        <span class="nt">"date"</span><span class="p">:</span> <span class="s2">"2012-09-15 19:52:05 UTC"</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-6" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-6"></a>    <span class="p">}</span>
<a id="rest_code_a540ee94db9e4198b5fb161da1b53c4b-7" name="rest_code_a540ee94db9e4198b5fb161da1b53c4b-7"></a><span class="p">}</span>
</pre></section><section id="yaml-metadata"><h4><a class="toc-backref" href="#id25"><span class="caps">YAML</span>&nbsp;metadata</a></h4>
<p><span class="caps">YAML</span> metadata should be wrapped by&nbsp;a <code class="docutils literal"><span class="pre">---</span></code> separator (three dashes) and in that case, the usual <span class="caps">YAML</span> syntax is&nbsp;used:</p>
<pre class="code yaml"><a id="rest_code_98063d0621694cd4bce4712774be1276-1" name="rest_code_98063d0621694cd4bce4712774be1276-1"></a><span class="nn">---</span>
<a id="rest_code_98063d0621694cd4bce4712774be1276-2" name="rest_code_98063d0621694cd4bce4712774be1276-2"></a><span class="nt">title</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">How to make money</span>
<a id="rest_code_98063d0621694cd4bce4712774be1276-3" name="rest_code_98063d0621694cd4bce4712774be1276-3"></a><span class="nt">slug</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">how-to-make-money</span>
<a id="rest_code_98063d0621694cd4bce4712774be1276-4" name="rest_code_98063d0621694cd4bce4712774be1276-4"></a><span class="nt">date</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2012-09-15 19:52:05 UTC</span>
<a id="rest_code_98063d0621694cd4bce4712774be1276-5" name="rest_code_98063d0621694cd4bce4712774be1276-5"></a><span class="nn">---</span>
</pre></section><section id="toml-metadata"><h4><a class="toc-backref" href="#id26"><span class="caps">TOML</span>&nbsp;metadata</a></h4>
<p><span class="caps">TOML</span> metadata should be wrapped by a &#8220;+++&#8221; separator (three plus signs) and in that case, the usual <span class="caps">TOML</span> syntax is&nbsp;used:</p>
<pre class="code yaml"><a id="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-1" name="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-1"></a><span class="l l-Scalar l-Scalar-Plain">+++</span>
<a id="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-2" name="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-2"></a><span class="l l-Scalar l-Scalar-Plain">title = "How to make money"</span>
<a id="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-3" name="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-3"></a><span class="l l-Scalar l-Scalar-Plain">slug =  "how-to-make-money"</span>
<a id="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-4" name="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-4"></a><span class="l l-Scalar l-Scalar-Plain">date = "2012-09-15 19:52:05 UTC"</span>
<a id="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-5" name="rest_code_9bb20d8e968b41e3ba88400f6fcc6eca-5"></a><span class="l l-Scalar l-Scalar-Plain">+++</span>
</pre></section><section id="rest-docinfo"><h4><a class="toc-backref" href="#id27">reST&nbsp;docinfo</a></h4>
<p>Nikola can extract metadata from reStructuredText docinfo fields and the document itself,&nbsp;too:</p>
<pre class="code restructuredtext"><a id="rest_code_79a92504160c4109b76f61403288c143-1" name="rest_code_79a92504160c4109b76f61403288c143-1"></a><span class="gh">How to make money</span>
<a id="rest_code_79a92504160c4109b76f61403288c143-2" name="rest_code_79a92504160c4109b76f61403288c143-2"></a><span class="gh">=================</span>
<a id="rest_code_79a92504160c4109b76f61403288c143-3" name="rest_code_79a92504160c4109b76f61403288c143-3"></a>
<a id="rest_code_79a92504160c4109b76f61403288c143-4" name="rest_code_79a92504160c4109b76f61403288c143-4"></a><span class="nc">:slug:</span> how-to-make-money
<a id="rest_code_79a92504160c4109b76f61403288c143-5" name="rest_code_79a92504160c4109b76f61403288c143-5"></a><span class="nc">:date:</span> 2012-09-15 19:52:05 UTC
</pre>
<p>To do this, you&nbsp;need  <code class="docutils literal">USE_REST_DOCINFO_METADATA = True</code> in&nbsp;your <code class="docutils literal">conf.py</code>,
and Nikola will hide the docinfo fields in the output if you&nbsp;set
<code class="docutils literal">HIDE_REST_DOCINFO = True</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Keys are converted to lowercase&nbsp;automatically.</p>
<p>This setting also means that the first heading in a post will be removed
and considered a title. This is important if you’re mixing metadata
styles. This can be solved by putting a reST comment before your&nbsp;title.</p>
</div>
</section><section id="markdown-metadata"><h4><a class="toc-backref" href="#id28">Markdown&nbsp;metadata</a></h4>
<p>Markdown Metadata only works in Markdown files, and requires&nbsp;the <code class="docutils literal">markdown.extensions.meta</code> extension
(see <a class="reference external" href="#markdown">MARKDOWN_EXTENSIONS</a>). The exact format is described in
the <a class="reference external" href="https://pythonhosted.org/Markdown/extensions/meta_data.html">markdown metadata extension&nbsp;docs.</a></p>
<pre class="code text"><a id="rest_code_4965691d3636406d9fe6c2ecbf56854e-1" name="rest_code_4965691d3636406d9fe6c2ecbf56854e-1"></a>title: How to make money
<a id="rest_code_4965691d3636406d9fe6c2ecbf56854e-2" name="rest_code_4965691d3636406d9fe6c2ecbf56854e-2"></a>slug: how-to-make-money
<a id="rest_code_4965691d3636406d9fe6c2ecbf56854e-3" name="rest_code_4965691d3636406d9fe6c2ecbf56854e-3"></a>date: 2012-09-15 19:52:05 UTC
</pre>
<p>Note that keys are converted to lowercase&nbsp;automatically.</p>
</section><section id="html-meta-tags"><h4><a class="toc-backref" href="#id29"><span class="caps">HTML</span> meta&nbsp;tags</a></h4>
<p>For <span class="caps">HTML</span> source files, metadata will be extracted&nbsp;from <code class="docutils literal">meta</code> tags, and the title from&nbsp;the <code class="docutils literal">title</code> tag.
Following Pelican&#8217;s behaviour, tags can be put in a &#8220;tags&#8221; meta tag or in a &#8220;keywords&#8221; meta tag.&nbsp;Example:</p>
<pre class="code html"><a id="rest_code_ce448ca1908b445b957c5e94de286979-1" name="rest_code_ce448ca1908b445b957c5e94de286979-1"></a><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-2" name="rest_code_ce448ca1908b445b957c5e94de286979-2"></a>    <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-3" name="rest_code_ce448ca1908b445b957c5e94de286979-3"></a>        <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My super title<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-4" name="rest_code_ce448ca1908b445b957c5e94de286979-4"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"tags"</span> <span class="na">content</span><span class="o">=</span><span class="s">"thats, awesome"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-5" name="rest_code_ce448ca1908b445b957c5e94de286979-5"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"date"</span> <span class="na">content</span><span class="o">=</span><span class="s">"2012-07-09 22:28"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-6" name="rest_code_ce448ca1908b445b957c5e94de286979-6"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"modified"</span> <span class="na">content</span><span class="o">=</span><span class="s">"2012-07-10 20:14"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-7" name="rest_code_ce448ca1908b445b957c5e94de286979-7"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"category"</span> <span class="na">content</span><span class="o">=</span><span class="s">"yeah"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-8" name="rest_code_ce448ca1908b445b957c5e94de286979-8"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"authors"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Conan Doyle"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-9" name="rest_code_ce448ca1908b445b957c5e94de286979-9"></a>        <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">"summary"</span> <span class="na">content</span><span class="o">=</span><span class="s">"Short version for index and feeds"</span> <span class="p">/&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-10" name="rest_code_ce448ca1908b445b957c5e94de286979-10"></a>    <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-11" name="rest_code_ce448ca1908b445b957c5e94de286979-11"></a>    <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-12" name="rest_code_ce448ca1908b445b957c5e94de286979-12"></a>        This is the content of my super blog post.
<a id="rest_code_ce448ca1908b445b957c5e94de286979-13" name="rest_code_ce448ca1908b445b957c5e94de286979-13"></a>    <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<a id="rest_code_ce448ca1908b445b957c5e94de286979-14" name="rest_code_ce448ca1908b445b957c5e94de286979-14"></a><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></section><section id="mapping-metadata-from-other-formats"><h4><a class="toc-backref" href="#id30">Mapping metadata from other&nbsp;formats</a></h4>
<p>If you import posts from other engines, those may not work with Nikola out of the box due to differing names. However, you can create a mapping to convert meta field names from those formats into what Nikola&nbsp;expects.</p>
<p>For Pelican,&nbsp;use:</p>
<pre class="code python"><a id="rest_code_61fda10ff97b40c993b63e176a536137-1" name="rest_code_61fda10ff97b40c993b63e176a536137-1"></a><span class="n">METADATA_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_61fda10ff97b40c993b63e176a536137-2" name="rest_code_61fda10ff97b40c993b63e176a536137-2"></a>    <span class="s2">"rest_docinfo"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span> <span class="s2">"modified"</span><span class="p">:</span> <span class="s2">"updated"</span><span class="p">},</span>
<a id="rest_code_61fda10ff97b40c993b63e176a536137-3" name="rest_code_61fda10ff97b40c993b63e176a536137-3"></a>    <span class="s2">"markdown_metadata"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span> <span class="s2">"modified"</span><span class="p">:</span> <span class="s2">"updated"</span><span class="p">}</span>
<a id="rest_code_61fda10ff97b40c993b63e176a536137-4" name="rest_code_61fda10ff97b40c993b63e176a536137-4"></a>    <span class="s2">"html_metadata"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"summary"</span><span class="p">:</span> <span class="s2">"description"</span><span class="p">,</span> <span class="s2">"modified"</span><span class="p">:</span> <span class="s2">"updated"</span><span class="p">}</span>
<a id="rest_code_61fda10ff97b40c993b63e176a536137-5" name="rest_code_61fda10ff97b40c993b63e176a536137-5"></a><span class="p">}</span>
</pre>
<p>For Hugo,&nbsp;use:</p>
<pre class="code python"><a id="rest_code_2e491bd28ca744b8a0b02ffee96d7563-1" name="rest_code_2e491bd28ca744b8a0b02ffee96d7563-1"></a><span class="n">METADATA_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_2e491bd28ca744b8a0b02ffee96d7563-2" name="rest_code_2e491bd28ca744b8a0b02ffee96d7563-2"></a>    <span class="s2">"yaml"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"lastmod"</span><span class="p">:</span> <span class="s2">"updated"</span><span class="p">},</span>
<a id="rest_code_2e491bd28ca744b8a0b02ffee96d7563-3" name="rest_code_2e491bd28ca744b8a0b02ffee96d7563-3"></a>    <span class="s2">"toml"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"lastmod"</span><span class="p">:</span> <span class="s2">"updated"</span><span class="p">}</span>
<a id="rest_code_2e491bd28ca744b8a0b02ffee96d7563-4" name="rest_code_2e491bd28ca744b8a0b02ffee96d7563-4"></a><span class="p">}</span>
</pre>
<p>The following source names are&nbsp;supported: <code class="docutils literal">yaml</code>, <code class="docutils literal">toml</code>, <code class="docutils literal">rest_docinfo</code>, <code class="docutils literal">markdown_metadata</code>.</p>
<p>Additionally, you can&nbsp;use <code class="docutils literal">METADATA_VALUE_MAPPING</code> to perform any extra conversions on metadata for <strong>all</strong> posts of a given format&nbsp;(<code class="docutils literal">nikola</code> metadata is also supported). A few&nbsp;examples:</p>
<pre class="code python"><a id="rest_code_feb8696c502b46989189f5256e2c1bc8-1" name="rest_code_feb8696c502b46989189f5256e2c1bc8-1"></a><span class="n">METADATA_VALUE_MAPPING</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-2" name="rest_code_feb8696c502b46989189f5256e2c1bc8-2"></a>    <span class="s2">"yaml"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"keywords"</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="s1">', '</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">value</span><span class="p">)},</span>  <span class="c1"># yaml: 'keywords' list -&gt; str</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-3" name="rest_code_feb8696c502b46989189f5256e2c1bc8-3"></a>    <span class="s2">"nikola"</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-4" name="rest_code_feb8696c502b46989189f5256e2c1bc8-4"></a>        <span class="s2">"widgets"</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">', '</span><span class="p">),</span>  <span class="c1"># nikola: 'widgets' comma-separated string -&gt; list</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-5" name="rest_code_feb8696c502b46989189f5256e2c1bc8-5"></a>        <span class="s2">"tags"</span><span class="p">:</span> <span class="nb">str</span><span class="o">.</span><span class="n">lower</span>  <span class="c1"># nikola: force lowercase 'tags' (input would be string)</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-6" name="rest_code_feb8696c502b46989189f5256e2c1bc8-6"></a>     <span class="p">}</span>
<a id="rest_code_feb8696c502b46989189f5256e2c1bc8-7" name="rest_code_feb8696c502b46989189f5256e2c1bc8-7"></a><span class="p">}</span>
</pre></section></section><section id="multilingual-posts"><h3><a class="toc-backref" href="#id31">Multilingual&nbsp;posts</a></h3>
<p>If you are writing a multilingual site, you can also create a per-language
post file (for&nbsp;example: <code class="docutils literal"><span class="pre">how-to-make-money.es.txt</span></code> with the default TRANSLATIONS_PATTERN, see below).
This one can replace metadata of the default language, for&nbsp;example:</p>
<ul class="simple">
<li><p>The translated title for the post or&nbsp;page</p></li>
<li><p>A translated version of the page&nbsp;name</p></li>
</ul>
<p>The pattern used for finding translations is controlled by the
TRANSLATIONS_PATTERN variable in your configuration&nbsp;file.</p>
<p>The default is to put the language code before the file extension,
so the German translation&nbsp;of <code class="docutils literal">some_file.rst</code> should be&nbsp;named
<code class="docutils literal">some_file.de.rst</code>. This is because the TRANSLATIONS_PATTERN variable is by
default set&nbsp;to:</p>
<pre class="code python"><a id="rest_code_496068fe742342b9ac03a5c79985259b-1" name="rest_code_496068fe742342b9ac03a5c79985259b-1"></a><span class="n">TRANSLATIONS_PATTERN</span> <span class="o">=</span> <span class="s2">"</span><span class="si">{path}</span><span class="s2">.</span><span class="si">{lang}</span><span class="s2">.</span><span class="si">{ext}</span><span class="s2">"</span>
</pre>
<div class="admonition admonition-considered-languages">
<p class="admonition-title">Considered&nbsp;languages</p>
<p>Nikola will only look for translation of input files for languages
specified in the <span class="caps">TRANSLATIONS</span>&nbsp;variable.</p>
</div>
<p>In case you translate your posts, you might also want to adjust various
other settings so that the generated URLs match the translation. You can
find most places in <cite>conf.py</cite> by searching for <cite>(translatable)</cite>. For example,
you might want to localize <cite>/categories/</cite> (search for <cite>TAG_PATH</cite>), <cite>/pages/</cite>
and <cite>/posts/</cite> (search for <cite><span class="caps">POSTS</span></cite> and <cite><span class="caps">PAGES</span></cite>, or see the next section), or
how to adjust the URLs for subsequent pages for indexes (search for
<cite>INDEXES_PRETTY_PAGE_URL</cite>).</p>
<p>Nikola supports multiple languages for a post (we have almost 50 translations!). If you wish to
add support for more languages, check out <a class="reference external" href="https://www.transifex.com/projects/p/nikola/">the Transifex page for&nbsp;Nikola</a></p>
</section><section id="how-does-nikola-decide-where-posts-should-go"><h3><a class="toc-backref" href="#id32">How does Nikola decide where posts should&nbsp;go?</a></h3>
<p>The place where the post will be placed&nbsp;by <code class="docutils literal">new_post</code> (the first one that
matches the given format) and the final post destination (the first one that
matches a given file) is based on&nbsp;the <code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code> configuration
options. The exact mechanism is explained above the config options in&nbsp;the
<code class="docutils literal">conf.py</code> file, and also reproduced&nbsp;below:</p>
<pre class="code python"><a id="rest_code_972f39ed07e14063beea15d213ff5a59-1" name="rest_code_972f39ed07e14063beea15d213ff5a59-1"></a><span class="c1"># POSTS and PAGES contains (wildcard, destination, template) tuples.</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-2" name="rest_code_972f39ed07e14063beea15d213ff5a59-2"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-3" name="rest_code_972f39ed07e14063beea15d213ff5a59-3"></a><span class="c1"># The wildcard is used to generate a list of post source files</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-4" name="rest_code_972f39ed07e14063beea15d213ff5a59-4"></a><span class="c1"># (whatever/thing.rst, for example).</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-5" name="rest_code_972f39ed07e14063beea15d213ff5a59-5"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-6" name="rest_code_972f39ed07e14063beea15d213ff5a59-6"></a><span class="c1"># That fragment could have an associated metadata file (whatever/thing.meta),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-7" name="rest_code_972f39ed07e14063beea15d213ff5a59-7"></a><span class="c1"># and optionally translated files (example for Spanish, with code "es"):</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-8" name="rest_code_972f39ed07e14063beea15d213ff5a59-8"></a><span class="c1">#     whatever/thing.es.rst and whatever/thing.es.meta</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-9" name="rest_code_972f39ed07e14063beea15d213ff5a59-9"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-10" name="rest_code_972f39ed07e14063beea15d213ff5a59-10"></a><span class="c1">#     This assumes you use the default TRANSLATIONS_PATTERN.</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-11" name="rest_code_972f39ed07e14063beea15d213ff5a59-11"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-12" name="rest_code_972f39ed07e14063beea15d213ff5a59-12"></a><span class="c1"># From those files, a set of HTML fragment files will be generated:</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-13" name="rest_code_972f39ed07e14063beea15d213ff5a59-13"></a><span class="c1"># cache/whatever/thing.html (and maybe cache/whatever/thing.html.es)</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-14" name="rest_code_972f39ed07e14063beea15d213ff5a59-14"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-15" name="rest_code_972f39ed07e14063beea15d213ff5a59-15"></a><span class="c1"># These files are combined with the template to produce rendered</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-16" name="rest_code_972f39ed07e14063beea15d213ff5a59-16"></a><span class="c1"># pages, which will be placed at</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-17" name="rest_code_972f39ed07e14063beea15d213ff5a59-17"></a><span class="c1"># output/TRANSLATIONS[lang]/destination/pagename.html</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-18" name="rest_code_972f39ed07e14063beea15d213ff5a59-18"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-19" name="rest_code_972f39ed07e14063beea15d213ff5a59-19"></a><span class="c1"># where "pagename" is the "slug" specified in the metadata file.</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-20" name="rest_code_972f39ed07e14063beea15d213ff5a59-20"></a><span class="c1"># The page might also be placed in /destination/pagename/index.html</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-21" name="rest_code_972f39ed07e14063beea15d213ff5a59-21"></a><span class="c1"># if PRETTY_URLS are enabled.</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-22" name="rest_code_972f39ed07e14063beea15d213ff5a59-22"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-23" name="rest_code_972f39ed07e14063beea15d213ff5a59-23"></a><span class="c1"># The difference between POSTS and PAGES is that POSTS are added</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-24" name="rest_code_972f39ed07e14063beea15d213ff5a59-24"></a><span class="c1"># to feeds, indexes, tag lists and archives and are considered part</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-25" name="rest_code_972f39ed07e14063beea15d213ff5a59-25"></a><span class="c1"># of a blog, while PAGES are just independent HTML pages.</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-26" name="rest_code_972f39ed07e14063beea15d213ff5a59-26"></a><span class="c1">#</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-27" name="rest_code_972f39ed07e14063beea15d213ff5a59-27"></a><span class="c1"># Finally, note that destination can be translated, i.e. you can</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-28" name="rest_code_972f39ed07e14063beea15d213ff5a59-28"></a><span class="c1"># specify a different translation folder per language. Example:</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-29" name="rest_code_972f39ed07e14063beea15d213ff5a59-29"></a><span class="c1">#     PAGES = (</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-30" name="rest_code_972f39ed07e14063beea15d213ff5a59-30"></a><span class="c1">#         ("pages/*.rst", {"en": "pages", "de": "seiten"}, "page.tmpl"),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-31" name="rest_code_972f39ed07e14063beea15d213ff5a59-31"></a><span class="c1">#         ("pages/*.md", {"en": "pages", "de": "seiten"}, "page.tmpl"),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-32" name="rest_code_972f39ed07e14063beea15d213ff5a59-32"></a><span class="c1">#     )</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-33" name="rest_code_972f39ed07e14063beea15d213ff5a59-33"></a>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-34" name="rest_code_972f39ed07e14063beea15d213ff5a59-34"></a><span class="n">POSTS</span> <span class="o">=</span> <span class="p">(</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-35" name="rest_code_972f39ed07e14063beea15d213ff5a59-35"></a>    <span class="p">(</span><span class="s2">"posts/*.rst"</span><span class="p">,</span> <span class="s2">"posts"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-36" name="rest_code_972f39ed07e14063beea15d213ff5a59-36"></a>    <span class="p">(</span><span class="s2">"posts/*.txt"</span><span class="p">,</span> <span class="s2">"posts"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-37" name="rest_code_972f39ed07e14063beea15d213ff5a59-37"></a>    <span class="p">(</span><span class="s2">"posts/*.html"</span><span class="p">,</span> <span class="s2">"posts"</span><span class="p">,</span> <span class="s2">"post.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-38" name="rest_code_972f39ed07e14063beea15d213ff5a59-38"></a><span class="p">)</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-39" name="rest_code_972f39ed07e14063beea15d213ff5a59-39"></a><span class="n">PAGES</span> <span class="o">=</span> <span class="p">(</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-40" name="rest_code_972f39ed07e14063beea15d213ff5a59-40"></a>    <span class="p">(</span><span class="s2">"pages/*.rst"</span><span class="p">,</span> <span class="s2">"pages"</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-41" name="rest_code_972f39ed07e14063beea15d213ff5a59-41"></a>    <span class="p">(</span><span class="s2">"pages/*.txt"</span><span class="p">,</span> <span class="s2">"pages"</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-42" name="rest_code_972f39ed07e14063beea15d213ff5a59-42"></a>    <span class="p">(</span><span class="s2">"pages/*.html"</span><span class="p">,</span> <span class="s2">"pages"</span><span class="p">,</span> <span class="s2">"page.tmpl"</span><span class="p">),</span>
<a id="rest_code_972f39ed07e14063beea15d213ff5a59-43" name="rest_code_972f39ed07e14063beea15d213ff5a59-43"></a><span class="p">)</span>
</pre>
<div class="admonition admonition-posts-and-pages-are-not-flat">
<p class="admonition-title"><span class="caps">POSTS</span> and <span class="caps">PAGES</span> are not&nbsp;flat!</p>
<p>Even if the syntax may suggest you can&#8217;t, you can create any directory structure you want&nbsp;inside <code class="docutils literal">posts/</code> or <code class="docutils literal">pages/</code> and it will be reflected in the output. For&nbsp;example,
<code class="docutils literal">posts/foo/bar.txt</code> would&nbsp;produce  <code class="docutils literal">output/posts/foo/bar.html</code>, assuming the slug is&nbsp;also <code class="docutils literal">bar</code>.</p>
<p>If you&nbsp;have <code class="docutils literal">PRETTY_URLS</code> enabled, that would&nbsp;be <code class="docutils literal">output/posts/foo/bar/index.html</code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Removing&nbsp;the <code class="docutils literal">.rst</code> entries is not recommended. Some features (eg.
shortcodes) may not work properly if you do&nbsp;that.</p>
</div>
</section><section id="the-new-post-command"><h3><a class="toc-backref" href="#id33">The <code class="docutils literal">new_post</code> command</a></h3>
<p><code class="docutils literal">new_post</code> will use the <em>first</em> path&nbsp;in <code class="docutils literal">POSTS</code> (or <code class="docutils literal">PAGES</code> if <code class="docutils literal"><span class="pre">-p</span></code> is
supplied) that ends with the extension of your desired markup format (as
defined&nbsp;in <code class="docutils literal">COMPILERS</code> in <code class="docutils literal">conf.py</code>) as the directory that the new post will be
written into.  If no such entry can be found, the post won’t be&nbsp;created.</p>
<p>The <code class="docutils literal">new_post</code> command supports some&nbsp;options:</p>
<pre class="code text"><a id="rest_code_3ae06415731a4b9c9eafa80c49137362-1" name="rest_code_3ae06415731a4b9c9eafa80c49137362-1"></a>$ nikola help new_post
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-2" name="rest_code_3ae06415731a4b9c9eafa80c49137362-2"></a>Purpose: create a new blog post or site page
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-3" name="rest_code_3ae06415731a4b9c9eafa80c49137362-3"></a>Usage:   nikola new_post [options] [path]
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-4" name="rest_code_3ae06415731a4b9c9eafa80c49137362-4"></a>
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-5" name="rest_code_3ae06415731a4b9c9eafa80c49137362-5"></a>Options:
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-6" name="rest_code_3ae06415731a4b9c9eafa80c49137362-6"></a>  -p, --page                Create a page instead of a blog post. (see also: `nikola new_page`)
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-7" name="rest_code_3ae06415731a4b9c9eafa80c49137362-7"></a>  -t ARG, --title=ARG       Title for the post.
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-8" name="rest_code_3ae06415731a4b9c9eafa80c49137362-8"></a>  -a ARG, --author=ARG      Author of the post.
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-9" name="rest_code_3ae06415731a4b9c9eafa80c49137362-9"></a>  --tags=ARG                Comma-separated tags for the post.
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-10" name="rest_code_3ae06415731a4b9c9eafa80c49137362-10"></a>  -1                        Create the post with embedded metadata (single file format)
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-11" name="rest_code_3ae06415731a4b9c9eafa80c49137362-11"></a>  -2                        Create the post with separate metadata (two file format)
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-12" name="rest_code_3ae06415731a4b9c9eafa80c49137362-12"></a>  -e                        Open the post (and meta file, if any) in $EDITOR after creation.
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-13" name="rest_code_3ae06415731a4b9c9eafa80c49137362-13"></a>  -f ARG, --format=ARG      Markup format for the post (use --available-formats for list)
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-14" name="rest_code_3ae06415731a4b9c9eafa80c49137362-14"></a>  -F, --available-formats   List all available input formats
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-15" name="rest_code_3ae06415731a4b9c9eafa80c49137362-15"></a>  -s                        Schedule the post based on recurrence rule
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-16" name="rest_code_3ae06415731a4b9c9eafa80c49137362-16"></a>  -i ARG, --import=ARG      Import an existing file instead of creating a placeholder
<a id="rest_code_3ae06415731a4b9c9eafa80c49137362-17" name="rest_code_3ae06415731a4b9c9eafa80c49137362-17"></a>  -d, --date-path           Create post with date path (eg. year/month/day, see NEW_POST_DATE_PATH_FORMAT in config)
</pre>
<p>The&nbsp;optional <code class="docutils literal">path</code> parameter tells Nikola exactly where to put it instead of guessing from your config.
So, if you&nbsp;do <code class="docutils literal">nikola new_post posts/random/foo.txt</code> you will have a post in that path, with
&#8220;foo&#8221; as its slug. You can also provide a directory name, in which case Nikola
will append the file name for you (generated from&nbsp;title).</p>
<p>The <code class="docutils literal"><span class="pre">-d,</span> <span class="pre">--date-path</span></code> option automates creation&nbsp;of <code class="docutils literal">year/month/day</code> or
similar directory structures. It can be enabled on a per-post basis, or you can
use it for every post if you&nbsp;set <code class="docutils literal">NEW_POST_DATE_PATH = True</code> in&nbsp;conf.py.</p>
<pre class="code python"><a id="rest_code_359a430f2e5841af866c684931b36a2e-1" name="rest_code_359a430f2e5841af866c684931b36a2e-1"></a><span class="c1"># Use date-based path when creating posts?</span>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-2" name="rest_code_359a430f2e5841af866c684931b36a2e-2"></a><span class="c1"># Can be enabled on a per-post basis with `nikola new_post -d`.</span>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-3" name="rest_code_359a430f2e5841af866c684931b36a2e-3"></a><span class="c1"># NEW_POST_DATE_PATH = False</span>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-4" name="rest_code_359a430f2e5841af866c684931b36a2e-4"></a>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-5" name="rest_code_359a430f2e5841af866c684931b36a2e-5"></a><span class="c1"># What format to use when creating posts with date paths?</span>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-6" name="rest_code_359a430f2e5841af866c684931b36a2e-6"></a><span class="c1"># Default is '%Y/%m/%d', other possibilities include '%Y' or '%Y/%m'.</span>
<a id="rest_code_359a430f2e5841af866c684931b36a2e-7" name="rest_code_359a430f2e5841af866c684931b36a2e-7"></a><span class="c1"># NEW_POST_DATE_PATH_FORMAT = '%Y/%m/%d'</span>
</pre></section><section id="teasers"><h3><a class="toc-backref" href="#id34">Teasers</a></h3>
<p>You may not want to show the complete content of your posts either on your
index page or in <span class="caps">RSS</span> feeds, but to display instead only the beginning of&nbsp;them.</p>
<p>If it&#8217;s the case, you only need to add a &#8220;magical&nbsp;comment&#8221; <code class="docutils literal">TEASER_END</code> or
<code class="docutils literal">END_TEASER</code> in your&nbsp;post.</p>
<p>In&nbsp;reStructuredText:</p>
<pre class="code restructuredtext"><a id="rest_code_82dee0494870485f9f82337c4dc57e11-1" name="rest_code_82dee0494870485f9f82337c4dc57e11-1"></a><span class="cp">.. TEASER_END</span>
</pre>
<p>In Markdown (or basically, the resulting <span class="caps">HTML</span> of any&nbsp;format):</p>
<pre class="code html"><a id="rest_code_3636349c7727499eba30897a4cc4e29d-1" name="rest_code_3636349c7727499eba30897a4cc4e29d-1"></a><span class="c">&lt;!-- TEASER_END --&gt;</span>
</pre>
<p>By default all your <span class="caps">RSS</span> feeds will be shortened (they&#8217;ll contain only teasers)
whereas your index page will still show complete posts. You can change
this behavior with&nbsp;your <code class="docutils literal">conf.py</code>: <code class="docutils literal">INDEX_TEASERS</code> defines whether index
page should display the whole contents or only&nbsp;teasers. <code class="docutils literal">FEED_TEASERS</code>
works the same way for your Atom and <span class="caps">RSS</span>&nbsp;feeds.</p>
<p>By default, teasers will include a &#8220;read more&#8221; link at the end. If you want to
change that text, you can use a custom&nbsp;teaser:</p>
<pre class="code restructuredtext"><a id="rest_code_acf890bdd38a4661b958b763ae545317-1" name="rest_code_acf890bdd38a4661b958b763ae545317-1"></a><span class="cp">.. TEASER_END: click to read the rest of the article</span>
</pre>
<p>You can override the default value&nbsp;for <code class="docutils literal">TEASER_END</code> in <code class="docutils literal">conf.py</code> — for
example, the following example will work&nbsp;for <code class="docutils literal">.. more</code>, and will be
compatible with both WordPress and Nikola&nbsp;posts:</p>
<pre class="code python"><a id="rest_code_9458096616ca4fa9a4482b85dabd2bf2-1" name="rest_code_9458096616ca4fa9a4482b85dabd2bf2-1"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="rest_code_9458096616ca4fa9a4482b85dabd2bf2-2" name="rest_code_9458096616ca4fa9a4482b85dabd2bf2-2"></a><span class="n">TEASER_REGEXP</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s1">'&lt;!--\s*(more|TEASER_END|END_TEASER)(:(.+))?\s*--&gt;'</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">)</span>
</pre>
<p>Or you can completely customize the link using&nbsp;the <code class="docutils literal">READ_MORE_LINK</code> option.</p>
<pre class="code python"><a id="rest_code_5bc16b60a60342f297ec33bb677609da-1" name="rest_code_5bc16b60a60342f297ec33bb677609da-1"></a><span class="c1"># A HTML fragment with the Read more... link.</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-2" name="rest_code_5bc16b60a60342f297ec33bb677609da-2"></a><span class="c1"># The following tags exist and are replaced for you:</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-3" name="rest_code_5bc16b60a60342f297ec33bb677609da-3"></a><span class="c1"># {link}        A link to the full post page.</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-4" name="rest_code_5bc16b60a60342f297ec33bb677609da-4"></a><span class="c1"># {read_more}   The string “Read more” in the current language.</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-5" name="rest_code_5bc16b60a60342f297ec33bb677609da-5"></a><span class="c1"># {{            A literal { (U+007B LEFT CURLY BRACKET)</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-6" name="rest_code_5bc16b60a60342f297ec33bb677609da-6"></a><span class="c1"># }}            A literal } (U+007D RIGHT CURLY BRACKET)</span>
<a id="rest_code_5bc16b60a60342f297ec33bb677609da-7" name="rest_code_5bc16b60a60342f297ec33bb677609da-7"></a><span class="c1"># READ_MORE_LINK = '&lt;p class="more"&gt;&lt;a href="{link}"&gt;{read_more}…&lt;/a&gt;&lt;/p&gt;'</span>
</pre></section><section id="drafts"><h3><a class="toc-backref" href="#id35">Drafts</a></h3>
<p>If you set&nbsp;the <code class="docutils literal">status</code> metadata field of a post&nbsp;to <code class="docutils literal">draft</code>, it will not be shown
in indexes and feeds. It <em>will</em> be compiled, and if you deploy it it <em>will</em> be made
available, so use with care. If you wish your drafts to be not available in your
deployed site, you can&nbsp;set <code class="docutils literal">DEPLOY_DRAFTS = False</code> in your configuration. This will
not work if lazily&nbsp;include <code class="docutils literal">nikola build</code> in&nbsp;your <code class="docutils literal">DEPLOY_COMMANDS</code>.</p>
<p>Also if a post has a date in the future, it will not be shown in indexes until
you rebuild after that date. This behavior can be disabled by&nbsp;setting
<code class="docutils literal">FUTURE_IS_NOW = True</code> in your configuration, which will make future posts be
published immediately.  Posts dated in the future are <em>not</em> deployed by default&nbsp;(when <code class="docutils literal">FUTURE_IS_NOW = False</code>).  To make future posts available in the
deployed site, you can&nbsp;set <code class="docutils literal">DEPLOY_FUTURE = True</code> in your configuration.
Generally, you want FUTURE_IS_NOW and DEPLOY_FUTURE to be the same&nbsp;value.</p>
</section><section id="private-posts"><h3><a class="toc-backref" href="#id36">Private&nbsp;Posts</a></h3>
<p>If you set&nbsp;the <code class="docutils literal">status</code> metadata field of a post&nbsp;to <code class="docutils literal">private</code>, it will not be shown
in indexes and feeds. It <em>will</em> be compiled, and if you deploy it it <em>will</em> be made
available, so it will not generate 404s for people who had linked to&nbsp;it.</p>
</section><section id="featured-posts"><h3><a class="toc-backref" href="#id37">Featured&nbsp;Posts</a></h3>
<p>Some&nbsp;themes, <code class="docutils literal">bootblog4</code> in particular, support featured posts. To mark a
post as featured, simply set&nbsp;the <code class="docutils literal">status</code> meta field&nbsp;to <code class="docutils literal">featured</code>. All
featured posts are available in index templates in&nbsp;a <code class="docutils literal">featured</code>
list, but only if this is the main blog&nbsp;index.</p>
<p>For bootblog4, you can display up to three posts as featured: one can be shown
in a large gray box (jumbotron), and two more can appear in small white
cards.  In order to enable this feature, you need to&nbsp;add <code class="docutils literal">THEME_CONFIG</code> to
your configuration, and set it up&nbsp;properly:</p>
<pre class="code python"><a id="rest_code_864b8d8259cf419586a188dc01272495-1" name="rest_code_864b8d8259cf419586a188dc01272495-1"></a><span class="n">THEME_CONFIG</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-2" name="rest_code_864b8d8259cf419586a188dc01272495-2"></a>    <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-3" name="rest_code_864b8d8259cf419586a188dc01272495-3"></a>        <span class="c1"># Show the latest featured post in a large box, with the previewimage as its background.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-4" name="rest_code_864b8d8259cf419586a188dc01272495-4"></a>        <span class="s1">'featured_large'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-5" name="rest_code_864b8d8259cf419586a188dc01272495-5"></a>        <span class="c1"># Show the first (remaining) two featured posts in small boxes.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-6" name="rest_code_864b8d8259cf419586a188dc01272495-6"></a>        <span class="s1">'featured_small'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-7" name="rest_code_864b8d8259cf419586a188dc01272495-7"></a>        <span class="c1"># Show featured posts on mobile.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-8" name="rest_code_864b8d8259cf419586a188dc01272495-8"></a>        <span class="s1">'featured_on_mobile'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-9" name="rest_code_864b8d8259cf419586a188dc01272495-9"></a>        <span class="c1"># Show image in `featured_large` on mobile.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-10" name="rest_code_864b8d8259cf419586a188dc01272495-10"></a>        <span class="c1"># `featured_small` displays them only on desktop.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-11" name="rest_code_864b8d8259cf419586a188dc01272495-11"></a>        <span class="s1">'featured_large_image_on_mobile'</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-12" name="rest_code_864b8d8259cf419586a188dc01272495-12"></a>        <span class="c1"># Strip HTML from featured post text.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-13" name="rest_code_864b8d8259cf419586a188dc01272495-13"></a>        <span class="s1">'featured_strip_html'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-14" name="rest_code_864b8d8259cf419586a188dc01272495-14"></a>        <span class="c1"># Contents of the sidebar, If empty, the sidebar is not displayed.</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-15" name="rest_code_864b8d8259cf419586a188dc01272495-15"></a>        <span class="s1">'sidebar'</span><span class="p">:</span> <span class="s1">''</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-16" name="rest_code_864b8d8259cf419586a188dc01272495-16"></a>    <span class="p">}</span>
<a id="rest_code_864b8d8259cf419586a188dc01272495-17" name="rest_code_864b8d8259cf419586a188dc01272495-17"></a><span class="p">}</span>
</pre>
<p>You can pick betweeen (up to) 1, 2, or 3 featured posts. You can&nbsp;mix
<code class="docutils literal">featured_large</code> and <code class="docutils literal">featured_small</code>, rest assured that Nikola will always
display the latest posts no matter what setup you choose. If only one posts
qualifies for the small cards, one card taking up all the width will&nbsp;appear.</p>
<p>Both featured box formats display an image to the right. You can set it by changing&nbsp;the <code class="docutils literal">previewimage</code> meta value to the full path to the image&nbsp;(eg. <code class="docutils literal">.. previewimage: /images/featured1.png</code>). This works best with images in portrait&nbsp;orientation.</p>
<p>Note that, due to space constraints, only the large box may show the image on
mobile, below the text (this behavior can be disbled). Small boxes never
display images on mobile. In&nbsp;particular: <code class="docutils literal">xs</code> and <code class="docutils literal">sm</code> display only the
large image, and only if&nbsp;configured; <code class="docutils literal">md</code> displays only the large&nbsp;image,
<code class="docutils literal">lg</code> displays all three&nbsp;images.</p>
<p>The boxes display only the teaser. We recommend keeping it short so
you don’t get an ugly&nbsp;scrollbar.</p>
<p>Finally, here’s an example (you’ll need to imagine a scrollbar in the right box&nbsp;yourself):</p>
<a class="reference external image-reference" href="https://getnikola.com/images/bootblog4-featured2x.png"><img alt="An example of how featured posts look in bootblog4." class="align-center" src="https://getnikola.com/images/bootblog4-featured2x.thumbnail.png"></a>
</section><section id="queuing-posts"><h3><a class="toc-backref" href="#id38">Queuing&nbsp;Posts</a></h3>
<p>Some blogs tend to have new posts based on a schedule (for example,
every Mon, Wed, Fri) but the blog authors don&#8217;t like to manually
schedule their posts.  You can schedule your blog posts based on a
rule, by specifying a rule in&nbsp;the <code class="docutils literal">SCHEDULE_RULE</code> in your
configuration.  You can either post specific blog posts according to
this schedule by using&nbsp;the <code class="docutils literal"><span class="pre">--schedule</span></code> flag on&nbsp;the <code class="docutils literal">new_post</code>
command or post all new posts according to this schedule by&nbsp;setting
<code class="docutils literal">SCHEDULE_ALL = True</code> in your configuration. (Note: This feature
requires that&nbsp;the <code class="docutils literal">FUTURE_IS_NOW</code> setting is set&nbsp;to <code class="docutils literal">False</code>)</p>
<p>For example, if you would like to schedule your posts to be on every
Monday, Wednesday and Friday at 7am, add the&nbsp;following
<code class="docutils literal">SCHEDULE_RULE</code> to your&nbsp;configuration:</p>
<pre class="code python"><a id="rest_code_a480f774ea8d440d94439695daaf88e2-1" name="rest_code_a480f774ea8d440d94439695daaf88e2-1"></a><span class="n">SCHEDULE_RULE</span> <span class="o">=</span> <span class="s1">'RRULE:FREQ=WEEKLY;BYDAY=MO,WE,FR;BYHOUR=7;BYMINUTE=0;BYSECOND=0'</span>
</pre>
<p>For more details on how to specify a recurrence rule, look at the
<a class="reference external" href="http://www.kanzaki.com/docs/ical/rrule.html">iCal specification</a>.
Or if you are scared of this format, many calendaring applications (eg. Google
Calendar) offer iCal exports, so you can copy-paste the repeat rule from a
generated iCal&nbsp;(<code class="docutils literal">.ics</code>) file (which is a human-readable text&nbsp;file).</p>
<p>Say, you get a free Sunday, and want to write a flurry of new posts,
or at least posts for the rest of the week, you would run&nbsp;the
<code class="docutils literal">new_post</code> command with&nbsp;the <code class="docutils literal"><span class="pre">--schedule</span></code> flag, as many times as
you&nbsp;want:</p>
<pre class="code console"><a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-1" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-1"></a><span class="gp">$ </span>nikola new_post --schedule
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-2" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-2"></a><span class="gp"># </span>Creates a new post to be posted on Monday, 7am.
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-3" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-3"></a><span class="gp">$ </span>nikola new_post -s
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-4" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-4"></a><span class="gp"># </span>Creates a new post to be posted on Wednesday, 7am.
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-5" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-5"></a><span class="gp">$ </span>nikola new_post -s
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-6" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-6"></a><span class="gp"># </span>Creates a new post to be posted on Friday, 7am.
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-7" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-7"></a><span class="go">.</span>
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-8" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-8"></a><span class="go">.</span>
<a id="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-9" name="rest_code_7ac33e4955854337a19f6a1fdbf7bbd6-9"></a><span class="go">.</span>
</pre>
<p>All these posts get queued up according to your schedule, but note
that you will anyway need to build and deploy your site for the posts
to appear online.  You can have a cron job that does this&nbsp;regularly.</p>
</section><section id="post-types"><h3><a class="toc-backref" href="#id39">Post&nbsp;Types</a></h3>
<p>Nikola supports specifying post types, just like Tumblr does.  Post
types affect the look of your posts, by adding&nbsp;a <code class="docutils literal"><span class="pre">post-YOURINPUTHERE</span></code>
<span class="caps">CSS</span> class to the post.  Each post can have one and exactly one type.  Nikola
styles the following types in the default&nbsp;themes:</p>
<table class="table table-bordered">
<colgroup>
<col style="width: 27%">
<col style="width: 44%">
<col style="width: 29%">
</colgroup>
<thead><tr>
<th class="head"><p>Name(s)</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Styling</p></th>
</tr></thead>
<tbody>
<tr>
<td><p>text</p></td>
<td><p>plain text — default&nbsp;value</p></td>
<td><p>standard</p></td>
</tr>
<tr>
<td><p>micro</p></td>
<td><p>“small” (short)&nbsp;posts</p></td>
<td><p>big serif&nbsp;font</p></td>
</tr>
</tbody>
</table></section><section id="indexes"><h3><a class="toc-backref" href="#id40">Indexes</a></h3>
<p>All your posts that are not drafts, private or dated in the future, will be
shown in&nbsp;indexes.</p>
<section id="settings"><h4><a class="toc-backref" href="#id41">Settings</a></h4>
<p>Indexes are put in&nbsp;the <code class="docutils literal">INDEX_PATH</code> directory, which defaults to an empty
string (site root).  The “main” index&nbsp;is <code class="docutils literal">index.html</code>, and all the further
indexes&nbsp;are <code class="docutils literal"><span class="pre">index-*.html</span></code>,&nbsp;respectively.</p>
<p>By default, 10 posts are displayed on an index page.  This can be changed&nbsp;with
<code class="docutils literal">INDEX_DISPLAY_POST_COUNT</code>.  Indexes can show full posts or just the teasers,
as controlled by&nbsp;the <code class="docutils literal">INDEX_TEASERS</code> setting (defaults&nbsp;to <code class="docutils literal">False</code>).</p>
<p>Titles of the pages can be controlled by&nbsp;using <code class="docutils literal">INDEXES_TITLES</code>,
<code class="docutils literal">INDEXES_PAGES</code> and <code class="docutils literal">INDEXES_PAGES_MAIN</code> settings.</p>
<p>Categories and tags use simple lists by default that show only titles and
dates; however, you can switch them to full indexes by&nbsp;using
<code class="docutils literal">CATEGORY_PAGES_ARE_INDEXES</code> and <code class="docutils literal">TAG_PAGES_ARE_INDEXES</code>,&nbsp;respectively.</p>
<p>Something similar happens with authors. To use full indexes in authors,&nbsp;set
<code class="docutils literal">AUTHOR_PAGES_ARE_INDEXES</code> to <code class="docutils literal">True</code>.</p>
</section><section id="static-indexes"><h4><a class="toc-backref" href="#id42">Static&nbsp;indexes</a></h4>
<p>Nikola uses <em>static indexes</em> by default.  This means&nbsp;that <code class="docutils literal"><span class="pre">index-1.html</span></code> has
the oldest posts, and the newest posts past the first 10 are&nbsp;in
<code class="docutils literal"><span class="pre">index-N.html</span></code>,&nbsp;where <code class="docutils literal">N</code> is the highest number.  Only the page with the
highest number and the main page&nbsp;(<code class="docutils literal"><span class="pre">index-N.html</span></code> and <code class="docutils literal">index.html</code>) are
rebuilt (the others remain unchanged).  The page that appears when you click
<em>Older posts</em> on the index&nbsp;page, <code class="docutils literal"><span class="pre">index-N.html</span></code>, might contain <strong>less than 10
posts</strong> if there are not enough posts to fill up all&nbsp;pages.</p>
<p>This can be disabled by&nbsp;setting <code class="docutils literal">INDEXES_STATIC</code> to <code class="docutils literal">False</code>.  In that&nbsp;mode,
<code class="docutils literal"><span class="pre">index-1.html</span></code> contains all the newest posts past the first 10 and will
always contain 10 posts (unless you have less than 20).  The last&nbsp;page,
<code class="docutils literal"><span class="pre">index-N.html</span></code>, contains the oldest posts, and might contain less than 10
posts.  This is how many blog engines and CMSes behave.  Note that this will
lead to rebuilding all index pages, which might be a problem for larger blogs
(with a lot of index&nbsp;pages).</p>
</section></section><section id="post-taxonomy"><h3><a class="toc-backref" href="#id43">Post&nbsp;taxonomy</a></h3>
<p>There are two taxonomy systems in Nikola, or two ways to organize posts. Those are tags and categories. They are visible on the <em>Tags and Categories</em> page, by default available&nbsp;at <code class="docutils literal">/categories/</code>. Each tag/category has an index page and&nbsp;feeds.</p>
<section id="tags"><h4><a class="toc-backref" href="#id44">Tags</a></h4>
<p>Tags are the smallest and most basic of the taxonomy items. A post can have multiple tags, specified using&nbsp;the <code class="docutils literal">tags</code> metadata entry (comma-separated). You should provide many tags to help your readers, and perhaps search engines, find content on your&nbsp;site.</p>
<p>Please note that tags are case-sensitive and that you cannot have two tags that differ only in case/punctuation (eg.&nbsp;using <code class="docutils literal">nikola</code> in one post&nbsp;and <code class="docutils literal">Nikola</code> in another will lead to a&nbsp;crash):</p>
<pre class="code text"><a id="rest_code_02945387950d48af92192333f00835ae-1" name="rest_code_02945387950d48af92192333f00835ae-1"></a>ERROR: Nikola: You have tags that are too similar: Nikola and nikola
<a id="rest_code_02945387950d48af92192333f00835ae-2" name="rest_code_02945387950d48af92192333f00835ae-2"></a>ERROR: Nikola: Tag Nikola is used in: posts/second-post.rst
<a id="rest_code_02945387950d48af92192333f00835ae-3" name="rest_code_02945387950d48af92192333f00835ae-3"></a>ERROR: Nikola: Tag nikola is used in: posts/1.rst
</pre>
<p>You can also generate a tag cloud with the <a class="reference external" href="https://plugins.getnikola.com/v7/tx3_tag_cloud/">tx3_tag_cloud</a> plugin or get a data file for a tag cloud with the <a class="reference external" href="https://plugins.getnikola.com/v8/tagcloud/">tagcloud</a>&nbsp;plugin.</p>
</section><section id="categories"><h4><a class="toc-backref" href="#id45">Categories</a></h4>
<p>The next unit for organizing your content are categories. A post can have only one category, specified with&nbsp;the <code class="docutils literal">category</code> meta tag. They are displayed alongside tags. You can have categories and tags with the same name (categories’ <span class="caps">RSS</span> and <span class="caps">HTML</span> files are prefixed&nbsp;with <code class="docutils literal">cat_</code> by&nbsp;default).</p>
<p>Categories are handy to organize different parts of your blog, parts that are about different topics. Unlike tags, which you should have tens (hundreds?) of, the list of categories should be&nbsp;shorter.</p>
<p>Nikola v7 used to support a third taxonomy, called sections. Those have been removed, but all the functionality can be recreated by using&nbsp;the <code class="docutils literal">CATEGORY_DESTPATH</code> settings.</p>
</section><section id="configuring-tags-and-categories"><h4><a class="toc-backref" href="#id46">Configuring tags and&nbsp;categories</a></h4>
<p>There are multiple configuration variables dedicated to each of the two taxonomies. You can&nbsp;set:</p>
<ul class="simple">
<li><p><code class="docutils literal">TAG_PATH</code>, <code class="docutils literal">TAGS_INDEX_PATH</code>, <code class="docutils literal">CATEGORY_PATH</code>, <code class="docutils literal">CATEGORY_PREFIX</code> to configure paths used for tags and&nbsp;categories</p></li>
<li><p><code class="docutils literal">TAG_TITLES</code>, <code class="docutils literal">CATEGORY_TITLES</code> to set titles and descriptions for index&nbsp;pages</p></li>
<li><p><code class="docutils literal">TAG_DESCRIPTIONS</code>, <code class="docutils literal">CATEGORY_DESCRIPTIONS</code> to set descriptions for each of the&nbsp;items</p></li>
<li><p><code class="docutils literal">CATEGORY_ALLOW_HIERARCHIES</code> and <code class="docutils literal">CATEGORY_OUTPUT_FLAT_HIERARCHIES</code> to allow hierarchical&nbsp;categories</p></li>
<li><p><code class="docutils literal">TAG_PAGES_ARE_INDEXES</code> and <code class="docutils literal">CATEGORY_PAGES_ARE_INDEXES</code> to display full-size indexes instead of simple post&nbsp;lists</p></li>
<li><p><code class="docutils literal">HIDDEN_TAGS</code>. <code class="docutils literal">HIDDEN_CATEGORIES</code> to make some tags/categories invisible in&nbsp;lists</p></li>
<li><p><code class="docutils literal">CATEGORY_DESTPATH_AS_DEFAULT</code> to use the destination path as the category if none is specified in the&nbsp;post</p></li>
<li><p><code class="docutils literal">CATEGORY_DESTPATH_TRIM_PREFIX</code> to trim the prefix that comes&nbsp;from <code class="docutils literal">POSTS</code> for the destination&nbsp;path</p></li>
<li><p><code class="docutils literal">CATEGORY_DESTPATH_FIRST_DIRECTORY</code> to only use the first directory name for the defaulted&nbsp;category</p></li>
<li><p><code class="docutils literal">CATEGORY_DESTPATH_NAMES</code> to specify friendly names for defaulted&nbsp;categories</p></li>
<li><p><code class="docutils literal">CATEGORY_PAGES_FOLLOW_DESTPATH</code> to put category pages next to their related posts (via&nbsp;destpath)</p></li>
</ul></section></section><section id="what-if-i-dont-want-a-blog"><h3><a class="toc-backref" href="#id47">What if I don’t want a&nbsp;blog?</a></h3>
<p>If you want a static site that does not have any blog-related elements, see our
<a class="reference external" href="https://getnikola.com/creating-a-site-not-a-blog-with-nikola.html">Creating a Site (Not a Blog) with Nikola</a>&nbsp;guide.</p>
</section></section><section id="creating-a-page"><h2><a class="toc-backref" href="#id48">Creating a&nbsp;Page</a></h2>
<p>Pages are the same as posts, except&nbsp;that:</p>
<ul class="simple">
<li><p>They are not added to the front&nbsp;page</p></li>
<li><p>They don&#8217;t appear on the <span class="caps">RSS</span>&nbsp;feed</p></li>
<li><p>They use&nbsp;the <code class="docutils literal">page.tmpl</code> template instead&nbsp;of <code class="docutils literal">post.tmpl</code> by&nbsp;default</p></li>
</ul>
<p>The default configuration expects the page&#8217;s metadata and text files to be on&nbsp;the
<code class="docutils literal">pages</code> folder, but that can be changed&nbsp;(see <code class="docutils literal">PAGES</code> option&nbsp;above).</p>
<p>You can create the page&#8217;s files manually or use&nbsp;the <code class="docutils literal">new_post</code> command
with&nbsp;the <code class="docutils literal"><span class="pre">-p</span></code> option, which will place the files in the folder that&nbsp;has <code class="docutils literal">use_in_feed</code> set to&nbsp;False.</p>
<p>In some places (including default directories and templates), pages are called
<em>stories</em> for historic reasons. Both are synonyms for the same thing: pages
that are not blog&nbsp;posts.</p>
</section><section id="supported-input-formats"><h2><a class="toc-backref" href="#id49">Supported input&nbsp;formats</a></h2>
<p>Nikola supports multiple input formats.  Out of the box, we have compilers available&nbsp;for:</p>
<ul class="simple">
<li><p>reStructuredText (default and&nbsp;pre-configured)</p></li>
<li><p><a class="reference internal" href="#markdown">Markdown</a></p></li>
<li><p><a class="reference internal" href="#jupyter-notebook">Jupyter&nbsp;Notebook</a></p></li>
<li><p><a class="reference internal" href="#html"><span class="caps">HTML</span></a></p></li>
<li><p><a class="reference internal" href="#php"><span class="caps">PHP</span></a></p></li>
<li><p>anything <a class="reference internal" href="#pandoc">Pandoc</a> supports (including Textile, DocBook, LaTeX, MediaWiki,
TWiki, <span class="caps">OPML</span>, Emacs Org-Mode, txt2tags, Microsoft Word .docx, <span class="caps">EPUB</span>, Haddock&nbsp;markup)</p></li>
</ul>
<p>Plus, we have specialized compilers in the Plugins Index&nbsp;for:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://plugins.getnikola.com/#asciidoc">AsciiDoc</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#bbcode">BBCode</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#commonmark">CommonMark</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#irclogs"><span class="caps">IRC</span>&nbsp;logs</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#markmin">Markmin</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#mediawiki">MediaWiki&nbsp;(smc.mw)</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#misaka">Misaka</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#odt"><span class="caps">ODT</span></a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#orgmode">Emacs&nbsp;Org-Mode</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#rest_html5">reST with <span class="caps">HTML</span> 5&nbsp;output</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#textile">Textile</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#txt2tags">txt2tags</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#wiki">CreoleWiki</a></p></li>
<li><p><a class="reference external" href="https://plugins.getnikola.com/#wordpress_compiler">WordPress&nbsp;posts</a></p></li>
</ul>
<section id="configuring-other-input-formats"><h3><a class="toc-backref" href="#id50">Configuring other input&nbsp;formats</a></h3>
<p>In order to use input formats other than reStructuredText, you need some extra&nbsp;setup.</p>
<ol class="arabic simple">
<li><p>Make sure you have the compiler for the input format you want.  Some
input formats are supported out-of-the-box, but others must be installed from
the Plugins repository.  You may also need some extra dependencies.  You
will get helpful errors if you try to build when missing&nbsp;something.</p></li>
<li><p>You must ensure the compiler and your desired input file extension is included
in&nbsp;the <code class="docutils literal">COMPILERS</code> dict and does not conflict with any other format.  This
is extremely important for the pandoc&nbsp;compiler.</p></li>
<li><p>Finally, you must configure&nbsp;the <code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code> tuples.  Follow the
instructions and the format set by pre-existing entries.  Make sure to use
the same extension as is set&nbsp;in <code class="docutils literal">COMPILERS</code> and configure the outputs&nbsp;properly.</p></li>
</ol>
<section id="markdown"><h4><a class="toc-backref" href="#id51">Markdown</a></h4>
<p>To use Markdown in your posts/pages, make&nbsp;sure <code class="docutils literal">markdown</code> is in&nbsp;your
<code class="docutils literal">COMPILERS</code> and that at least one of your desired extensions is defined&nbsp;in
<code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code>.</p>
<p>You can use Python-Markdown extensions by setting&nbsp;the <code class="docutils literal">MARKDOWN_EXTENSIONS</code>
config&nbsp;option:</p>
<pre class="code python"><a id="rest_code_8b627faf3c014883868ee9f29d375a37-1" name="rest_code_8b627faf3c014883868ee9f29d375a37-1"></a><span class="n">MARKDOWN_EXTENSIONS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'fenced_code'</span><span class="p">,</span> <span class="s1">'codehilite'</span><span class="p">,</span> <span class="s1">'extra'</span><span class="p">]</span>
</pre>
<p>Nikola comes with some Markdown Extensions built-in and enabled by default,
namely a gist directive, a podcast directive,&nbsp;and <code class="docutils literal">~~strikethrough~~</code> support.</p>
</section><section id="jupyter-notebook"><h4><a class="toc-backref" href="#id52">Jupyter&nbsp;Notebook</a></h4>
<p>To use Jupyter Notebooks as posts/pages, make&nbsp;sure <code class="docutils literal">ipynb</code> is in&nbsp;your
<code class="docutils literal">COMPILERS</code> and that&nbsp;the <code class="docutils literal">.ipynb</code> extension is defined&nbsp;in <code class="docutils literal">POSTS</code> and
<code class="docutils literal">PAGES</code>.</p>
<p>The <code class="docutils literal"><span class="pre">-f</span></code> argument&nbsp;to <code class="docutils literal">new_post</code> should be used in&nbsp;the <code class="docutils literal">ipynb@KERNEL</code> format.
It defaults to Python in the version used by Nikola if not&nbsp;specified.</p>
<p>Jupyter Notebooks are also supported in stand-alone listings, if Jupyter
support is enabled&nbsp;site-wide.</p>
</section><section id="html"><h4><a class="toc-backref" href="#id53"><span class="caps">HTML</span></a></h4>
<p>To use plain <span class="caps">HTML</span> in your posts/pages, make&nbsp;sure <code class="docutils literal">html</code> is in&nbsp;your
<code class="docutils literal">COMPILERS</code>
and that&nbsp;the <code class="docutils literal">.html</code> extension is defined&nbsp;in <code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code>.</p>
</section><section id="php"><h4><a class="toc-backref" href="#id54"><span class="caps">PHP</span></a></h4>
<p>There are two ways of using <span class="caps">PHP</span> within&nbsp;Nikola:</p>
<ol class="arabic simple">
<li><p>To use <span class="caps">PHP</span> in your posts/pages (inside your site, with the theme and
everything), make&nbsp;sure <code class="docutils literal">php</code> is in&nbsp;your <code class="docutils literal">COMPILERS</code> and that&nbsp;the <code class="docutils literal">.php</code>
extension is defined&nbsp;in <code class="docutils literal">POSTS</code> and <code class="docutils literal">PAGES</code>.</p></li>
<li><p>To use <span class="caps">PHP</span> as standalone files (without any modifications), put them&nbsp;in
<code class="docutils literal">files/</code> (or&nbsp;whatever <code class="docutils literal">FILES_FOLDERS</code> is configured&nbsp;to).</p></li>
</ol></section><section id="pandoc"><h4><a class="toc-backref" href="#id55">Pandoc</a></h4>
<p>To use Pandoc, you must uncomment the entry&nbsp;in <code class="docutils literal">COMPILERS</code> and set the
extensions list to your desired extensions while also removing them from their
original compilers.  The input format is inferred from the extension by&nbsp;Pandoc.</p>
<p>Using Pandoc for reStructuredText, Markdown and other input formats that have a
standalone Nikola plugin is <strong>not recommended</strong> as it disables plugins and
extensions that are usually provided by&nbsp;Nikola.</p>
</section></section></section><section id="shortcodes"><h2><a class="toc-backref" href="#id56">Shortcodes</a></h2>
<p>This feature is &#8220;inspired&#8221; (copied wholesale) from <a class="reference external" href="https://gohugo.io/extras/shortcodes/">Hugo</a> so I will
steal part of their docs&nbsp;too.</p>
<p>A shortcode is a simple snippet inside a content file that Nikola will render using a predefined template or
custom code from a&nbsp;plugin.</p>
<p>To use them from plugins, please see <a class="reference external" href="https://getnikola.com/extending.html#shortcodes">Extending&nbsp;Nikola</a></p>
<section id="using-a-shortcode"><h3><a class="toc-backref" href="#id57">Using a&nbsp;shortcode</a></h3>
<p>In your content files, a shortcode can be called by using this&nbsp;form:</p>
<pre class="code text"><a id="rest_code_19928bec7de946fe8157c262981ac24c-1" name="rest_code_19928bec7de946fe8157c262981ac24c-1"></a>{{% name parameters %}}
</pre>
<p>Shortcode parameters are space delimited. Parameters with spaces can be quoted (or backslash&nbsp;escaped).</p>
<p>The first word is always the name of the shortcode. Parameters follow the name. Depending upon how the shortcode is defined, the parameters may be named, positional or both. The format for named parameters models that of <span class="caps">HTML</span> with the format&nbsp;name=&#8221;value&#8221;.</p>
<p>Some shortcodes use or require closing shortcodes. Like <span class="caps">HTML</span>, the opening and closing shortcodes match (name only), the closing being prepended with a&nbsp;slash.</p>
<p>Example of a paired shortcode (note that we don&#8217;t have a highlight shortcode yet&nbsp;;-):</p>
<pre class="code text"><a id="rest_code_a4757d15f5ac4b9e81d7cf5d07aac88d-1" name="rest_code_a4757d15f5ac4b9e81d7cf5d07aac88d-1"></a>{{% highlight python %}} A bunch of code here {{% /highlight %}}
</pre>
<div class="admonition admonition-shortcodes-and-restructuredtext">
<p class="admonition-title">Shortcodes and&nbsp;reStructuredText</p>
<p>In reStructuredText shortcodes may fail because docutils turns <span class="caps">URL</span> into links and everything breaks.
For some shortcodes there are alternative docutils directives (example, you can use the media
<strong>directive</strong> instead of the media&nbsp;shortcode.</p>
<p>Also, you can use the shortcode <strong>role</strong>:</p>
<pre class="code text"><a id="rest_code_bc476edcf14e4c2385d5b30cdb7acea8-1" name="rest_code_bc476edcf14e4c2385d5b30cdb7acea8-1"></a>:sc:`{{% shortcode here %}}`
</pre>
<p>That role passes text unaltered, so shortcodes behave&nbsp;correctly.</p>
</div>
</section><section id="built-in-shortcodes"><h3><a class="toc-backref" href="#id58">Built-in&nbsp;shortcodes</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Some of the shortcodes are implemented as bindings to reST directives. In
order to use them, you need at least one entry&nbsp;for <code class="docutils literal">*.rst</code> in&nbsp;<span class="caps">POSTS</span>/<span class="caps">PAGES</span>.</p>
</div>
<dl>
<dt>chart</dt>
<dd>
<p>Create charts via PyGal. This is similar to the <a class="reference external" href="#chart">chart directive</a> except the syntax is adapted to
shortcodes. This is an&nbsp;example:</p>
<pre class="code text"><a id="rest_code_88b6c23605e34e4c9ead315616f6ec82-1" name="rest_code_88b6c23605e34e4c9ead315616f6ec82-1"></a>{{% chart Bar title='Browser usage evolution (in %)'
x_labels='["2002","2003","2004","2005","2006","2007"]' %}}
        'Firefox', [None, None, 0, 16.6, 25, 31]
        'Chrome',  [None, None, None, None, None, None]
        'IE',      [85.8, 84.6, 84.7, 74.5, 66, 58.6]
        'Others',  [14.2, 15.4, 15.3, 8.9, 9, 10.4]
        {{% /chart %}}
</pre>
<p>Additionally, you can use a file_data argument which can point to a <span class="caps">JSON</span> or <span class="caps">YAML</span> file, and will be used for both arguments and data.&nbsp;Example:</p>
<pre class="code json"><a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-1" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-1"></a><span class="p">{</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-2" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-2"></a>    <span class="nt">"x_labels"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"2002"</span><span class="p">,</span><span class="s2">"2003"</span><span class="p">,</span><span class="s2">"2004"</span><span class="p">,</span><span class="s2">"2005"</span><span class="p">,</span><span class="s2">"2006"</span><span class="p">,</span><span class="s2">"2007"</span><span class="p">],</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-3" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-3"></a>    <span class="nt">"data"</span><span class="p">:</span> <span class="p">{</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-4" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-4"></a>        <span class="nt">"Firefox"</span><span class="p">:</span> <span class="p">[</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">16.6</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">31</span><span class="p">],</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-5" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-5"></a>        <span class="nt">"Chrome"</span><span class="p">:</span> <span class="p">[</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">],</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-6" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-6"></a>        <span class="nt">"IE"</span><span class="p">:</span> <span class="p">[</span><span class="mf">85.8</span><span class="p">,</span> <span class="mf">84.6</span><span class="p">,</span> <span class="mf">84.7</span><span class="p">,</span> <span class="mf">74.5</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mf">58.6</span><span class="p">],</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-7" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-7"></a>        <span class="nt">"Others"</span><span class="p">:</span> <span class="p">[</span><span class="mf">14.2</span><span class="p">,</span> <span class="mf">15.4</span><span class="p">,</span> <span class="mf">15.3</span><span class="p">,</span> <span class="mf">8.9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">10.4</span><span class="p">]</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-8" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-8"></a>    <span class="p">}</span>
<a id="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-9" name="rest_code_74e587af3d8d4b8ca285beab79eaa1b0-9"></a><span class="p">}</span>
</pre>
<p>Which can be used like&nbsp;this:</p>
<pre class="code text"><a id="rest_code_f825a1d81c24457b9995667eb9f380e8-1" name="rest_code_f825a1d81c24457b9995667eb9f380e8-1"></a>{{% chart Bar title='Browser usage evolution (in %)' data_file="posts/browsers.json" %}}
        {{% /chart %}}
        
</pre>
<p>If the data or any option is available in both&nbsp;the <code class="docutils literal">data_file</code> and the document, the document has&nbsp;priority.</p>
</dd>
<dt>doc</dt>
<dd>
<p>Will link to a document in the page, see <a class="reference external" href="#doc">Doc role for details</a>.&nbsp;Example:</p>
<pre class="code restructuredtext"><a id="rest_code_8684fedd79a14879b90cb3d847f5778a-1" name="rest_code_8684fedd79a14879b90cb3d847f5778a-1"></a>Take a look at {{% doc %}}my other post <creating-a-theme>{{% /doc %}} about theme creating.
</creating-a-theme></pre>
</dd>
<dt>emoji</dt>
<dd>
<p>Insert an emoji. For&nbsp;example:</p>
<pre class="code text"><a id="rest_code_2481871c96e4476ea1590ab22ee5b1b5-1" name="rest_code_2481871c96e4476ea1590ab22ee5b1b5-1"></a>{{% emoji crying_face %}}
</pre>
<p>This generates&nbsp;a <code class="docutils literal">span</code> with <code class="docutils literal">emoji</code> <span class="caps">CSS</span> class, so you can style it with a nice font if you&nbsp;want.</p>
</dd>
<dt>gist</dt>
<dd>
<p>Show GitHub gists. If you know the gist&#8217;s <span class="caps">ID</span>, this will show it in your&nbsp;site:</p>
<p>{{% gist 2395294&nbsp;%}} </p>
</dd>
<dt>listing</dt>
<dd>
<p>Used to show a code listing.&nbsp;Example:</p>
<pre class="literal-block">{{% listing hello.py python linenumbers=True %}}</pre>
<p>It takes a file name or path, an optional language to highlight, and a linenumbers option to enable/disable line numbers in the&nbsp;output.</p>
</dd>
<dt>media</dt>
<dd>
<p>Display media embedded from a <span class="caps">URL</span>, for example, this will embed a youtube&nbsp;video:</p>
<pre class="code text"><a id="rest_code_c616ab9b7f184b56a2d3bca71a87459d-1" name="rest_code_c616ab9b7f184b56a2d3bca71a87459d-1"></a>{{% media url="https://www.youtube.com/watch?v=Nck6BZga7TQ" %}}
</pre>
</dd>
<dt>post-list</dt>
<dd>
<p>Will show a list of posts, see the <a class="reference external" href="#post-list">Post List directive for details</a>.</p>
</dd>
<dt>raw</dt>
<dd>
<p>Passes the content along, mostly used so I can write this damn section and you can see the shortcodes instead
of them being munged into shortcode <strong>output</strong>. I can&#8217;t show an example because&nbsp;Inception.</p>
</dd>
<dt>thumbnail</dt>
<dd>
<p>Display image thumbnails, with optional captions.&nbsp;Examples:</p>
<pre class="code text"><a id="rest_code_26c2424f46ef4e13a55a69104e7f9a82-1" name="rest_code_26c2424f46ef4e13a55a69104e7f9a82-1"></a>{{% thumbnail "/images/foo.png" %}}{{% /thumbnail %}}
<a id="rest_code_26c2424f46ef4e13a55a69104e7f9a82-2" name="rest_code_26c2424f46ef4e13a55a69104e7f9a82-2"></a>{{% thumbnail "/images/foo.png" alt="Foo Image" align="center" %}}{{% /thumbnail %}}
<a id="rest_code_26c2424f46ef4e13a55a69104e7f9a82-3" name="rest_code_26c2424f46ef4e13a55a69104e7f9a82-3"></a>{{% thumbnail "/images/foo.png" imgclass="image-grayscale" figclass="figure-shadow" %}}&lt;p&gt;Image caption&lt;/p&gt;{{% /thumbnail %}}
<a id="rest_code_26c2424f46ef4e13a55a69104e7f9a82-4" name="rest_code_26c2424f46ef4e13a55a69104e7f9a82-4"></a>{{% thumbnail "/images/foo.png" alt="Foo Image" title="Insert title-text joke here" align="right" %}}&lt;p class="caption"&gt;Foo Image (right-aligned) caption&lt;/p&gt;{{% /thumbnail %}}
</pre>
<p>The following keyword arguments are&nbsp;supported:</p>
<ul class="simple">
<li><p>alt (alt text for&nbsp;image)</p></li>
<li><p>align (image alignment,&nbsp;left/center/right)</p></li>
<li><p>linktitle (title text for the link, shown by e.g.&nbsp;baguetteBox)</p></li>
<li><p>title (title text for&nbsp;image)</p></li>
<li><p>imgclass (class for&nbsp;image)</p></li>
<li><p>figclass (class for figure, used only if you provide a&nbsp;caption)</p></li>
</ul>
<p>Looks similar to the reST thumbnail directive. Caption should be a <span class="caps">HTML</span>&nbsp;fragment.</p>
</dd>
</dl></section><section id="community-shortcodes"><h3><a class="toc-backref" href="#id59">Community&nbsp;shortcodes</a></h3>
<p>Shortcodes created by the community are available in <a class="reference external" href="https://github.com/getnikola/shortcodes">the shortcodes repository on GitHub</a>.</p>
</section><section id="template-based-shortcodes"><h3><a class="toc-backref" href="#id60">Template-based&nbsp;shortcodes</a></h3>
<p>If you put a template&nbsp;in <code class="docutils literal">shortcodes/</code> called <code class="docutils literal">mycode.tmpl</code> then Nikola
will create a shortcode&nbsp;called <code class="docutils literal">mycode</code> you can use. Any options you pass to
the shortcode will be available as variables for that template. Non-keyword
options will be passed in a tuple variable&nbsp;named <code class="docutils literal">_args</code>.</p>
<p>The post in which the shortcode is being used is available as&nbsp;the <code class="docutils literal">post</code>
variable, so you can access the title&nbsp;as <code class="docutils literal">post.title</code>, and data loaded
via&nbsp;the <code class="docutils literal">data</code> field in the metadata&nbsp;using <code class="docutils literal">post.data(key)</code>.</p>
<p>If you use the shortcode as paired, then the contents between the paired tags
will be available in&nbsp;the <code class="docutils literal">data</code> variable. If you want to access the Nikola
object, it will be available&nbsp;as <code class="docutils literal">site</code>. Use with care&nbsp;:-)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Template-based shortcodes use the same template engine as your site’s&nbsp;theme.</p>
</div>
<p>See <a class="reference external" href="../extending/">Extending Nikola</a> for detailed&nbsp;information.</p>
<p>For example, if&nbsp;your <code class="docutils literal">shortcodes/foo.tmpl</code> contains&nbsp;this:</p>
<pre class="code text"><a id="rest_code_483ed95325a64cc69b1d35ef8c61adea-1" name="rest_code_483ed95325a64cc69b1d35ef8c61adea-1"></a>This uses the bar variable: ${bar}
</pre>
<p>And your post contains&nbsp;this:</p>
<pre class="code text"><a id="rest_code_23cb7c0f030c4e0e9f1c0f33a3e41c1a-1" name="rest_code_23cb7c0f030c4e0e9f1c0f33a3e41c1a-1"></a>{{% foo bar=bla %}}
</pre>
<p>Then the output file will&nbsp;contain:</p>
<pre class="code text"><a id="rest_code_37405afe90ef46a8b07559256b1cc7fc-1" name="rest_code_37405afe90ef46a8b07559256b1cc7fc-1"></a>This uses the bar variable: bla
</pre>
<p>Finally, you can use a template shortcode without a file, by inserting the
template in the shortcode&nbsp;itself:</p>
<pre class="code html+mako"><a id="rest_code_e8ff428199e749ddae8252188e2da27a-1" name="rest_code_e8ff428199e749ddae8252188e2da27a-1"></a>{{% template %}}
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-2" name="rest_code_e8ff428199e749ddae8252188e2da27a-2"></a><span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-3" name="rest_code_e8ff428199e749ddae8252188e2da27a-3"></a><span class="cp">%</span> <span class="k">for</span> <span class="n">foo</span> <span class="ow">in</span> <span class="n">bar</span><span class="p">:</span>
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-4" name="rest_code_e8ff428199e749ddae8252188e2da27a-4"></a><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span><span class="cp">${</span><span class="n">foo</span><span class="cp">}</span><span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-5" name="rest_code_e8ff428199e749ddae8252188e2da27a-5"></a><span class="cp">%</span><span class="k"> endfor</span>
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-6" name="rest_code_e8ff428199e749ddae8252188e2da27a-6"></a><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
<a id="rest_code_e8ff428199e749ddae8252188e2da27a-7" name="rest_code_e8ff428199e749ddae8252188e2da27a-7"></a>{{% /template %}}
</pre>
<p>In that case, the template engine used will be your theme&#8217;s and the arguments you pass,
as well as the global context from&nbsp;your <code class="docutils literal">conf.py</code>, are available to the template you
are&nbsp;creating.</p>
<p>You can use anything defined in your&nbsp;configuration&#8217;s <code class="docutils literal">GLOBAL_CONTEXT</code> as
variables in your shortcode template, with a caveat: Because of an unfortunate
implementation detail (a name&nbsp;conflict), <code class="docutils literal">data</code> is&nbsp;called <code class="docutils literal">global_data</code>
when used in a&nbsp;shortcode.</p>
<p>If you have some template code that you want to appear in both a template and
shortcode, you can put the shared code in a separate template and import it in both
places. Shortcodes can import any template&nbsp;inside <code class="docutils literal">templates/</code> and themes,
and call any macros defined in&nbsp;those.</p>
<p>For example, if you define a&nbsp;macro <code class="docutils literal">foo(x, y)</code> in
<code class="docutils literal">templates/shared_sc.tmpl</code>, you can&nbsp;include <code class="docutils literal">shared_foo.tmpl</code> in
<code class="docutils literal">templates/special_post.tmpl</code> and <code class="docutils literal">shortcodes/foo.tmpl</code> and then call&nbsp;the
<code class="docutils literal">${shared_foo.foo(x, y)}</code> macro.</p>
</section></section><section id="the-global-context-and-data-files"><h2><a class="toc-backref" href="#id61">The Global Context and Data&nbsp;files</a></h2>
<p>There is&nbsp;a <code class="docutils literal">GLOBAL_CONTEXT</code> field in&nbsp;your <code class="docutils literal">conf.py</code> where you can
put things you want to make available to your&nbsp;templates.</p>
<p>It will also contain things you put in&nbsp;a <code class="docutils literal">data/</code> directory within your
site. You can use <span class="caps">JSON</span>, <span class="caps">YAML</span> or <span class="caps">TOML</span> files (with the appropriate file
extensions: json/js, yaml/yml, toml/tml) that decode to Python dictionaries.
For example, if you&nbsp;create <code class="docutils literal">data/foo.json</code> containing&nbsp;this:</p>
<pre class="code json"><a id="rest_code_2ee902ebe05747e9a698e66539363f6b-1" name="rest_code_2ee902ebe05747e9a698e66539363f6b-1"></a><span class="p">{</span><span class="nt">"bar"</span><span class="p">:</span> <span class="s2">"baz"</span><span class="p">}</span>
</pre>
<p>Then your templates can use things&nbsp;like <code class="docutils literal"><span class="pre">${data['foo']['bar']}</span></code> and
it will be replaced by&nbsp;&#8220;baz&#8221;.</p>
<p>Individual posts can also have a data file. Those are specified using&nbsp;the
<code class="docutils literal">data</code> meta field (path relative&nbsp;to <code class="docutils literal">conf.py</code>, can be different in
different post languages). Those are accessible as&nbsp;eg.
<code class="docutils literal"><span class="pre">${post.data['bar']}</span></code> in templates. <a class="reference internal" href="#template-based-shortcodes">Template-based shortcodes</a> are a
good idea in this&nbsp;case.</p>
<p>Data files can be useful for eg. auto-generated sites, where users provide
<span class="caps">JSON</span>/<span class="caps">YAML</span>/<span class="caps">TOML</span> files and Nikola generates a large page with data from all data
files. (This is especially useful with some automatic rebuild feature, like
those documented in <a class="reference internal" href="#deployment">Deployment</a>)</p>
<p>Data files are also available&nbsp;as <code class="docutils literal">global_data</code>, to avoid name conflicts in
shortcodes.&nbsp;(<code class="docutils literal">global_data</code> works&nbsp;everywhere.)</p>
</section><section id="redirections"><h2><a class="toc-backref" href="#id62">Redirections</a></h2>
<p>If you need a page to be available in more than one place, you can define redirections
in&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a id="rest_code_d64db1ef424248c2a9bef180904287c2-1" name="rest_code_d64db1ef424248c2a9bef180904287c2-1"></a><span class="c1"># A list of redirection tuples, [("foo/from.html", "/bar/to.html")].</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-2" name="rest_code_d64db1ef424248c2a9bef180904287c2-2"></a><span class="c1">#</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-3" name="rest_code_d64db1ef424248c2a9bef180904287c2-3"></a><span class="c1"># A HTML file will be created in output/foo/from.html that redirects</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-4" name="rest_code_d64db1ef424248c2a9bef180904287c2-4"></a><span class="c1"># to the "/bar/to.html" URL. notice that the "from" side MUST be a</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-5" name="rest_code_d64db1ef424248c2a9bef180904287c2-5"></a><span class="c1"># relative URL.</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-6" name="rest_code_d64db1ef424248c2a9bef180904287c2-6"></a><span class="c1">#</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-7" name="rest_code_d64db1ef424248c2a9bef180904287c2-7"></a><span class="c1"># If you don't need any of these, just set to []</span>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-8" name="rest_code_d64db1ef424248c2a9bef180904287c2-8"></a>
<a id="rest_code_d64db1ef424248c2a9bef180904287c2-9" name="rest_code_d64db1ef424248c2a9bef180904287c2-9"></a><span class="n">REDIRECTIONS</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">"index.html"</span><span class="p">,</span> <span class="s2">"/weblog/index.html"</span><span class="p">)]</span>
</pre>
<p>It&#8217;s better if you can do these using your web server&#8217;s configuration, but if
you can&#8217;t, this will&nbsp;work.</p>
</section><section id="configuration"><h2><a class="toc-backref" href="#id63">Configuration</a></h2>
<p>The configuration file is&nbsp;called <code class="docutils literal">conf.py</code> and can be used to customize a lot of
what Nikola does. Its syntax is python, but if you don&#8217;t know the language, it
still should not be terribly hard to&nbsp;grasp.</p>
<p>The&nbsp;default <code class="docutils literal">conf.py</code> you get with Nikola should be fairly complete, and is quite&nbsp;commented.</p>
<p>You surely want to edit these&nbsp;options:</p>
<pre class="code python"><a id="rest_code_0e7b17215330449db853715f9914fd6d-1" name="rest_code_0e7b17215330449db853715f9914fd6d-1"></a><span class="c1"># Data about this site</span>
<a id="rest_code_0e7b17215330449db853715f9914fd6d-2" name="rest_code_0e7b17215330449db853715f9914fd6d-2"></a><span class="n">BLOG_AUTHOR</span> <span class="o">=</span> <span class="s2">"Your Name"</span>  <span class="c1"># (translatable)</span>
<a id="rest_code_0e7b17215330449db853715f9914fd6d-3" name="rest_code_0e7b17215330449db853715f9914fd6d-3"></a><span class="n">BLOG_TITLE</span> <span class="o">=</span> <span class="s2">"Demo Site"</span>  <span class="c1"># (translatable)</span>
<a id="rest_code_0e7b17215330449db853715f9914fd6d-4" name="rest_code_0e7b17215330449db853715f9914fd6d-4"></a><span class="n">SITE_URL</span> <span class="o">=</span> <span class="s2">"https://getnikola.com/"</span>
<a id="rest_code_0e7b17215330449db853715f9914fd6d-5" name="rest_code_0e7b17215330449db853715f9914fd6d-5"></a><span class="n">BLOG_EMAIL</span> <span class="o">=</span> <span class="s2">"joe@demo.site"</span>
<a id="rest_code_0e7b17215330449db853715f9914fd6d-6" name="rest_code_0e7b17215330449db853715f9914fd6d-6"></a><span class="n">BLOG_DESCRIPTION</span> <span class="o">=</span> <span class="s2">"This is a demo site for Nikola."</span>  <span class="c1"># (translatable)</span>
</pre>
<p>Some options are marked with a (translatable) comment above or right next to
them.  For those options, two types of values can be&nbsp;provided:</p>
<ul class="simple">
<li><p>a string, which will be used for all&nbsp;languages</p></li>
<li><p>a dict of language-value pairs, to have different values in each&nbsp;language</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible to load the configuration from another file by&nbsp;specifying
<code class="docutils literal"><span class="pre">--conf=path/to/other.file</span></code> on Nikola&#8217;s command line. For example, to
build your blog using the configuration&nbsp;file <code class="docutils literal">configurations/test.conf.py</code>,
you have to&nbsp;execute <code class="docutils literal">nikola build <span class="pre">--conf=configurations/test.conf.py</span></code>.</p>
</div>
</section><section id="customizing-your-site"><h2><a class="toc-backref" href="#id64">Customizing Your&nbsp;Site</a></h2>
<p>There are lots of things you can do to personalize your website, but let&#8217;s see
the easy&nbsp;ones!</p>
<dl>
<dt><span class="caps">CSS</span>&nbsp;tweaking</dt>
<dd>
<p>Using the default configuration, you can create&nbsp;a <code class="docutils literal">assets/css/custom.css</code>
file&nbsp;under <code class="docutils literal">files/</code> or in your theme and then it will be loaded from&nbsp;the
<code class="docutils literal">&lt;head&gt;</code> blocks of your site pages.  Create it and put your <span class="caps">CSS</span> code there,
for minimal disruption of the provided <span class="caps">CSS</span>&nbsp;files.</p>
<p>If you feel tempted to touch other files in assets, you probably will be better off
with a <a class="reference external" href="../theming/">custom theme</a>.</p>
<p>If you want to use <a class="reference external" href="http://lesscss.org/"><span class="caps">LESS</span></a> or <a class="reference external" href="http://sass-lang.com/">Sass</a> for your custom <span class="caps">CSS</span>, or the theme you use
contains <span class="caps">LESS</span> or Sass code that you want to override, you will need to install
the <a class="reference external" href="https://plugins.getnikola.com/#less"><span class="caps">LESS</span> plugin</a> or
<a class="reference external" href="https://plugins.getnikola.com/#sass"><span class="caps">SASS</span> plugin</a> create&nbsp;a <code class="docutils literal">less</code> or
<code class="docutils literal">sass</code> directory in your site root, put&nbsp;your <code class="docutils literal">.less</code> or <code class="docutils literal">.scss</code> files
there and a targets file containing the list of files you want&nbsp;compiled.</p>
</dd>
</dl>
<dl>
<dt>Template tweaking and creating&nbsp;themes</dt>
<dd>
<p>If you really want to change the pages radically, you will want to do a
<a class="reference external" href="../theming/">custom theme</a>.</p>
</dd>
<dt>Navigation&nbsp;Links</dt>
<dd>
<p>The <code class="docutils literal">NAVIGATION_LINKS</code> option lets you define what links go in a sidebar or menu
(depending on your theme) so you can link to important pages, or to other&nbsp;sites.</p>
<p>The format is a language-indexed dictionary, where each element is a tuple of
tuples which are one&nbsp;of:</p>
<ol class="arabic simple">
<li><p>A (url, text) tuple, describing a&nbsp;link</p></li>
<li><p>A (((url, text), (url, text), (url, text)), title) tuple, describing a submenu /&nbsp;sublist.</p></li>
</ol>
<p>Example:</p>
<pre class="code python"><a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-1" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-1"></a><span class="n">NAVIGATION_LINKS</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-2" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-2"></a>    <span class="n">DEFAULT_LANG</span><span class="p">:</span> <span class="p">(</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-3" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-3"></a>        <span class="p">(</span><span class="s1">'/archive.html'</span><span class="p">,</span> <span class="s1">'Archives'</span><span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-4" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-4"></a>        <span class="p">(</span><span class="s1">'/categories/index.html'</span><span class="p">,</span> <span class="s1">'Tags'</span><span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-5" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-5"></a>        <span class="p">(</span><span class="s1">'/rss.xml'</span><span class="p">,</span> <span class="s1">'RSS'</span><span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-6" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-6"></a>        <span class="p">(((</span><span class="s1">'/foo'</span><span class="p">,</span> <span class="s1">'FOO'</span><span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-7" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-7"></a>          <span class="p">(</span><span class="s1">'/bar'</span><span class="p">,</span> <span class="s1">'BAR'</span><span class="p">)),</span> <span class="s1">'BAZ'</span><span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-8" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-8"></a>    <span class="p">),</span>
<a id="rest_code_de6a6a3e7ce84eee89b2738fd01be655-9" name="rest_code_de6a6a3e7ce84eee89b2738fd01be655-9"></a><span class="p">}</span>
</pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Support for submenus is theme-dependent.  Only one level of
submenus is&nbsp;supported.</p></li>
<li><p>Some themes, including the default Bootstrap theme, may
present issues if the menu is too large.  (in Bootstrap, the navbar
can grow too large and cover&nbsp;contents.)</p></li>
<li><p>If you link to directories, make sure to&nbsp;follow <code class="docutils literal">STRIP_INDEXES</code>.  If
it’s set&nbsp;to <code class="docutils literal">True</code>, end your links with&nbsp;a <code class="docutils literal">/</code>, otherwise end them&nbsp;with <code class="docutils literal">/index.html</code> — or else they won’t be highlighted when&nbsp;active.</p></li>
</ol>
</div>
<p>There’s&nbsp;also <code class="docutils literal">NAVIGATION_ALT_LINKS</code>. Themes may display this somewhere
else, or not at all. Bootstrap puts it on the right side of the&nbsp;header.</p>
<p>The <code class="docutils literal">SEARCH_FORM</code> option contains the <span class="caps">HTML</span> code for a search form based on
duckduckgo.com which should always work, but feel free to change it to
something&nbsp;else.</p>
</dd>
<dt>Footer</dt>
<dd>
<p><code class="docutils literal">CONTENT_FOOTER</code> is displayed, small at the bottom of all pages, I use it for
the copyright notice. The default shows a text formed&nbsp;using <code class="docutils literal">BLOG_AUTHOR</code>,
<code class="docutils literal">BLOG_EMAIL</code>, the date&nbsp;and <code class="docutils literal">LICENSE</code>.  Note you need to&nbsp;use
<code class="docutils literal">CONTENT_FOOTER_FORMATS</code> instead of regular str.format or %-formatting,
for compatibility with the translatable settings&nbsp;feature.</p>
</dd>
<dt>BODY_END</dt>
<dd>
<p>This option lets you define a <span class="caps">HTML</span> snippet that will be added at the bottom of body.
The main usage is a Google analytics snippet or something similar, but you can really
put anything there. Good place for&nbsp;JavaScript.</p>
</dd>
<dt>SOCIAL_BUTTONS_CODE</dt>
<dd>
<p>The <code class="docutils literal">SOCIAL_BUTTONS_CODE</code> option lets you define a <span class="caps">HTML</span> snippet that will be added
at the bottom of body. It defaults to a snippet for AddThis, but you can
really put anything there. See <cite>social_buttons.html</cite> for more&nbsp;details.</p>
</dd>
</dl></section><section id="fancy-dates"><h2><a class="toc-backref" href="#id65">Fancy&nbsp;Dates</a></h2>
<p>Nikola can use various styles for presenting&nbsp;dates.</p>
<dl class="simple">
<dt>DATE_FORMAT</dt>
<dd>
<p>The date format to use if there is no <span class="caps">JS</span> or fancy dates are off.  <a class="reference external" href="http://cldr.unicode.org/translation/date-time">Compatible with <span class="caps">CLDR</span>&nbsp;syntax.</a></p>
</dd>
<dt>JS_DATE_FORMAT</dt>
<dd>
<p>The date format to use if fancy dates are on.  Compatible&nbsp;with <code class="docutils literal">moment.js</code> syntax.</p>
</dd>
<dt>DATE_FANCINESS =&nbsp;0</dt>
<dd>
<p>Fancy dates are off, and DATE_FORMAT is&nbsp;used.</p>
</dd>
<dt>DATE_FANCINESS =&nbsp;1</dt>
<dd>
<p>Dates are recalculated in user’s timezone.  Requires&nbsp;JavaScript.</p>
</dd>
<dt>DATE_FANCINESS =&nbsp;2</dt>
<dd>
<p>Dates are recalculated as relative time (eg. 2 days ago).  Requires&nbsp;JavaScript.</p>
</dd>
</dl>
<p>In order to use fancy dates, your theme must support them.  The built-in Bootstrap family supports it, but other themes might not by&nbsp;default.</p>
<p>For&nbsp;Mako:</p>
<pre class="code html"><a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-1" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-1"></a>% if date_fanciness != 0:
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-2" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-2"></a><span class="c">&lt;!-- required scripts -- best handled with bundles --&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-3" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-3"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"/assets/js/moment-with-locales.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-4" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-4"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"/assets/js/fancydates.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-5" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-5"></a>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-6" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-6"></a><span class="c">&lt;!-- fancy dates code --&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-7" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-7"></a><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-8" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-8"></a><span class="nx">moment</span><span class="p">.</span><span class="nx">locale</span><span class="p">(</span><span class="s2">"${momentjs_locales[lang]}"</span><span class="p">);</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-9" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-9"></a><span class="nx">fancydates</span><span class="p">(</span><span class="nx">$</span><span class="p">{</span><span class="nx">date_fanciness</span><span class="p">},</span> <span class="nx">$</span><span class="p">{</span><span class="nx">js_date_format</span><span class="p">});</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-10" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-10"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-11" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-11"></a><span class="c">&lt;!-- end fancy dates code --&gt;</span>
<a id="rest_code_0e2c6966bf65408eb29efd784f5814e8-12" name="rest_code_0e2c6966bf65408eb29efd784f5814e8-12"></a>%endif
</pre>
<p>For&nbsp;Jinja2:</p>
<pre class="code html"><a id="rest_code_4ec196e830b2453288b1a2553745d6bc-1" name="rest_code_4ec196e830b2453288b1a2553745d6bc-1"></a>{% if date_fanciness != 0 %}
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-2" name="rest_code_4ec196e830b2453288b1a2553745d6bc-2"></a><span class="c">&lt;!-- required scripts -- best handled with bundles --&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-3" name="rest_code_4ec196e830b2453288b1a2553745d6bc-3"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"/assets/js/moment-with-locales.min.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-4" name="rest_code_4ec196e830b2453288b1a2553745d6bc-4"></a><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">"/assets/js/fancydates.js"</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-5" name="rest_code_4ec196e830b2453288b1a2553745d6bc-5"></a>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-6" name="rest_code_4ec196e830b2453288b1a2553745d6bc-6"></a><span class="c">&lt;!-- fancy dates code --&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-7" name="rest_code_4ec196e830b2453288b1a2553745d6bc-7"></a><span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-8" name="rest_code_4ec196e830b2453288b1a2553745d6bc-8"></a><span class="nx">moment</span><span class="p">.</span><span class="nx">locale</span><span class="p">(</span><span class="s2">"{{ momentjs_locales[lang] }}"</span><span class="p">);</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-9" name="rest_code_4ec196e830b2453288b1a2553745d6bc-9"></a><span class="nx">fancydates</span><span class="p">({{</span> <span class="nx">date_fanciness</span> <span class="p">}},</span> <span class="p">{{</span> <span class="nx">js_date_format</span> <span class="p">}});</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-10" name="rest_code_4ec196e830b2453288b1a2553745d6bc-10"></a><span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-11" name="rest_code_4ec196e830b2453288b1a2553745d6bc-11"></a><span class="c">&lt;!-- end fancy dates code --&gt;</span>
<a id="rest_code_4ec196e830b2453288b1a2553745d6bc-12" name="rest_code_4ec196e830b2453288b1a2553745d6bc-12"></a>{% endif %}
</pre></section><section id="adding-files"><h2><a class="toc-backref" href="#id66">Adding&nbsp;Files</a></h2>
<p>Any files you want to be&nbsp;in <code class="docutils literal">output/</code> but are not generated by Nikola (for&nbsp;example, <code class="docutils literal">favicon.ico</code>) should be placed&nbsp;in <code class="docutils literal">files/</code>.  Remember that you
can&#8217;t have files that collide with files Nikola generates (it will give an&nbsp;error).</p>
<div class="admonition admonition-important">
<p class="admonition-title">Important</p>
<p>Don&#8217;t put any files manually&nbsp;in <code class="docutils literal">output/</code>. Ever. Really.
Maybe someday Nikola will just&nbsp;wipe <code class="docutils literal">output/</code> (when you&nbsp;run <code class="docutils literal">nikola check <span class="pre">-f</span> <span class="pre">--clean-files</span></code>) and then you will be sorry. So, please don&#8217;t do&nbsp;that.</p>
</div>
<p>If you want to copy more than one folder of static files&nbsp;into <code class="docutils literal">output</code> you can
change the FILES_FOLDERS&nbsp;option:</p>
<pre class="code python"><a id="rest_code_661fc8be89f946f7bab801391c7f78e5-1" name="rest_code_661fc8be89f946f7bab801391c7f78e5-1"></a><span class="c1"># One or more folders containing files to be copied as-is into the output.</span>
<a id="rest_code_661fc8be89f946f7bab801391c7f78e5-2" name="rest_code_661fc8be89f946f7bab801391c7f78e5-2"></a><span class="c1"># The format is a dictionary of "source" "relative destination".</span>
<a id="rest_code_661fc8be89f946f7bab801391c7f78e5-3" name="rest_code_661fc8be89f946f7bab801391c7f78e5-3"></a><span class="c1"># Default is:</span>
<a id="rest_code_661fc8be89f946f7bab801391c7f78e5-4" name="rest_code_661fc8be89f946f7bab801391c7f78e5-4"></a><span class="c1"># FILES_FOLDERS = {'files': '' }</span>
<a id="rest_code_661fc8be89f946f7bab801391c7f78e5-5" name="rest_code_661fc8be89f946f7bab801391c7f78e5-5"></a><span class="c1"># Which means copy 'files' into 'output'</span>
</pre></section><section id="custom-themes"><h2><a class="toc-backref" href="#id67">Custom&nbsp;Themes</a></h2>
<p>If you prefer to have a custom appearance for your site, and modifying <span class="caps">CSS</span>
files and settings (see <a class="reference internal" href="#customizing-your-site">Customizing Your Site</a> for details) is not enough,
you can create your own theme. See the <a class="reference external" href="../theming/">Theming Nikola</a> and
<a class="reference external" href="../creating-a-theme/">Creating a Theme</a> for more details. You can put them in&nbsp;a <code class="docutils literal">themes/</code>
folder and&nbsp;set <code class="docutils literal">THEME</code> to the directory name.  You can also put them in
directories listed in&nbsp;the <code class="docutils literal">EXTRA_THEMES_DIRS</code> configuration&nbsp;variable.</p>
</section><section id="getting-extra-themes"><h2><a class="toc-backref" href="#id68">Getting Extra&nbsp;Themes</a></h2>
<p>There are a few themes for Nikola. They are available at
the <a class="reference external" href="https://themes.getnikola.com/">Themes Index</a>.
Nikola has a built-in theme download/install mechanism to install those themes
—&nbsp;the <code class="docutils literal">theme</code> command:</p>
<pre class="code console"><a id="rest_code_4e5b9269406e4973b8e33a818196be8a-1" name="rest_code_4e5b9269406e4973b8e33a818196be8a-1"></a><span class="gp">$ </span>nikola theme -l
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-2" name="rest_code_4e5b9269406e4973b8e33a818196be8a-2"></a><span class="go">Themes:</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-3" name="rest_code_4e5b9269406e4973b8e33a818196be8a-3"></a><span class="go">-------</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-4" name="rest_code_4e5b9269406e4973b8e33a818196be8a-4"></a><span class="go">blogtxt</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-5" name="rest_code_4e5b9269406e4973b8e33a818196be8a-5"></a><span class="go">bootstrap3-gradients</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-6" name="rest_code_4e5b9269406e4973b8e33a818196be8a-6"></a><span class="go">⋮</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-7" name="rest_code_4e5b9269406e4973b8e33a818196be8a-7"></a><span class="go">⋮</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-8" name="rest_code_4e5b9269406e4973b8e33a818196be8a-8"></a>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-9" name="rest_code_4e5b9269406e4973b8e33a818196be8a-9"></a><span class="gp">$ </span>nikola theme -i blogtxt
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-10" name="rest_code_4e5b9269406e4973b8e33a818196be8a-10"></a><span class="go">[2013-10-12T16:46:13Z] NOTICE: theme: Downloading:</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-11" name="rest_code_4e5b9269406e4973b8e33a818196be8a-11"></a><span class="go">https://themes.getnikola.com/v6/blogtxt.zip</span>
<a id="rest_code_4e5b9269406e4973b8e33a818196be8a-12" name="rest_code_4e5b9269406e4973b8e33a818196be8a-12"></a><span class="go">[2013-10-12T16:46:15Z] NOTICE: theme: Extracting: blogtxt into themes</span>
</pre>
<p>And there you are, you now have themes/blogtxt installed. It&#8217;s very
rudimentary, but it should work in most&nbsp;cases.</p>
<p>If you create a nice theme, please share it!  You can do it as a pull
request in the  <a class="reference external" href="https://github.com/getnikola/nikola-themes">GitHub repository</a>.</p>
<p>One other option is to tweak an existing theme using a different color scheme,
typography and <span class="caps">CSS</span> in general. Nikola provides&nbsp;a <code class="docutils literal">subtheme</code> command
to create a custom theme by downloading free <span class="caps">CSS</span> files from <a class="reference external" href="http://bootswatch.com">http://bootswatch.com</a>
and <a class="reference external" href="http://hackerthemes.com">http://hackerthemes.com</a></p>
<pre class="code console"><a id="rest_code_b3094391e96d4fa58fd5c883268fa517-1" name="rest_code_b3094391e96d4fa58fd5c883268fa517-1"></a><span class="gp">$ </span>nikola subtheme -n custom_theme -s flatly -p bootstrap4
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-2" name="rest_code_b3094391e96d4fa58fd5c883268fa517-2"></a><span class="go">[2013-10-12T16:46:58Z] NOTICE: subtheme: Creating 'custom_theme' theme</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-3" name="rest_code_b3094391e96d4fa58fd5c883268fa517-3"></a><span class="go">from 'flatly' and 'bootstrap4'</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-4" name="rest_code_b3094391e96d4fa58fd5c883268fa517-4"></a><span class="go">[2013-10-12T16:46:58Z] NOTICE: subtheme: Downloading:</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-5" name="rest_code_b3094391e96d4fa58fd5c883268fa517-5"></a><span class="go">http://bootswatch.com/flatly/bootstrap.min.css</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-6" name="rest_code_b3094391e96d4fa58fd5c883268fa517-6"></a><span class="go">[2013-10-12T16:46:58Z] NOTICE: subtheme: Downloading:</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-7" name="rest_code_b3094391e96d4fa58fd5c883268fa517-7"></a><span class="go">http://bootswatch.com/flatly/bootstrap.css</span>
<a id="rest_code_b3094391e96d4fa58fd5c883268fa517-8" name="rest_code_b3094391e96d4fa58fd5c883268fa517-8"></a><span class="go">[2013-10-12T16:46:59Z] NOTICE: subtheme: Theme created. Change the THEME setting to "custom_theme" to use it.</span>
</pre>
<p>Play with it, there&#8217;s cool stuff there. This feature was suggested by
<a class="reference external" href="http://elgalpondebanquito.com.ar">clodo</a>.</p>
</section><section id="deployment"><h2><a class="toc-backref" href="#id69">Deployment</a></h2>
<p>If you can specify your deployment procedure as a series of commands, you can
put them in&nbsp;the <code class="docutils literal">DEPLOY_COMMANDS</code> option, and run them&nbsp;with <code class="docutils literal">nikola deploy</code>.</p>
<p>You can have multiple deployment presets.  If you&nbsp;run <code class="docutils literal">nikola deploy</code>,&nbsp;the
<code class="docutils literal">default</code> preset is executed.  You can also specify the names of presets
you want to run&nbsp;(eg. <code class="docutils literal">nikola deploy default</code>, multiple presets are&nbsp;allowed).</p>
<p>One caveat is that if any command has a % in it, you should double&nbsp;them.</p>
<p>Here is an example, from my own site&#8217;s deployment&nbsp;script:</p>
<pre class="code python"><a id="rest_code_61c429c7db9b4b4695ea178d2fb81233-1" name="rest_code_61c429c7db9b4b4695ea178d2fb81233-1"></a><span class="n">DEPLOY_COMMANDS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'default'</span><span class="p">:</span> <span class="p">[</span>
<a id="rest_code_61c429c7db9b4b4695ea178d2fb81233-2" name="rest_code_61c429c7db9b4b4695ea178d2fb81233-2"></a>    <span class="s1">'rsync -rav --delete output/ ralsina@lateral.netmanagers.com.ar:/srv/www/lateral'</span><span class="p">,</span>
<a id="rest_code_61c429c7db9b4b4695ea178d2fb81233-3" name="rest_code_61c429c7db9b4b4695ea178d2fb81233-3"></a>    <span class="s1">'rdiff-backup output ~/blog-backup'</span><span class="p">,</span>
<a id="rest_code_61c429c7db9b4b4695ea178d2fb81233-4" name="rest_code_61c429c7db9b4b4695ea178d2fb81233-4"></a>    <span class="s2">"links -dump 'http://www.twingly.com/ping2?url=lateral.netmanagers.com.ar'"</span><span class="p">,</span>
<a id="rest_code_61c429c7db9b4b4695ea178d2fb81233-5" name="rest_code_61c429c7db9b4b4695ea178d2fb81233-5"></a><span class="p">]}</span>
</pre>
<p>Other interesting ideas are using
<a class="reference external" href="http://toroid.org/ams/git-website-howto">git as a deployment mechanism</a> (or any other <span class="caps">VCS</span>
for that matter), using <a class="reference external" href="http://lftp.yar.ru/">lftp mirror</a> or unison, or Dropbox.
Any way you can think of to copy files from one place to another is good&nbsp;enough.</p>
<section id="deploying-to-github"><h3><a class="toc-backref" href="#id70">Deploying to&nbsp;GitHub</a></h3>
<p>Nikola provides a separate&nbsp;command <code class="docutils literal">github_deploy</code> to deploy your site to
GitHub Pages.  The command builds the site, commits the output to a gh-pages
branch and pushes the output to GitHub.  Nikola uses the <a class="reference external" href="https://github.com/davisp/ghp-import">ghp-import command</a> for&nbsp;this.</p>
<p>In order to use this feature, you need to configure a few things first.  Make
sure you&nbsp;have <code class="docutils literal">nikola</code> and <code class="docutils literal">git</code> installed on your&nbsp;<span class="caps">PATH</span>.</p>
<ol class="arabic">
<li><p>Initialize a Nikola site, if you haven’t&nbsp;already.</p></li>
<li>
<p>Initialize a git repository in your Nikola source directory by&nbsp;running:</p>
<pre class="code text"><a id="rest_code_9b16e39bf0ce46e2b22032b55ed5a7c8-1" name="rest_code_9b16e39bf0ce46e2b22032b55ed5a7c8-1"></a>git init .
<a id="rest_code_9b16e39bf0ce46e2b22032b55ed5a7c8-2" name="rest_code_9b16e39bf0ce46e2b22032b55ed5a7c8-2"></a>git remote add origin git@github.com:user/repository.git
</pre>
</li>
<li>
<p>Setup branches and remotes&nbsp;in <code class="docutils literal">conf.py</code>:</p>
<ul class="simple">
<li><p><code class="docutils literal">GITHUB_DEPLOY_BRANCH</code> is the branch where Nikola-generated <span class="caps">HTML</span> files
will be deployed. It should&nbsp;be <code class="docutils literal"><span class="pre">gh-pages</span></code> for project pages&nbsp;and
<code class="docutils literal">master</code> for user pages&nbsp;(user.github.io).</p></li>
<li><p><code class="docutils literal">GITHUB_SOURCE_BRANCH</code> is the branch where your Nikola site source will be
deployed. We recommend and default&nbsp;to <code class="docutils literal">src</code>.</p></li>
<li><p><code class="docutils literal">GITHUB_REMOTE_NAME</code> is the remote to which changes are&nbsp;pushed.</p></li>
<li><p><code class="docutils literal">GITHUB_COMMIT_SOURCE</code> controls whether or not the source branch is
automatically committed to and pushed. We recommend setting it&nbsp;to
<code class="docutils literal">True</code>, unless you are automating builds with Travis&nbsp;<span class="caps">CI</span>.</p></li>
</ul>
</li>
<li>
<p>Create&nbsp;a <code class="docutils literal">.gitignore</code> file. We recommend adding at least the following&nbsp;entries:</p>
<pre class="code text"><a id="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-1" name="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-1"></a>cache
<a id="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-2" name="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-2"></a>.doit.db
<a id="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-3" name="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-3"></a>__pycache__
<a id="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-4" name="rest_code_a2d8c6103fa14a8c9095adcbf7ff3691-4"></a>output
</pre>
</li>
<li><p>If you&nbsp;set <code class="docutils literal">GITHUB_COMMIT_SOURCE</code> to False, you must switch to your source
branch and commit to it.  Otherwise, this is done for&nbsp;you.</p></li>
<li><p>Run <code class="docutils literal">nikola github_deploy</code>.  This will build the site, commit the output
folder to your deploy branch, and push to GitHub.  Your website should be up
and running within a few&nbsp;minutes.</p></li>
</ol>
<p>If you want to use a custom domain, create&nbsp;your <code class="docutils literal">CNAME</code> file&nbsp;in
<code class="docutils literal">files/CNAME</code> on the source branch. Nikola will copy it to the
output directory. To add a custom commit message, use&nbsp;the <code class="docutils literal"><span class="pre">-m</span></code> option,
followed by your&nbsp;message.</p>
</section><section id="automated-rebuilds-with-travis-ci"><h3><a class="toc-backref" href="#id71">Automated rebuilds with Travis&nbsp;<span class="caps">CI</span></a></h3>
<p>If you want automated rebuilds and GitHub Pages deployment, allowing you to
blog from anywhere in the world, follow this guide:
<a class="reference external" href="https://getnikola.com/blog/automating-nikola-rebuilds-with-travis-ci.html">Automating Nikola rebuilds with Travis <span class="caps">CI</span></a>.</p>
</section><section id="automated-rebuilds-with-gitlab"><h3><a class="toc-backref" href="#id72">Automated rebuilds with&nbsp;GitLab</a></h3>
<p>GitLab also offers rebuild automation if you want to use Nikola with GitLab
Pages. Check out the example <a class="reference external" href="https://gitlab.com/pages/nikola">Nikola site on GitLab</a>.</p>
</section></section><section id="comments"><h2><a class="toc-backref" href="#id73">Comments</a></h2>
<p>While Nikola creates static sites, there is a minimum level of user interaction you
are probably expecting:&nbsp;comments.</p>
<p>Nikola supports several third party comment&nbsp;systems:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://disqus.com"><span class="caps">DISQUS</span></a></p></li>
<li><p><a class="reference external" href="https://www.intensedebate.com/">IntenseDebate</a></p></li>
<li><p><a class="reference external" href="https://muut.com/">Muut (Formerly&nbsp;moot)</a></p></li>
<li><p><a class="reference external" href="https://facebook.com/">Facebook</a></p></li>
<li><p><a class="reference external" href="https://posativ.org/isso/">Isso</a></p></li>
<li><p><a class="reference external" href="https://github.com/adtac/commento">Commento</a></p></li>
</ul>
<p>By default it will use <span class="caps">DISQUS</span>, but you can change by&nbsp;setting <code class="docutils literal">COMMENT_SYSTEM</code>
to one of &#8220;disqus&#8221;, &#8220;intensedebate&#8221;, &#8220;livefyre&#8221;, &#8220;moot&#8221;, &#8220;facebook&#8221;, &#8220;isso&#8221; or&nbsp;&#8220;commento&#8221;</p>
<aside class="sidebar"><p class="sidebar-title"><code class="docutils literal">COMMENT_SYSTEM_ID</code></p>
<p>The value&nbsp;of <code class="docutils literal">COMMENT_SYSTEM_ID</code> depends on what comment system you
are using and you can see it in the system&#8217;s admin&nbsp;interface.</p>
<ul class="simple">
<li><p>For <span class="caps">DISQUS</span>, it&#8217;s called the <strong>shortname</strong></p></li>
<li><p>For IntenseDebate, it&#8217;s the <strong>IntenseDebate site&nbsp;acct</strong></p></li>
<li><p>For Muut, it&#8217;s your <strong>username</strong></p></li>
<li><p>For Facebook, you need to <a class="reference external" href="https://developers.facebook.com/apps">create an app</a> (turn off sandbox mode!)
and get an <strong>App&nbsp;<span class="caps">ID</span></strong></p></li>
<li><p>For Isso, it&#8217;s the <span class="caps">URL</span> of your Isso instance (must be world-accessible, encoded with
Punycode (if using Internationalized Domain Names) and <strong>have a trailing slash</strong>,&nbsp;default <code class="docutils literal"><span class="pre">http://localhost:8080/</span></code>). You can add custom config options via
GLOBAL_CONTEXT,&nbsp;eg. <code class="docutils literal"><span class="pre">GLOBAL_CONTEXT['isso_config']</span> = <span class="pre">{"require-author":</span> "true"}</code></p></li>
<li><p>For Commento, it&#8217;s the <span class="caps">URL</span> of the commento instance as required by&nbsp;the <code class="docutils literal">serverUrl</code>
parameter in commento&#8217;s&nbsp;documentation.</p></li>
</ul></aside><p>To use comments in a visible site, you should register with the service and
then set&nbsp;the <code class="docutils literal">COMMENT_SYSTEM_ID</code> option.</p>
<p>I recommend 3rd party comments, and specially <span class="caps">DISQUS</span>&nbsp;because:</p>
<ol class="arabic simple">
<li><p>It doesn&#8217;t require any server-side software on your&nbsp;site</p></li>
<li><p>They offer you a way to export your comments, so you can take
them with you if you need&nbsp;to.</p></li>
<li><p>It&#8217;s&nbsp;free.</p></li>
<li><p>It&#8217;s damn&nbsp;nice.</p></li>
</ol>
<p>You can disable comments for a post by adding a &#8220;nocomments&#8221; metadata field to&nbsp;it:</p>
<pre class="code restructuredtext"><a id="rest_code_852a90ae81fb4cf8a0c110fddf5c5d76-1" name="rest_code_852a90ae81fb4cf8a0c110fddf5c5d76-1"></a><span class="cp">.. nocomments: True</span>
</pre>
<div class="admonition admonition-disqus-support">
<p class="admonition-title"><span class="caps">DISQUS</span>&nbsp;Support</p>
<p>In some cases, when you run the test site, you won&#8217;t see the comments.
That can be fixed by adding the disqus_developer flag to the templates
but it&#8217;s probably more trouble than it&#8217;s&nbsp;worth.</p>
</div>
<div class="admonition admonition-moot-support">
<p class="admonition-title">Moot&nbsp;Support</p>
<p>Moot doesn&#8217;t support comment counts on index pages, and it requires adding
this to&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-1" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-1"></a><span class="n">BODY_END</span> <span class="o">=</span> <span class="s2">"""</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-2" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-2"></a><span class="s2">&lt;script src="//cdn.moot.it/1/moot.min.js"&gt;&lt;/script&gt;</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-3" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-3"></a><span class="s2">"""</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-4" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-4"></a><span class="n">EXTRA_HEAD_DATA</span> <span class="o">=</span> <span class="s2">"""</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-5" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-5"></a><span class="s2">&lt;link rel="stylesheet" type="text/css" href="//cdn.moot.it/1/moot.css"&gt;</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-6" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-6"></a><span class="s2">&lt;meta name="viewport" content="width=device-width"&gt;</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-7" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-7"></a><span class="s2">&lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&gt;</span>
<a id="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-8" name="rest_code_2f8794ab2f2f402b8bef9a22e1d078fa-8"></a><span class="s2">"""</span>
</pre>
</div>
<div class="admonition admonition-facebook-support">
<p class="admonition-title">Facebook&nbsp;Support</p>
<p>You need jQuery, but not because Facebook wants it (see Issue&nbsp;#639).</p>
</div>
</section><section id="images-and-galleries"><h2><a class="toc-backref" href="#id74">Images and&nbsp;Galleries</a></h2>
<p>To create an image gallery, all you have to do is add a folder&nbsp;inside <code class="docutils literal">galleries</code>,
and put images there. Nikola will take care of creating thumbnails, index page,&nbsp;etc.</p>
<p>If you click on images on a gallery, or on images with links in post, you will
see a bigger image, thanks to the excellent <a class="reference external" href="https://feimosi.github.io/baguetteBox.js/">baguetteBox</a>.  If don’t want this behavior, add&nbsp;an
<code class="docutils literal">.islink</code> class to your link. (The behavior is caused&nbsp;by <code class="docutils literal">&lt;a
<span class="pre">class="reference"&gt;</span></code> if you need to use it outside of galleries and reST&nbsp;thumbnails.)</p>
<p>The gallery pages are generated using&nbsp;the <code class="docutils literal">gallery.tmpl</code> template, and you can
customize it there (you could switch to another lightbox instead of baguetteBox, change
its settings, change the layout,&nbsp;etc.).</p>
<p>Images in galleries may be provided with captions and given a specific
ordering, by creating a file in the gallery directory&nbsp;called <code class="docutils literal">metadata.yml</code>.
This <span class="caps">YAML</span> file should contain&nbsp;a <code class="docutils literal">name</code> field for each image in the gallery
for which you wish to provide either a caption or specific ordering. You can also
create localized versions&nbsp;(<code class="docutils literal">metadata.xx.yml</code>).</p>
<p>Only&nbsp;one <code class="docutils literal">metadata.yml</code> is needed per gallery. Here is an example, showing names,
captions and&nbsp;ordering. <code class="docutils literal">caption</code> and <code class="docutils literal">order</code> are given special treatment,
anything else is available to templates, as keys&nbsp;of <code class="docutils literal">photo_array</code> images.</p>
<pre class="code yaml"><a id="rest_code_7af966d243c5448786f4638e4b2b55af-1" name="rest_code_7af966d243c5448786f4638e4b2b55af-1"></a><span class="nn">---</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-2" name="rest_code_7af966d243c5448786f4638e4b2b55af-2"></a><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ready-for-the-acid-wash.jpg</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-3" name="rest_code_7af966d243c5448786f4638e4b2b55af-3"></a><span class="nn">---</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-4" name="rest_code_7af966d243c5448786f4638e4b2b55af-4"></a><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">almost-full.jpg</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-5" name="rest_code_7af966d243c5448786f4638e4b2b55af-5"></a><span class="nt">caption</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">The pool is now almost full</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-6" name="rest_code_7af966d243c5448786f4638e4b2b55af-6"></a><span class="nn">---</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-7" name="rest_code_7af966d243c5448786f4638e4b2b55af-7"></a><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">jumping-in.jpg</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-8" name="rest_code_7af966d243c5448786f4638e4b2b55af-8"></a><span class="nt">caption</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">We're enjoying the new pool already</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-9" name="rest_code_7af966d243c5448786f4638e4b2b55af-9"></a><span class="nt">order</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-10" name="rest_code_7af966d243c5448786f4638e4b2b55af-10"></a><span class="nn">---</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-11" name="rest_code_7af966d243c5448786f4638e4b2b55af-11"></a><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">waterline-tiles.jpg</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-12" name="rest_code_7af966d243c5448786f4638e4b2b55af-12"></a><span class="nt">order</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-13" name="rest_code_7af966d243c5448786f4638e4b2b55af-13"></a><span class="nt">custom</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">metadata is supported</span>
<a id="rest_code_7af966d243c5448786f4638e4b2b55af-14" name="rest_code_7af966d243c5448786f4638e4b2b55af-14"></a><span class="nn">---</span>
</pre>
<p>Images to be used in normal posts can be placed in&nbsp;the <code class="docutils literal">images</code> folder. These
images will be processed and have thumbnails created just as for galleries, but will
then be copied directly to the corresponding path in&nbsp;the <code class="docutils literal">output</code> directory, so you
can reference it from whatever page you like, most easily using&nbsp;the <code class="docutils literal">thumbnail</code>
reST extension. If you don&#8217;t want thumbnails, just use&nbsp;the <code class="docutils literal">files</code> folder&nbsp;instead.</p>
<p>The <code class="docutils literal">conf.py</code> options affecting images and gallery pages are&nbsp;these:</p>
<pre class="code python"><a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-1" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-1"></a><span class="c1"># One or more folders containing galleries. The format is a dictionary of</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-2" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-2"></a><span class="c1"># {"source": "relative_destination"}, where galleries are looked for in</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-3" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-3"></a><span class="c1"># "source/" and the results will be located in</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-4" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-4"></a><span class="c1"># "OUTPUT_PATH/relative_destination/gallery_name"</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-5" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-5"></a><span class="c1"># Default is:</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-6" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-6"></a><span class="n">GALLERY_FOLDERS</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"galleries"</span><span class="p">:</span> <span class="s2">"galleries"</span><span class="p">}</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-7" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-7"></a><span class="c1"># More gallery options:</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-8" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-8"></a><span class="n">THUMBNAIL_SIZE</span> <span class="o">=</span> <span class="mi">180</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-9" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-9"></a><span class="n">MAX_IMAGE_SIZE</span> <span class="o">=</span> <span class="mi">1280</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-10" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-10"></a><span class="n">USE_FILENAME_AS_TITLE</span> <span class="o">=</span> <span class="kc">True</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-11" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-11"></a><span class="n">EXTRA_IMAGE_EXTENSIONS</span> <span class="o">=</span> <span class="p">[]</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-12" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-12"></a>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-13" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-13"></a><span class="c1"># If set to False, it will sort by filename instead. Defaults to True</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-14" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-14"></a><span class="n">GALLERY_SORT_BY_DATE</span> <span class="o">=</span> <span class="kc">True</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-15" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-15"></a>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-16" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-16"></a><span class="c1"># Folders containing images to be used in normal posts or pages.</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-17" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-17"></a><span class="c1"># IMAGE_FOLDERS is a dictionary of the form {"source": "destination"},</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-18" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-18"></a><span class="c1"># where "source" is the folder containing the images to be published, and</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-19" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-19"></a><span class="c1"># "destination" is the folder under OUTPUT_PATH containing the images copied</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-20" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-20"></a><span class="c1"># to the site. Thumbnail images will be created there as well.</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-21" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-21"></a><span class="n">IMAGE_FOLDERS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'images'</span><span class="p">:</span> <span class="s1">'images'</span><span class="p">}</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-22" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-22"></a>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-23" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-23"></a><span class="c1"># Images will be scaled down according to IMAGE_THUMBNAIL_SIZE and MAX_IMAGE_SIZE</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-24" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-24"></a><span class="c1"># options, but will have to be referenced manually to be visible on the site</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-25" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-25"></a><span class="c1"># (the thumbnail has ``.thumbnail`` added before the file extension by default,</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-26" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-26"></a><span class="c1"># but a different naming template can be configured with IMAGE_THUMBNAIL_FORMAT).</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-27" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-27"></a><span class="n">IMAGE_THUMBNAIL_SIZE</span> <span class="o">=</span> <span class="mi">400</span>
<a id="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-28" name="rest_code_41c7dfbb0c3442d38f7fb4688b9de689-28"></a><span class="n">IMAGE_THUMBNAIL_FORMAT</span> <span class="o">=</span> <span class="s1">'</span><span class="si">{name}</span><span class="s1">.thumbnail</span><span class="si">{ext}</span><span class="s1">'</span>
</pre>
<p>If you add a reST file&nbsp;in <code class="docutils literal">galleries/gallery_name/index.txt</code> its contents will be
converted to <span class="caps">HTML</span> and inserted above the images in the gallery page. The
format is the same as for&nbsp;posts.</p>
<p>If you add some image filenames&nbsp;in <code class="docutils literal">galleries/gallery_name/exclude.meta</code>, they
will be excluded in the gallery&nbsp;page.</p>
<p>If <code class="docutils literal">USE_FILENAME_AS_TITLE</code> is True the filename (parsed as a readable string)
is used as the photo caption. If the filename starts with a number, it will
be stripped. For&nbsp;example <code class="docutils literal">03_an_amazing_sunrise.jpg</code> will be render as <em>An amazing sunrise</em>.</p>
<p>Here is a <a class="reference external" href="../../galleries/demo">demo gallery</a> of historic, public domain Nikola
Tesla pictures taken from <a class="reference external" href="http://kerryr.net/pioneers/gallery/tesla.htm">this site</a>.</p>
<section id="embedding-images"><h3><a class="toc-backref" href="#id75">Embedding&nbsp;Images</a></h3>
<p>Assuming that you have your pictures stored in a folder&nbsp;called <code class="docutils literal">images</code> (as configured above),
you can embed the same in your posts with the following reST&nbsp;directive:</p>
<pre class="code rest"><a id="rest_code_08d043d91eac472280a6324345bbf80e-1" name="rest_code_08d043d91eac472280a6324345bbf80e-1"></a><span class="p">..</span> <span class="ow">image</span><span class="p">::</span> /images/tesla.jpg
</pre>
<p>Which is equivalent to the following <span class="caps">HTML</span>&nbsp;code:</p>
<pre class="code html"><a id="rest_code_feb217ba9b3c4a06b63a8e1e1a880750-1" name="rest_code_feb217ba9b3c4a06b63a8e1e1a880750-1"></a><span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">"/images/tesla.jpg"</span><span class="p">&gt;</span>
</pre>
<p>Please take note of the leading&nbsp;forward-slash <code class="docutils literal">/</code> which refers to the root
output directory. (Make sure to use this even if you’re not deploying to
web server&nbsp;root.)</p>
<p>You can also use thumbnails with&nbsp;the <code class="docutils literal">.. thumbnail::</code> reST directive. For
more details, and equivalent <span class="caps">HTML</span> code, see <a class="reference internal" href="#thumbnails">Thumbnails</a>.</p>
</section></section><section id="handling-exif-data"><h2><a class="toc-backref" href="#id76">Handling <span class="caps">EXIF</span>&nbsp;Data</a></h2>
<p>Your images contain a certain amount of extra data besides the image itself,
called the <a class="reference external" href="https://en.wikipedia.org/wiki/Exchangeable_image_file_format"><span class="caps">EXIF</span> metadata.</a>
It contains information about the camera you used to take the picture, when it was taken,
and maybe even the location where it was&nbsp;taken.</p>
<p>This is both useful, because you can use it in some apps to locate all the pictures taken
in a certain place, or with a certain camera, but also, since the pictures Nikola
publishes are visible to anyone on the Internet, a privacy risk worth considering
(Imagine if you post pictures taken at home with <span class="caps">GPS</span> info, you are publishing your
home&nbsp;address!)</p>
<p>Nikola has some support for managing it, so let&#8217;s go through a few scenarios to
see which one you&nbsp;prefer.</p>
<section id="strip-all-exif-data"><h3><a class="toc-backref" href="#id77">Strip all <span class="caps">EXIF</span>&nbsp;data</a></h3>
<p>Do this if you want to be absolutely sure that no sensitive information should ever&nbsp;leak:</p>
<pre class="code python"><a id="rest_code_efa8f57bb2fc4a9b9915d51fe090aefc-1" name="rest_code_efa8f57bb2fc4a9b9915d51fe090aefc-1"></a><span class="n">PRESERVE_EXIF_DATA</span> <span class="o">=</span> <span class="kc">False</span>
<a id="rest_code_efa8f57bb2fc4a9b9915d51fe090aefc-2" name="rest_code_efa8f57bb2fc4a9b9915d51fe090aefc-2"></a><span class="n">EXIF_WHITELIST</span> <span class="o">=</span> <span class="p">{}</span>
</pre></section><section id="preserve-all-exif-data"><h3><a class="toc-backref" href="#id78">Preserve all <span class="caps">EXIF</span>&nbsp;data</a></h3>
<p>Do this if you really don&#8217;t mind people knowing where pictures were taken, or camera&nbsp;settings:</p>
<pre class="code python"><a id="rest_code_c7118d97de3b4d85bc94606fed0c7098-1" name="rest_code_c7118d97de3b4d85bc94606fed0c7098-1"></a><span class="n">PRESERVE_EXIF_DATA</span> <span class="o">=</span> <span class="kc">True</span>
<a id="rest_code_c7118d97de3b4d85bc94606fed0c7098-2" name="rest_code_c7118d97de3b4d85bc94606fed0c7098-2"></a><span class="n">EXIF_WHITELIST</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'*'</span><span class="p">:</span> <span class="s1">'*'</span><span class="p">}</span>
</pre></section><section id="preserve-some-exif-data"><h3><a class="toc-backref" href="#id79">Preserve some <span class="caps">EXIF</span>&nbsp;data</a></h3>
<p>Do this if you really know what you are doing. <span class="caps">EXIF</span> data comes separated in a few <span class="caps">IFD</span> blocks.
The most common ones&nbsp;are:</p>
<dl class="simple">
<dt>0th</dt>
<dd>
<p>Information about the image&nbsp;itself</p>
</dd>
<dt>Exif</dt>
<dd>
<p>Information about the camera and the&nbsp;image</p>
</dd>
<dt>1st</dt>
<dd>
<p>Information about embedded thumbnails (usually&nbsp;nothing)</p>
</dd>
<dt>thumbnail</dt>
<dd>
<p>An embedded thumbnail, in <span class="caps">JPEG</span> format (usually&nbsp;nothing)</p>
</dd>
<dt><span class="caps">GPS</span></dt>
<dd>
<p>Geolocation information about the&nbsp;image</p>
</dd>
<dt>Interop</dt>
<dd>
<p>Not too interesting at this&nbsp;point.</p>
</dd>
</dl>
<p>Each <span class="caps">IFD</span> in turn contains a number of tags. For example, 0th contains a ImageWidth tag.
You can tell Nikola exactly which IFDs to keep, and within each <span class="caps">IFD</span>, which tags to keep,
using the EXIF_WHITELIST&nbsp;option.</p>
<p>Let&#8217;s see an&nbsp;example:</p>
<pre class="code python"><a id="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-1" name="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-1"></a><span class="n">PRESERVE_EXIF_DATA</span> <span class="o">=</span> <span class="kc">True</span>
<a id="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-2" name="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-2"></a><span class="n">EXIF_WHITELIST</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-3" name="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-3"></a>    <span class="s2">"0th"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"Orientation"</span><span class="p">,</span> <span class="s2">"ImageWidth"</span><span class="p">,</span> <span class="s2">"ImageLength"</span><span class="p">],</span>
<a id="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-4" name="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-4"></a>    <span class="s2">"Interop"</span><span class="p">:</span> <span class="s2">"*"</span><span class="p">,</span>
<a id="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-5" name="rest_code_fb6a5049fd8d48ba8cdcb8a3ef5a1b0d-5"></a><span class="p">}</span>
</pre>
<p>So, we preserve <span class="caps">EXIF</span> data, and the whitelisted IFDs are &#8220;0th&#8221; and &#8220;Interop&#8221;. That means
<span class="caps">GPS</span>, for example, will be totally&nbsp;deleted.</p>
<p>Then, for the Interop <span class="caps">IFD</span>, we keep everything, and for the 0th <span class="caps">IFD</span> we only keep three tags,
listed&nbsp;there.</p>
<p>There is a huge number of <span class="caps">EXIF</span> tags, described in <a class="reference external" href="http://www.cipa.jp/std/documents/e/DC-008-2012_E.pdf">the&nbsp;standard</a></p>
</section></section><section id="handling-icc-profiles"><h2><a class="toc-backref" href="#id80">Handling <span class="caps">ICC</span>&nbsp;Profiles</a></h2>
<p>Your images may contain <a class="reference external" href="https://en.wikipedia.org/wiki/ICC_profile"><span class="caps">ICC</span> profiles.</a>  These describe the color space in which the images were created or&nbsp;captured.</p>
<p>Most desktop web browsers can use embedded <span class="caps">ICC</span> profiles to display images accurately.  As of early 2018 few mobile browsers consider <span class="caps">ICC</span> profiles when displaying images.  A notable exception is Safari on&nbsp;iOS.</p>
<p>By default Nikola strips out <span class="caps">ICC</span> profiles when preparing images for your posts and galleries.  If you want Nikola to preserve <span class="caps">ICC</span> profiles, add this in&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a id="rest_code_88bd8fe516d140b5aa1b37db701ac43d-1" name="rest_code_88bd8fe516d140b5aa1b37db701ac43d-1"></a><span class="n">PRESERVE_ICC_PROFILES</span> <span class="o">=</span> <span class="kc">True</span>
</pre>
<p>You may wish to do this if, for example, your site contains <span class="caps">JPEG</span> images that use a wide-gamut profile such as &#8220;Display&nbsp;P3&#8221;.</p>
</section><section id="post-processing-filters"><h2><a class="toc-backref" href="#id81">Post Processing&nbsp;Filters</a></h2>
<p>You can apply post processing to the files in your site, in order to optimize them
or change them in arbitrary ways. For example, you may want to compress all <span class="caps">CSS</span>
and <span class="caps">JS</span> files using&nbsp;yui-compressor.</p>
<p>To do that, you can use the provided helper adding this in&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a id="rest_code_fec25193d4d24598b212b00d4ecc3fbc-1" name="rest_code_fec25193d4d24598b212b00d4ecc3fbc-1"></a><span class="n">FILTERS</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_fec25193d4d24598b212b00d4ecc3fbc-2" name="rest_code_fec25193d4d24598b212b00d4ecc3fbc-2"></a>  <span class="s2">".css"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"filters.yui_compressor"</span><span class="p">],</span>
<a id="rest_code_fec25193d4d24598b212b00d4ecc3fbc-3" name="rest_code_fec25193d4d24598b212b00d4ecc3fbc-3"></a>  <span class="s2">".js"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"filters.yui_compressor"</span><span class="p">],</span>
<a id="rest_code_fec25193d4d24598b212b00d4ecc3fbc-4" name="rest_code_fec25193d4d24598b212b00d4ecc3fbc-4"></a><span class="p">}</span>
</pre>
<p>Where <code class="docutils literal">"filters.yui_compressor"</code> points to a helper function provided by Nikola in&nbsp;the
<code class="docutils literal">filters</code> module. You can replace that with strings describing command lines, or
arbitrary python&nbsp;functions.</p>
<p>If there&#8217;s any specific thing you expect to be generally useful as a filter, contact
me and I will add it to the filters library so that more people use&nbsp;it.</p>
<p>The currently available filters&nbsp;are:</p>
<aside class="sidebar"><p class="sidebar-title">Creating your own&nbsp;filters</p>
<p>You can use any program name that works in place as a filter,&nbsp;like <code class="docutils literal">sed <span class="pre">-i</span></code>
and you can use arbitrary Python functions as filters,&nbsp;too.</p>
<p>If your program doesn&#8217;t run in-place, then you can use&nbsp;Nikola&#8217;s <code class="docutils literal">runinplace</code> function (from&nbsp;the <code class="docutils literal">filters</code> module).
For example, this is how the yui_compressor filter is&nbsp;implemented:</p>
<pre class="code python"><a id="rest_code_51fa0e62556245b3b948d0db89ff5671-1" name="rest_code_51fa0e62556245b3b948d0db89ff5671-1"></a><span class="kn">from</span> <span class="nn">nikola.filters</span> <span class="kn">import</span> <span class="n">runinplace</span>
<a id="rest_code_51fa0e62556245b3b948d0db89ff5671-2" name="rest_code_51fa0e62556245b3b948d0db89ff5671-2"></a><span class="k">def</span> <span class="nf">yui_compressor</span><span class="p">(</span><span class="n">infile</span><span class="p">):</span>
<a id="rest_code_51fa0e62556245b3b948d0db89ff5671-3" name="rest_code_51fa0e62556245b3b948d0db89ff5671-3"></a>    <span class="k">return</span> <span class="n">runinplace</span><span class="p">(</span><span class="sa">r</span><span class="s1">'yui-compressor --nomunge %1 -o %2'</span><span class="p">,</span> <span class="n">infile</span><span class="p">)</span>
</pre>
<p>You can turn any function into a filter&nbsp;using <code class="docutils literal">apply_to_text_file</code> (for
text files to be read in <span class="caps">UTF</span>-8)&nbsp;and <code class="docutils literal">apply_to_binary_file</code> (for files to
be read in binary&nbsp;mode).</p>
<p>As a silly example, this would make everything uppercase and totally break
your&nbsp;website:</p>
<pre class="code python"><a id="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-1" name="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-1"></a><span class="kn">import</span> <span class="nn">string</span>
<a id="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-2" name="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-2"></a><span class="kn">from</span> <span class="nn">nikola.filters</span> <span class="kn">import</span> <span class="n">apply_to_text_file</span>
<a id="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-3" name="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-3"></a><span class="n">FILTERS</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-4" name="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-4"></a>  <span class="s2">".html"</span><span class="p">:</span> <span class="p">[</span><span class="n">apply_to_text_file</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">upper</span><span class="p">)]</span>
<a id="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-5" name="rest_code_ce9c478aa9ce4f51a5c0e76d025de6d7-5"></a><span class="p">}</span>
</pre></aside><dl>
<dt>filters.html_tidy_nowrap</dt>
<dd>
<p>Prettify <span class="caps">HTML</span> 5 documents with <a class="reference external" href="http://www.html-tidy.org/">tidy5</a></p>
</dd>
<dt>filters.html_tidy_wrap</dt>
<dd>
<p>Prettify <span class="caps">HTML</span> 5 documents wrapped at 80 characters with <a class="reference external" href="http://www.html-tidy.org/">tidy5</a></p>
</dd>
<dt>filters.html_tidy_wrap_attr</dt>
<dd>
<p>Prettify <span class="caps">HTML</span> 5 documents and wrap lines and attributes with <a class="reference external" href="http://www.html-tidy.org/">tidy5</a></p>
</dd>
<dt>filters.html_tidy_mini</dt>
<dd>
<p>Minify <span class="caps">HTML</span> 5 into smaller documents with <a class="reference external" href="http://www.html-tidy.org/">tidy5</a></p>
</dd>
<dt>filters.html_tidy_withconfig</dt>
<dd>
<p>Run <a class="reference external" href="http://www.html-tidy.org/">tidy5</a>&nbsp;with <code class="docutils literal">tidy5.conf</code> as the config file (supplied by&nbsp;user)</p>
</dd>
<dt>filters.html5lib_minify</dt>
<dd>
<p>Minify <span class="caps">HTML5</span> using&nbsp;html5lib_minify</p>
</dd>
<dt>filters.html5lib_xmllike</dt>
<dd>
<p>Format using&nbsp;html5lib</p>
</dd>
<dt>filters.typogrify</dt>
<dd>
<p>Improve typography using <a class="reference external" href="http://static.mintchaos.com/projects/typogrify/">typogrify</a></p>
</dd>
<dt>filters.typogrify_sans_widont</dt>
<dd>
<p>Same as typogrify without the widont&nbsp;filter</p>
</dd>
<dt>filters.minify_lines</dt>
<dd>
<p><strong><span class="caps">THIS</span> <span class="caps">FILTER</span> <span class="caps">HAS</span> <span class="caps">BEEN</span> <span class="caps">TURNED</span> <span class="caps">INTO</span> A <span class="caps">NOOP</span></strong> and currently does&nbsp;nothing.</p>
</dd>
<dt>filters.normalize_html</dt>
<dd>
<p>Pass <span class="caps">HTML</span> through <span class="caps">LXML</span> to normalize it. For example, it will&nbsp;resolve <code class="docutils literal">&amp;quot;</code> to actual
quotes. Usually not&nbsp;needed.</p>
</dd>
<dt>filters.yui_compressor</dt>
<dd>
<p>Compress <span class="caps">CSS</span>/JavaScript using <a class="reference external" href="http://yui.github.io/yuicompressor/"><span class="caps">YUI</span>&nbsp;compressor</a></p>
</dd>
<dt>filters.closure_compiler</dt>
<dd>
<p>Compile, compress, and optimize JavaScript <a class="reference external" href="https://developers.google.com/closure/compiler/">Google Closure&nbsp;Compiler</a></p>
</dd>
<dt>filters.optipng</dt>
<dd>
<p>Compress <span class="caps">PNG</span> files using <a class="reference external" href="http://optipng.sourceforge.net/">optipng</a></p>
</dd>
<dt>filters.jpegoptim</dt>
<dd>
<p>Compress <span class="caps">JPEG</span> files using <a class="reference external" href="http://www.kokkonen.net/tjko/projects.html">jpegoptim</a></p>
</dd>
<dt>filters.cssminify</dt>
<dd>
<p>Minify <span class="caps">CSS</span> using <a class="reference external" href="http://cssminifier.com/">http://cssminifier.com/</a> (requires Internet&nbsp;access)</p>
</dd>
<dt>filters.jsminify</dt>
<dd>
<p>Minify <span class="caps">JS</span> using <a class="reference external" href="http://javascript-minifier.com/">http://javascript-minifier.com/</a> (requires Internet&nbsp;access)</p>
</dd>
<dt>filters.jsonminify</dt>
<dd>
<p>Minify <span class="caps">JSON</span> files (strip whitespace and use minimal&nbsp;separators).</p>
</dd>
<dt>filters.xmlminify</dt>
<dd>
<p>Minify <span class="caps">XML</span> files. Suitable for Nikola’s sitemaps and Atom&nbsp;feeds.</p>
</dd>
<dt>filters.add_header_permalinks</dt>
<dd>
<p>Add links next to every header, Sphinx-style. You will need to add styling for the <cite>headerlink</cite> class,
in <cite>custom.css</cite>, for&nbsp;example:</p>
<pre class="code css"><a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-1" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-1"></a><span class="c">/* Header permalinks */</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-2" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-2"></a><span class="nt">h1</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span><span class="o">,</span> <span class="nt">h2</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span><span class="o">,</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-3" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-3"></a><span class="nt">h3</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span><span class="o">,</span> <span class="nt">h4</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span><span class="o">,</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-4" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-4"></a><span class="nt">h5</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span><span class="o">,</span> <span class="nt">h6</span><span class="p">:</span><span class="nd">hover</span> <span class="p">.</span><span class="nc">headerlink</span> <span class="p">{</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-5" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-5"></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">inline</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-6" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-6"></a><span class="p">}</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-7" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-7"></a>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-8" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-8"></a><span class="p">.</span><span class="nc">headerlink</span> <span class="p">{</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-9" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-9"></a>    <span class="k">display</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-10" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-10"></a>    <span class="k">color</span><span class="p">:</span> <span class="mh">#ddd</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-11" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-11"></a>    <span class="k">margin-left</span><span class="p">:</span> <span class="mf">0.2</span><span class="kt">em</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-12" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-12"></a>    <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mf">0.2</span><span class="kt">em</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-13" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-13"></a><span class="p">}</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-14" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-14"></a>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-15" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-15"></a><span class="p">.</span><span class="nc">headerlink</span><span class="p">:</span><span class="nd">hover</span> <span class="p">{</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-16" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-16"></a>    <span class="k">opacity</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-17" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-17"></a>    <span class="k">background</span><span class="p">:</span> <span class="mh">#ddd</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-18" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-18"></a>    <span class="k">color</span><span class="p">:</span> <span class="mh">#000</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-19" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-19"></a>    <span class="k">text-decoration</span><span class="p">:</span> <span class="kc">none</span><span class="p">;</span>
<a id="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-20" name="rest_code_afda1b47ce7940ee8c2c9ca15c9b178a-20"></a><span class="p">}</span>
</pre>
<p>Additionally, you can provide a custom list of XPath expressions which should be used for finding headers&nbsp;(<code class="docutils literal">{hx}</code> is replaced by headers h1 through h6).
This is required if you use a custom theme that does not&nbsp;use <code class="docutils literal"><span class="pre">"e-content</span> <span class="pre">entry-content"</span></code> as a class for post and page&nbsp;contents.</p>
<pre class="code python"><a id="rest_code_1e190925af1c4d85be85644ad1643975-1" name="rest_code_1e190925af1c4d85be85644ad1643975-1"></a><span class="c1"># Default value:</span>
<a id="rest_code_1e190925af1c4d85be85644ad1643975-2" name="rest_code_1e190925af1c4d85be85644ad1643975-2"></a><span class="n">HEADER_PERMALINKS_XPATH_LIST</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'*//div[@class="e-content entry-content"]//</span><span class="si">{hx}</span><span class="s1">'</span><span class="p">]</span>
<a id="rest_code_1e190925af1c4d85be85644ad1643975-3" name="rest_code_1e190925af1c4d85be85644ad1643975-3"></a><span class="c1"># Include *every* header (not recommended):</span>
<a id="rest_code_1e190925af1c4d85be85644ad1643975-4" name="rest_code_1e190925af1c4d85be85644ad1643975-4"></a><span class="c1"># HEADER_PERMALINKS_XPATH_LIST = ['*//{hx}']</span>
</pre>
</dd>
<dt>filters.deduplicate_ids</dt>
<dd>
<p>Prevent duplicated IDs in <span class="caps">HTML</span> output. An incrementing counter is added to
offending IDs. If used&nbsp;alongside <code class="docutils literal">add_header_permalinks</code>, it will fix
those links (it must run <strong>after</strong> that&nbsp;filter)</p>
<p>IDs are numbered from the bottom up, which is useful for indexes (updates
appear at the top). There are exceptions, which may be configured&nbsp;using
<code class="docutils literal">DEDUPLICATE_IDS_TOP_CLASSES</code> — if any of those classes appears sin the
document, the IDs are rewritten top-down, which is useful for posts/pages
(updates appear at the&nbsp;bottom).</p>
<p>Note that in rare cases, permalinks might not always be <em>permanent</em> in case
of&nbsp;edits.</p>
<pre class="code python"><a id="rest_code_2091024c99894d07bb455d9988f5f02b-1" name="rest_code_2091024c99894d07bb455d9988f5f02b-1"></a>  <span class="n">DEDUPLICATE_IDS_TOP_CLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="s1">'postpage'</span><span class="p">,</span> <span class="s1">'storypage'</span><span class="p">)</span>
<a id="rest_code_2091024c99894d07bb455d9988f5f02b-2" name="rest_code_2091024c99894d07bb455d9988f5f02b-2"></a>
<a id="rest_code_2091024c99894d07bb455d9988f5f02b-3" name="rest_code_2091024c99894d07bb455d9988f5f02b-3"></a><span class="n">You</span> <span class="n">can</span> <span class="n">also</span> <span class="n">use</span> <span class="n">a</span> <span class="n">file</span> <span class="n">blacklist</span> <span class="p">(</span><span class="err">``</span><span class="n">HEADER_PERMALINKS_FILE_BLACKLIST</span><span class="err">``</span><span class="p">),</span>
<a id="rest_code_2091024c99894d07bb455d9988f5f02b-4" name="rest_code_2091024c99894d07bb455d9988f5f02b-4"></a><span class="n">useful</span> <span class="k">for</span> <span class="n">some</span> <span class="n">index</span> <span class="n">pages</span><span class="o">.</span> <span class="n">Paths</span> <span class="n">include</span> <span class="n">the</span> <span class="n">output</span> <span class="n">directory</span> <span class="p">(</span><span class="n">eg</span><span class="o">.</span>
<a id="rest_code_2091024c99894d07bb455d9988f5f02b-5" name="rest_code_2091024c99894d07bb455d9988f5f02b-5"></a><span class="err">``</span><span class="n">output</span><span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span><span class="err">``</span><span class="p">)</span>
</pre>
</dd>
</dl>
<p>You can apply filters to specific posts or pages by using&nbsp;the <code class="docutils literal">filters</code> metadata&nbsp;field:</p>
<pre class="code restructuredtext"><a id="rest_code_6d20d180fe3142a890d8f09eea0692e5-1" name="rest_code_6d20d180fe3142a890d8f09eea0692e5-1"></a><span class="cp">.. filters: filters.html_tidy_nowrap, "sed s/foo/bar"</span>
</pre></section><section id="optimizing-your-website"><h2><a class="toc-backref" href="#id82">Optimizing Your&nbsp;Website</a></h2>
<p>One of the main goals of Nikola is to make your site fast and light. So here are a few
tips we have found when setting up Nikola with Apache. If you have more, or
different ones, or about other web servers, please&nbsp;share!</p>
<ol class="arabic">
<li><p>Use a speed testing tool. I used Yahoo&#8217;s YSlow but you can use any of them, and
it&#8217;s probably a good idea to use more than&nbsp;one.</p></li>
<li>
<p>Enable compression in&nbsp;Apache:</p>
<pre class="code apache"><a id="rest_code_a34eefd04ff346e1bcc1eb01b76348d6-1" name="rest_code_a34eefd04ff346e1bcc1eb01b76348d6-1"></a><span class="nb">AddOutputFilterByType</span> DEFLATE text/html text/plain text/xml text/css text/javascript
</pre>
</li>
<li>
<p>If even after you did the previous step the <span class="caps">CSS</span> files are not sent&nbsp;compressed:</p>
<pre class="code apache"><a id="rest_code_210a491b0fc740a1956954efb3f237ab-1" name="rest_code_210a491b0fc740a1956954efb3f237ab-1"></a><span class="nb">AddType</span> text/css .css
</pre>
</li>
<li><p>Optionally you can create static compressed copies and save some <span class="caps">CPU</span> on your server
with the GZIP_FILES option in&nbsp;Nikola.</p></li>
<li><p>The bundles Nikola plugin can drastically decrease the number of <span class="caps">CSS</span> and <span class="caps">JS</span> files your site&nbsp;fetches.</p></li>
<li><p>Through the filters feature, you can run your files through arbitrary commands, so that images
are recompressed, JavaScript is minimized,&nbsp;etc.</p></li>
<li><p>The USE_CDN option offloads standard JavaScript and <span class="caps">CSS</span> files to a <span class="caps">CDN</span> so they are not
downloaded from your&nbsp;server.</p></li>
</ol></section><section id="math"><h2><a class="toc-backref" href="#id83">Math</a></h2>
<p>Nikola supports math input via MathJax (by default) or KaTeX.  It is activated
via the math roles and directives of reStructuredText and the usual LaTeX
delimiters for other input&nbsp;formats.</p>
<section id="id6"><h3><a class="toc-backref" href="#id84">Configuration</a></h3>
<p>Nikola uses MathJax by default. If you want to use KaTeX (faster and prettier,
but may not support every feature yet),&nbsp;set <code class="docutils literal">USE_KATEX = True</code> in
<code class="docutils literal">conf.py</code>.</p>
<p>To use mathematics in a post, you <strong>must</strong> set&nbsp;the <code class="docutils literal">has_math</code> metadata field&nbsp;to <code class="docutils literal">true</code>. (Exception: posts that are Jupyter Notebooks are automatically
marked as&nbsp;math)</p>
<!-- Note to editors: the paragraph below uses U+200B, zero-width space. Don’t break it. -->
<p>By default, Nikola will&nbsp;accept <code class="docutils literal"><span class="pre">\​(...\​)</span></code> for inline&nbsp;math; <code class="docutils literal"><span class="pre">\​[...\​]</span></code> and
<code class="docutils literal"><span class="pre">$​$...$​$</span></code> for display math. If you want to use the&nbsp;old <code class="docutils literal"><span class="pre">$...$</span></code> syntax as well
(which may conflict with running text!), you need to use special config for
your&nbsp;renderer:</p>
<pre class="code python"><a id="rest_code_0d8af044ba914d1c8cef44708074d53c-1" name="rest_code_0d8af044ba914d1c8cef44708074d53c-1"></a><span class="n">MATHJAX_CONFIG</span> <span class="o">=</span> <span class="s2">"""</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-2" name="rest_code_0d8af044ba914d1c8cef44708074d53c-2"></a><span class="s2">&lt;script type="text/x-mathjax-config"&gt;</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-3" name="rest_code_0d8af044ba914d1c8cef44708074d53c-3"></a><span class="s2">MathJax.Hub.Config({</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-4" name="rest_code_0d8af044ba914d1c8cef44708074d53c-4"></a><span class="s2">    tex2jax: {</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-5" name="rest_code_0d8af044ba914d1c8cef44708074d53c-5"></a><span class="s2">        inlineMath: [ ['$','$'], ["</span><span class="se">\\</span><span class="s2">\(","</span><span class="se">\\</span><span class="s2">\)"] ],</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-6" name="rest_code_0d8af044ba914d1c8cef44708074d53c-6"></a><span class="s2">        displayMath: [ ['$$','$$'], ["</span><span class="se">\\</span><span class="s2">\[","</span><span class="se">\\</span><span class="s2">\]"] ],</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-7" name="rest_code_0d8af044ba914d1c8cef44708074d53c-7"></a><span class="s2">        processEscapes: true</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-8" name="rest_code_0d8af044ba914d1c8cef44708074d53c-8"></a><span class="s2">    },</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-9" name="rest_code_0d8af044ba914d1c8cef44708074d53c-9"></a><span class="s2">    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-10" name="rest_code_0d8af044ba914d1c8cef44708074d53c-10"></a><span class="s2">    "HTML-CSS": {</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-11" name="rest_code_0d8af044ba914d1c8cef44708074d53c-11"></a><span class="s2">        styles: {'.MathJax_Display': {"margin": 0}}</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-12" name="rest_code_0d8af044ba914d1c8cef44708074d53c-12"></a><span class="s2">    }</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-13" name="rest_code_0d8af044ba914d1c8cef44708074d53c-13"></a><span class="s2">});</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-14" name="rest_code_0d8af044ba914d1c8cef44708074d53c-14"></a><span class="s2">&lt;/script&gt;</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-15" name="rest_code_0d8af044ba914d1c8cef44708074d53c-15"></a><span class="s2">"""</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-16" name="rest_code_0d8af044ba914d1c8cef44708074d53c-16"></a>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-17" name="rest_code_0d8af044ba914d1c8cef44708074d53c-17"></a><span class="n">KATEX_AUTO_RENDER</span> <span class="o">=</span> <span class="s2">"""</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-18" name="rest_code_0d8af044ba914d1c8cef44708074d53c-18"></a><span class="s2">delimiters: [</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-19" name="rest_code_0d8af044ba914d1c8cef44708074d53c-19"></a><span class="s2">    {left: "$$", right: "$$", display: true},</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-20" name="rest_code_0d8af044ba914d1c8cef44708074d53c-20"></a><span class="s2">    {left: "</span><span class="se">\\</span><span class="s2">\[", right: "</span><span class="se">\\</span><span class="s2">\]", display: true},</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-21" name="rest_code_0d8af044ba914d1c8cef44708074d53c-21"></a><span class="s2">    {left: "$", right: "$", display: false},</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-22" name="rest_code_0d8af044ba914d1c8cef44708074d53c-22"></a><span class="s2">    {left: "</span><span class="se">\\</span><span class="s2">\(", right: "</span><span class="se">\\</span><span class="s2">\)", display: false}</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-23" name="rest_code_0d8af044ba914d1c8cef44708074d53c-23"></a><span class="s2">]</span>
<a id="rest_code_0d8af044ba914d1c8cef44708074d53c-24" name="rest_code_0d8af044ba914d1c8cef44708074d53c-24"></a><span class="s2">"""</span>
</pre>
<p><em>(Note: the previous paragraph uses invisible characters to prevent rendering
TeX for display, so don’t copy the examples with three dots to your&nbsp;posts)</em></p>
</section><section id="inline-usage"><h3><a class="toc-backref" href="#id85">Inline&nbsp;usage</a></h3>
<p>Inline mathematics are produced using the reST <cite>math</cite> <strong>role</strong> or the LaTeX
backslash-parentheses&nbsp;delimiters:</p>
<p>Euler’s formula: <span class="math">\(e^{ix} = \cos x + i\sin&nbsp;x\)</span></p>
<p>In&nbsp;reST:</p>
<pre class="code restructuredtext"><a id="rest_code_2861a037ff1c4ee3aa08814ca6249a7e-1" name="rest_code_2861a037ff1c4ee3aa08814ca6249a7e-1"></a>Euler’s formula: <span class="na">:math:</span><span class="nv">`e^{ix} = \cos x + i\sin x`</span>
</pre>
<p>In <span class="caps">HTML</span> and other input&nbsp;formats:</p>
<pre class="code text"><a id="rest_code_c813e32155ec42faa2cbecaf4a69593e-1" name="rest_code_c813e32155ec42faa2cbecaf4a69593e-1"></a>Euler’s formula: \(e^{ix} = \cos x + i\sin x\)
</pre>
<p>Note that some input formats (including Markdown) require using <strong>double
backslashes</strong> in the delimiters&nbsp;(<code class="docutils literal"><span class="pre">\\(inline</span> <span class="pre">math\\)</span></code>). Please check your
output first before reporting&nbsp;bugs.</p>
</section><section id="display-usage"><h3><a class="toc-backref" href="#id86">Display&nbsp;usage</a></h3>
<p>Display mathematics are produced using the reST <cite>math</cite> <strong>directive</strong> or the
LaTeX backslash-brackets&nbsp;delimiters:</p>
<div class="math">
\begin{equation*}
\int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C
\end{equation*}
</div>
<p>In&nbsp;reST:</p>
<pre class="code restructuredtext"><a id="rest_code_b4f0aea1f7794edda47ede2b9519cc33-1" name="rest_code_b4f0aea1f7794edda47ede2b9519cc33-1"></a><span class="p">..</span> <span class="ow">math</span><span class="p">::</span>
<a id="rest_code_b4f0aea1f7794edda47ede2b9519cc33-2" name="rest_code_b4f0aea1f7794edda47ede2b9519cc33-2"></a>
<a id="rest_code_b4f0aea1f7794edda47ede2b9519cc33-3" name="rest_code_b4f0aea1f7794edda47ede2b9519cc33-3"></a>   \int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C
</pre>
<p>In <span class="caps">HTML</span> and other input&nbsp;formats:</p>
<pre class="code text"><a id="rest_code_3aa5899aa9a74b64b924140aaa371f60-1" name="rest_code_3aa5899aa9a74b64b924140aaa371f60-1"></a>\[\int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C\]
</pre>
<p>Note that some input formats (including Markdown) require using <strong>double
backslashes</strong> in the delimiters&nbsp;(<code class="docutils literal"><span class="pre">\\[display</span> <span class="pre">math\\]</span></code>). Please check your
output first before reporting&nbsp;bugs.</p>
</section></section><section id="restructuredtext-extensions"><h2><a class="toc-backref" href="#id87">reStructuredText&nbsp;Extensions</a></h2>
<p>Nikola includes support for a few directives and roles that are not part of docutils, but which
we think are handy for website&nbsp;development.</p>
<section id="includes"><h3><a class="toc-backref" href="#id88">Includes</a></h3>
<p>Nikola supports the standard&nbsp;reStructuredText <code class="docutils literal">include</code> directive, but with a
catch: filenames are relative to <strong>Nikola site root</strong> (directory&nbsp;with <code class="docutils literal">conf.py</code>)
instead of the post location&nbsp;(eg. <code class="docutils literal">posts/</code> directory)!</p>
</section><section id="media"><h3><a class="toc-backref" href="#id89">Media</a></h3>
<p>This directive lets you embed media from a variety of sites automatically by just passing the
<span class="caps">URL</span> of the page.  For example here are two random&nbsp;videos:</p>
<pre class="code restructuredtext"><a id="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-1" name="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-1"></a><span class="p">..</span> <span class="ow">media</span><span class="p">::</span> http://vimeo.com/72425090
<a id="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-2" name="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-2"></a>
<a id="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-3" name="rest_code_3b4abacb06a14aacbedd5b1299cbaf56-3"></a><span class="p">..</span> <span class="ow">media</span><span class="p">::</span> http://www.youtube.com/watch?v=wyRpAat5oz0
</pre>
<p>It supports Instagram, Flickr, Github gists, Funny or Die, and dozens more, thanks to <a class="reference external" href="https://github.com/coleifer/micawber">Micawber</a></p>
</section><section id="youtube"><h3><a class="toc-backref" href="#id90">YouTube</a></h3>
<p>To link to a YouTube video, you need the id of the video. For example, if the
<span class="caps">URL</span> of the video is <a class="reference external" href="http://www.youtube.com/watch?v=8N_tupPBtWQ">http://www.youtube.com/watch?v=8N_tupPBtWQ</a> what you need is
<strong>8N_tupPBtWQ</strong></p>
<p>Once you have that, all you need to do&nbsp;is:</p>
<pre class="code restructuredtext"><a id="rest_code_a6324b71a0ee4a8194e28bfe008c1b99-1" name="rest_code_a6324b71a0ee4a8194e28bfe008c1b99-1"></a><span class="p">..</span> <span class="ow">youtube</span><span class="p">::</span> 8N_tupPBtWQ
</pre>
<p>Supported&nbsp;options: <code class="docutils literal">height</code>, <code class="docutils literal">width</code>, <code class="docutils literal">align</code> (one&nbsp;of <code class="docutils literal">left</code>,
<code class="docutils literal">center</code>, <code class="docutils literal">right</code>) — all are optional.&nbsp;Example:</p>
<pre class="code restructuredtext"><a id="rest_code_9d8527b04d2d4017b2209e7acf8d74e4-1" name="rest_code_9d8527b04d2d4017b2209e7acf8d74e4-1"></a><span class="p">..</span> <span class="ow">youtube</span><span class="p">::</span> 8N_tupPBtWQ
<a id="rest_code_9d8527b04d2d4017b2209e7acf8d74e4-2" name="rest_code_9d8527b04d2d4017b2209e7acf8d74e4-2"></a>   <span class="nc">:align:</span> center
</pre></section><section id="vimeo"><h3><a class="toc-backref" href="#id91">Vimeo</a></h3>
<p>To link to a Vimeo video, you need the id of the video. For example, if the
<span class="caps">URL</span> of the video is <a class="reference external" href="http://www.vimeo.com/20241459">http://www.vimeo.com/20241459</a> then the id is <strong>20241459</strong></p>
<p>Once you have that, all you need to do&nbsp;is:</p>
<pre class="code restructuredtext"><a id="rest_code_c9fa97c1b0d24e32b41f2263ed40d7de-1" name="rest_code_c9fa97c1b0d24e32b41f2263ed40d7de-1"></a><span class="p">..</span> <span class="ow">vimeo</span><span class="p">::</span> 20241459
</pre>
<p>If you have internet connectivity when generating your site, the height and width of
the embedded player will be set to the native height and width of the video.
You can override this if you&nbsp;wish:</p>
<pre class="code restructuredtext"><a id="rest_code_33baeb277f52448f9288841e14e84753-1" name="rest_code_33baeb277f52448f9288841e14e84753-1"></a><span class="p">..</span> <span class="ow">vimeo</span><span class="p">::</span> 20241459
<a id="rest_code_33baeb277f52448f9288841e14e84753-2" name="rest_code_33baeb277f52448f9288841e14e84753-2"></a>   <span class="nc">:height:</span> 240
<a id="rest_code_33baeb277f52448f9288841e14e84753-3" name="rest_code_33baeb277f52448f9288841e14e84753-3"></a>   <span class="nc">:width:</span> 320
</pre>
<p>Supported&nbsp;options: <code class="docutils literal">height</code>, <code class="docutils literal">width</code>, <code class="docutils literal">align</code> (one&nbsp;of <code class="docutils literal">left</code>,
<code class="docutils literal">center</code>, <code class="docutils literal">right</code>) — all are&nbsp;optional.</p>
</section><section id="soundcloud"><h3><a class="toc-backref" href="#id92">Soundcloud</a></h3>
<p>This directive lets you share music from <a class="reference external" href="http://soundcloud.com">http://soundcloud.com</a> You first need to get the
<span class="caps">ID</span> for the piece, which you can find in the &#8220;share&#8221; link. For example, if the
WordPress code starts like&nbsp;this:</p>
<pre class="code text"><a id="rest_code_11e00b061e344af483ec373622522ceb-1" name="rest_code_11e00b061e344af483ec373622522ceb-1"></a>[soundcloud url="http://api.soundcloud.com/tracks/78131362" …/]
</pre>
<p>The <span class="caps">ID</span> is 78131362 and you can embed the audio with&nbsp;this:</p>
<pre class="code restructuredtext"><a id="rest_code_d4029c673ab045f89ebdbbe61c53b53d-1" name="rest_code_d4029c673ab045f89ebdbbe61c53b53d-1"></a><span class="p">..</span> <span class="ow">soundcloud</span><span class="p">::</span> 78131362
</pre>
<p>You can also embed playlists, via the <cite>soundcloud_playlist</cite> directive which works the same&nbsp;way.</p>
<blockquote>
<div class="soundcloud-player">
<iframe width="600" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/playlists/9411706">
</iframe>
</div>
</blockquote>
<p>Supported&nbsp;options: <code class="docutils literal">height</code>, <code class="docutils literal">width</code>, <code class="docutils literal">align</code> (one&nbsp;of <code class="docutils literal">left</code>,
<code class="docutils literal">center</code>, <code class="docutils literal">right</code>) — all are&nbsp;optional.</p>
</section><section id="code"><h3><a class="toc-backref" href="#id93">Code</a></h3>
<p>The <code class="docutils literal">code</code> directive has been included in docutils since version 0.9 and now
replaces&nbsp;Nikola&#8217;s <code class="docutils literal"><span class="pre">code-block</span></code> directive. To ease the transition, two aliases&nbsp;for <code class="docutils literal">code</code> directive are&nbsp;provided: <code class="docutils literal"><span class="pre">code-block</span></code> and <code class="docutils literal">sourcecode</code>:</p>
<pre class="code restructuredtext"><a id="rest_code_e10d4f497ba04acb846b188ff2ba24a8-1" name="rest_code_e10d4f497ba04acb846b188ff2ba24a8-1"></a><span class="p">..</span> <span class="ow">code-block</span><span class="p">::</span> python
<a id="rest_code_e10d4f497ba04acb846b188ff2ba24a8-2" name="rest_code_e10d4f497ba04acb846b188ff2ba24a8-2"></a>   <span class="nc">:number-lines:</span>
<a id="rest_code_e10d4f497ba04acb846b188ff2ba24a8-3" name="rest_code_e10d4f497ba04acb846b188ff2ba24a8-3"></a>
<a id="rest_code_e10d4f497ba04acb846b188ff2ba24a8-4" name="rest_code_e10d4f497ba04acb846b188ff2ba24a8-4"></a>   print("Our virtues and our failings are inseparable")
</pre></section><section id="listing"><h3><a class="toc-backref" href="#id94">Listing</a></h3>
<p>To use this, you have to put your source code files&nbsp;inside <code class="docutils literal">listings</code> or whatever folders&nbsp;your <code class="docutils literal">LISTINGS_FOLDERS</code> variable is set to fetch files from. Assuming you have&nbsp;a <code class="docutils literal">foo.py</code>
inside one of these&nbsp;folders:</p>
<pre class="code restructuredtext"><a id="rest_code_34552b5252684a449a8e5b52fd1d87fa-1" name="rest_code_34552b5252684a449a8e5b52fd1d87fa-1"></a><span class="p">..</span> <span class="ow">listing</span><span class="p">::</span> foo.py python
</pre>
<p>Will include the source code&nbsp;from <code class="docutils literal">foo.py</code>, highlight its syntax in python mode,
and also create&nbsp;a <code class="docutils literal">listings/foo.py.html</code> page (or in another directory, depending&nbsp;on
<code class="docutils literal">LISTINGS_FOLDER</code>) and the listing will have a title linking to&nbsp;it.</p>
<p>The&nbsp;stand-alone <code class="docutils literal">listings/</code> pages also support Jupyter notebooks, if they are
supported&nbsp;site-wide.</p>
<p>Listings support the same options <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#including-an-external-document-fragment">reST includes</a> support (including
various options for controlling which parts of the file are included), and also&nbsp;a <code class="docutils literal">linenos</code> option for Sphinx&nbsp;compatibility.</p>
<p>The <code class="docutils literal">LISTINGS_FOLDER</code> configuration variable allows to specify a list of folders where
to fetch listings from together with subfolder of&nbsp;the <code class="docutils literal">output</code> folder where the
processed listings should be put in. The default&nbsp;is, <code class="docutils literal">LISTINGS_FOLDERS = {'listings': 'listings'}</code>,
which means that all source code files&nbsp;in <code class="docutils literal">listings</code> will be taken and stored&nbsp;in <code class="docutils literal">output/listings</code>.&nbsp;Extending <code class="docutils literal">LISTINGS_FOLDERS</code> to <code class="docutils literal">{'listings': 'listings', 'code': <span class="pre">'formatted-code'}</span></code>
will additionally process all source code files&nbsp;in <code class="docutils literal">code</code> and put the results&nbsp;into
<code class="docutils literal"><span class="pre">output/formatted-code</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Formerly, <code class="docutils literal"><span class="pre">start-at</span></code> and <code class="docutils literal"><span class="pre">end-at</span></code> options were supported; however,
they do not work anymore (since v6.1.0) and you should now&nbsp;use <code class="docutils literal"><span class="pre">start-after</span></code>
and <code class="docutils literal"><span class="pre">end-before</span></code>, respectively.  You can also&nbsp;use <code class="docutils literal"><span class="pre">start-line</span></code> and
<code class="docutils literal"><span class="pre">end-line</span></code>.</p>
</div>
</section><section id="gist"><h3><a class="toc-backref" href="#id95">Gist</a></h3>
<p>You can easily embed GitHub gists with this directive, like&nbsp;this:</p>
<pre class="code restructuredtext"><a id="rest_code_85ff71d06df941d697b834608c40a31f-1" name="rest_code_85ff71d06df941d697b834608c40a31f-1"></a><span class="p">..</span> <span class="ow">gist</span><span class="p">::</span> 2395294
</pre>
<p>Producing&nbsp;this:</p>
<script src="https://gist.github.com/2395294.js"></script><noscript>
<pre class="literal-block">#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

int nonHeapInt;

struct HeapObject
{
    int x;  // 因為如果找 x 的 pointer，實際上和找 HeapObject 的開頭 pointer 相同，
            // 所以我們必需加一個y，讓我們指定 pointer 時不會指到 HeapObject 的開頭。
    int y;
};

int main()
{
    struct HeapObject * heapObject = malloc(sizeof(struct HeapObject));

    nonHeapInt = 10;
    heapObject-&gt;y = 20;

    printf("Start nonHeapInt:%d\n", nonHeapInt);
    printf("Start heapObject-&gt;y:%d\n", heapObject-&gt;y);

    // free(&amp;nonHeapInt); // GCC 會警告，執行 glibc 會丟 invalid pointer exception
    // free(&amp;(heapObject-&gt;y)); // 雖然不會景告，但 glibc 還是會丟 invalid pointer exception

    printf("End nonHeapInt:%d\n", nonHeapInt);
    printf("End heapObject-&gt;y:%d\n", heapObject-&gt;y);

}
</pre>
</noscript>
<p>This degrades gracefully if the browser doesn&#8217;t support&nbsp;JavaScript.</p>
</section><section id="thumbnails"><h3><a class="toc-backref" href="#id96">Thumbnails</a></h3>
<p>To include an image placed in&nbsp;the <code class="docutils literal">images</code> folder (or other folders defined&nbsp;in <code class="docutils literal">IMAGE_FOLDERS</code>), use&nbsp;the
<code class="docutils literal">thumbnail</code> directive, like&nbsp;this:</p>
<pre class="code restructuredtext"><a id="rest_code_4944f628831946269cacce1efe68cc78-1" name="rest_code_4944f628831946269cacce1efe68cc78-1"></a><span class="p">..</span> <span class="ow">thumbnail</span><span class="p">::</span> /images/tesla.jpg
<a id="rest_code_4944f628831946269cacce1efe68cc78-2" name="rest_code_4944f628831946269cacce1efe68cc78-2"></a>   <span class="nc">:alt:</span> Nikola Tesla
</pre>
<p>The small thumbnail will be placed in the page, and it will be linked to the bigger
version of the image when clicked, using
<a class="reference external" href="https://feimosi.github.io/baguetteBox.js/">baguetteBox</a> by default. All options supported by
the reST <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#image">image</a>
directive are supported&nbsp;(except <code class="docutils literal">target</code>).&nbsp;Providing <code class="docutils literal">alt</code> is recommended,
as this is the image caption. If a body element is provided, the thumbnail will
mimic the behavior of the <a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#figure">figure</a>
directive&nbsp;instead:</p>
<pre class="code restructuredtext"><a id="rest_code_02879c4e836948af85598ecec8156773-1" name="rest_code_02879c4e836948af85598ecec8156773-1"></a><span class="p">..</span> <span class="ow">thumbnail</span><span class="p">::</span> /images/tesla.jpg
<a id="rest_code_02879c4e836948af85598ecec8156773-2" name="rest_code_02879c4e836948af85598ecec8156773-2"></a>   <span class="nc">:alt:</span> Nikola Tesla
<a id="rest_code_02879c4e836948af85598ecec8156773-3" name="rest_code_02879c4e836948af85598ecec8156773-3"></a>
<a id="rest_code_02879c4e836948af85598ecec8156773-4" name="rest_code_02879c4e836948af85598ecec8156773-4"></a>   Nikola Tesla, the man that invented the 20th century.
</pre>
<p>If you want to include a thumbnail in a non-reST post, you need to produce at
least this basic&nbsp;<span class="caps">HTML</span>:</p>
<pre class="code html"><a id="rest_code_d72398a23b4f4c9a9cb22b84042b98c0-1" name="rest_code_d72398a23b4f4c9a9cb22b84042b98c0-1"></a><span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">"reference"</span> <span class="na">href</span><span class="o">=</span><span class="s">"images/tesla.jpg"</span> <span class="na">alt</span><span class="o">=</span><span class="s">"Nikola Tesla"</span><span class="p">&gt;&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">"images/tesla.thumbnail.jpg"</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</pre></section><section id="chart"><h3><a class="toc-backref" href="#id97">Chart</a></h3>
<p>This directive is a thin wrapper around <a class="reference external" href="http://pygal.org/">Pygal</a> and will produce charts
as <span class="caps">SVG</span> files embedded directly in your&nbsp;pages.</p>
<p>Here&#8217;s an example of how it&nbsp;works:</p>
<pre class="code restructuredtext"><a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-1" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-1"></a><span class="p">..</span> <span class="ow">chart</span><span class="p">::</span> Bar
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-2" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-2"></a>   <span class="nc">:title:</span> 'Browser usage evolution (in %)'
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-3" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-3"></a>   <span class="nc">:x_labels:</span> ["2002", "2003", "2004", "2005", "2006", "2007"]
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-4" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-4"></a>
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-5" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-5"></a>   'Firefox', [None, None, 0, 16.6, 25, 31]
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-6" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-6"></a>   'Chrome',  [None, None, None, None, None, None]
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-7" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-7"></a>   'IE',      [85.8, 84.6, 84.7, 74.5, 66, 58.6]
<a id="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-8" name="rest_code_f350a6cdd6f74e8f9e3b88da276776c4-8"></a>   'Others',  [14.2, 15.4, 15.3, 8.9, 9, 10.4]
</pre>
<p>The argument passed next to the directive (Bar in that example) is the type of chart, and can be one of
Line, StackedLine, Bar, StackedBar, HorizontalBar, <span class="caps">XY</span>, DateY, Pie, Radar, Dot, Funnel, Gauge, Pyramid. For
examples of what each kind of graph is, <a class="reference external" href="http://pygal.org/en/stable/documentation/types/index.html">check&nbsp;here</a></p>
<p>It can take <em>a lot</em> of options to let you customize the charts (in the example, title and x_labels).
You can use any option described in <a class="reference external" href="http://pygal.org/en/stable/documentation/configuration/chart.html">the pygal&nbsp;docs</a></p>
<p>Finally, the content of the directive is the actual data, in the form of a label and
a list of values, one series per&nbsp;line.</p>
<p>You can also specify&nbsp;a <code class="docutils literal">:data_file:</code> option as described in the documentation for the chart&nbsp;shortcut.</p>
</section><section id="doc"><h3><a class="toc-backref" href="#id98">Doc</a></h3>
<p>This role is useful to make links to other post or page inside the same&nbsp;site.</p>
<p>Here&#8217;s an&nbsp;example:</p>
<pre class="code restructuredtext"><a id="rest_code_58bbc66d12d24cbbaba88ea78dd0e308-1" name="rest_code_58bbc66d12d24cbbaba88ea78dd0e308-1"></a>Take a look at <span class="na">:doc:</span><span class="nv">`my other post &lt;creating-a-theme&gt;`</span> about theme creating.
</pre>
<p>In this case we are giving the portion of text we want to link. So, the result will&nbsp;be:</p>
<blockquote>
<p>Take a look at <a class="reference external" href="../creating-a-theme/">my other post</a> about theme&nbsp;creating.</p>
</blockquote>
<p>If we want to use the post&#8217;s title as the link&#8217;s text, just&nbsp;do:</p>
<pre class="code restructuredtext"><a id="rest_code_8ee3b5a822944f91bf4170a8e455251e-1" name="rest_code_8ee3b5a822944f91bf4170a8e455251e-1"></a>Take a look at <span class="na">:doc:</span><span class="nv">`creating-a-theme`</span> to know how to do it.
</pre>
<p>and it will&nbsp;produce:</p>
<blockquote>
<p>Take a look at <a class="reference external" href="../creating-a-theme/">Creating a Theme</a> to know how to do&nbsp;it.</p>
</blockquote>
<p>The reference in angular brackets should be the <cite>slug</cite> for the target page. It supports a fragment, so
things&nbsp;like <code class="docutils literal"><span class="pre">&lt;creating-a-theme#starting-from-somewhere&gt;</span></code> should work. You can also use the title, and
Nikola will slugify it for you,&nbsp;so <code class="docutils literal">Creating a theme</code> is also&nbsp;supported.</p>
<p>Keep in mind that the important thing is the slug. No attempt is made to check if the fragment points to
an existing location in the page, and references that don&#8217;t match any page&#8217;s slugs will cause&nbsp;warnings.</p>
</section><section id="post-list"><h3><a class="toc-backref" href="#id99">Post&nbsp;List</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Any post or page that uses this directive will be considered out of date,
every time a post is added or deleted, causing maybe unnecessary&nbsp;rebuilds.</p>
<p>On the other hand, it will sometimes <strong>not</strong> be considered out of date if
a post content changes, so it can sometimes be shown outdated, in those
cases,&nbsp;use <code class="docutils literal">nikola build <span class="pre">-a</span></code> to force a total&nbsp;rebuild.</p>
</div>
<p>This directive can be used to generate a list of posts. You could use it, for
example, to make a list of the latest 5 blog posts, or a list of all blog posts
with the&nbsp;tag <code class="docutils literal">nikola</code>:</p>
<pre class="code restructuredtext"><a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-1" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-1"></a>Here are my 5 latest and greatest blog posts:
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-2" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-2"></a>
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-3" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-3"></a><span class="p">..</span> <span class="ow">post-list</span><span class="p">::</span>
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-4" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-4"></a>   <span class="nc">:stop:</span> 5
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-5" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-5"></a>
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-6" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-6"></a>These are all my posts about Nikola:
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-7" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-7"></a>
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-8" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-8"></a><span class="p">..</span> <span class="ow">post-list</span><span class="p">::</span>
<a id="rest_code_d768a8ee51784db082861ca8d4ef7aee-9" name="rest_code_d768a8ee51784db082861ca8d4ef7aee-9"></a>   <span class="nc">:tags:</span> nikola
</pre>
<p>Using shortcode syntax (for other&nbsp;compilers):</p>
<pre class="code text"><a id="rest_code_fc2bd3e1b61146958b4b9995d8954b3c-1" name="rest_code_fc2bd3e1b61146958b4b9995d8954b3c-1"></a>{{% post-list stop=5 %}}{{% /post-list %}}
</pre>
<p>The following options are&nbsp;recognized:</p>
<ul class="simple">
<li><dl class="simple">
<dt>
<code class="docutils literal">start</code><span class="classifier">integer</span>
</dt>
<dd>
<p>The index of the first post to show.
A negative value&nbsp;like <code class="docutils literal"><span class="pre">-3</span></code> will show the <em>last</em> three posts in the
post-list.
Defaults to&nbsp;None.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">stop</code><span class="classifier">integer</span>
</dt>
<dd>
<p>The index of the last post to show.
A value negative value&nbsp;like <code class="docutils literal"><span class="pre">-1</span></code> will show every post, but not the
<em>last</em> in the post-list.
Defaults to&nbsp;None.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">reverse</code><span class="classifier">flag</span>
</dt>
<dd>
<p>Reverse the order of the post-list.
Defaults is to not reverse the order of&nbsp;posts.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">sort</code>:&nbsp;string</dt>
<dd>
<p>Sort post list by one of each post&#8217;s attributes,&nbsp;usually <code class="docutils literal">title</code> or a&nbsp;custom <code class="docutils literal">priority</code>.  Defaults to None (chronological&nbsp;sorting).</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">date</code>:&nbsp;string</dt>
<dd>
<p>Show posts that match date range specified by this option.&nbsp;Format:</p>
<ul>
<li><p>comma-separated clauses&nbsp;(<span class="caps">AND</span>)</p></li>
<li><dl class="simple">
<dt>clause: attribute comparison_operator value (spaces&nbsp;optional)</dt>
<dd><ul>
<li><p>attribute: year, month, day, hour, month, second, weekday, isoweekday; or empty for full&nbsp;datetime</p></li>
<li><p>comparison_operator: == != &lt;= &gt;= &lt;&nbsp;&gt;</p></li>
<li><p>value: integer, &#8216;now&#8217; or dateutil-compatible date&nbsp;input</p></li>
</ul></dd>
</dl></li>
</ul>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">tags</code><span class="classifier">string [,&nbsp;string&#8230;]</span>
</dt>
<dd>
<p>Filter posts to show only posts having at least one of&nbsp;the <code class="docutils literal">tags</code>.
Defaults to&nbsp;None.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">require_all_tags</code><span class="classifier">flag</span>
</dt>
<dd>
<p>Change tag filter behaviour to show only posts that have all&nbsp;specified <code class="docutils literal">tags</code>.
Defaults to&nbsp;False.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">categories</code><span class="classifier">string [,&nbsp;string&#8230;]</span>
</dt>
<dd>
<p>Filter posts to show only posts having one of&nbsp;the <code class="docutils literal">categories</code>.
Defaults to&nbsp;None.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">slugs</code><span class="classifier">string [,&nbsp;string&#8230;]</span>
</dt>
<dd>
<p>Filter posts to show only posts having at least one of&nbsp;the <code class="docutils literal">slugs</code>.
Defaults to&nbsp;None.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">post_type</code> (or <code class="docutils literal">type</code>)<span class="classifier">string</span>
</dt>
<dd>
<p>Show&nbsp;only <code class="docutils literal">posts</code>, <code class="docutils literal">pages</code> or <code class="docutils literal">all</code>.&nbsp;Replaces <code class="docutils literal">all</code>. Defaults&nbsp;to <code class="docutils literal">posts</code>.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">all</code><span class="classifier">flag</span>
</dt>
<dd>
<p>(deprecated,&nbsp;use <code class="docutils literal">post_type</code> instead)
Shows all posts and pages in the post list.  Defaults to show only&nbsp;posts.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">lang</code><span class="classifier">string</span>
</dt>
<dd>
<p>The language of post <em>titles</em> and <em>links</em>.
Defaults to default&nbsp;language.</p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">template</code><span class="classifier">string</span>
</dt>
<dd>
<p>The name of an alternative template to render the post-list.
Defaults&nbsp;to <code class="docutils literal">post_list_directive.tmpl</code></p>
</dd>
</dl></li>
<li><dl class="simple">
<dt>
<code class="docutils literal">id</code><span class="classifier">string</span>
</dt>
<dd>
<p>A manual id for the post list.
Defaults to a random name composed&nbsp;by <code class="docutils literal">'post_list_' + <span class="pre">uuid.uuid4().hex</span></code>.</p>
</dd>
</dl></li>
</ul>
<p>The post list directive uses&nbsp;the <code class="docutils literal">post_list_directive.tmpl</code> template file (or
another one, if you use&nbsp;the <code class="docutils literal">template</code> option) to generate the list&#8217;s <span class="caps">HTML</span>. By
default, this is an unordered list with dates and clickable post titles. See
the template file in Nikola&#8217;s base theme for an example of how this&nbsp;works.</p>
<p>The list may fail to update in some cases, please&nbsp;run <code class="docutils literal">nikola build <span class="pre">-a</span></code> with
the appropriate path if this&nbsp;happens.</p>
<p>We recommend using pages with dates in the past (1970-01-01) to avoid
dependency&nbsp;issues.</p>
<p>If you are using this as a shortcode, flags&nbsp;(<code class="docutils literal">reverse</code>, <code class="docutils literal">all</code>) are meant to be used
with&nbsp;a <code class="docutils literal">True</code> argument,&nbsp;eg. <code class="docutils literal">all=True</code>.</p>
<aside class="sidebar"><p class="sidebar-title">Docutils&nbsp;Configuration</p>
<p>ReStructured Text is &#8220;compiled&#8221; by docutils, which supports a number of
configuration options. It would be difficult to integrate them all into
Nikola&#8217;s configuration, so you can just put&nbsp;a <code class="docutils literal">docutils.conf</code> next
to&nbsp;your <code class="docutils literal">conf.py</code> and any settings in&nbsp;its <code class="docutils literal">[nikola]</code> section will be&nbsp;used.</p>
<p>More information in the <a class="reference external" href="http://docutils.sourceforge.net/docs/user/config.html">docutils configuration&nbsp;reference</a></p>
</aside></section></section><section id="importing-your-wordpress-site-into-nikola"><h2><a class="toc-backref" href="#id100">Importing your WordPress site into&nbsp;Nikola</a></h2>
<p>If you like Nikola, and want to start using it, but you have a WordPress blog, Nikola
supports importing it. Here are the steps to do&nbsp;it:</p>
<ol class="arabic simple">
<li><p>Get an <span class="caps">XML</span> dump of your site <a class="footnote-reference brackets" href="#id10" id="id9">1</a></p></li>
<li><p><code class="docutils literal">nikola import_wordpress <span class="pre">mysite.wordpress.2012-12-20.xml</span></code></p></li>
</ol>
<p>After some time, this will create&nbsp;a <code class="docutils literal">new_site</code> folder with all your data. It currently supports
the&nbsp;following:</p>
<ul>
<li><p>All your posts and&nbsp;pages</p></li>
<li><p>Keeps “draft”&nbsp;status</p></li>
<li><p>Your tags and&nbsp;categories</p></li>
<li><p>Imports your attachments and fixes links to point to the right&nbsp;places</p></li>
<li><p>Will try to add redirects that send the old post URLs to the new&nbsp;ones</p></li>
<li>
<p>Will give you a <span class="caps">URL</span> map so you know where each old post&nbsp;was</p>
<p>This is also useful for <span class="caps">DISQUS</span> thread migration, or server-based 301&nbsp;redirects!</p>
</li>
<li><p>Allows you to export your comments with each&nbsp;post</p></li>
<li><p>Exports information on attachments per&nbsp;post</p></li>
<li>
<p>There are different methods to transfer the content of your&nbsp;posts:</p>
<ul>
<li>
<p>You can convert them to <span class="caps">HTML</span> with the WordPress page compiler plugin
for Nikola. This will format the posts including supported shortcodes
the same way as WordPress does. Use&nbsp;the <code class="docutils literal"><span class="pre">--transform-to-html</span></code> option
to convert your posts to&nbsp;<span class="caps">HTML</span>.</p>
<p>If you use this option, you do not need to install the plugin
permanently. You can ask Nikola to install the plugin into the&nbsp;subdirectory
<code class="docutils literal">plugins</code> of the current working directory by specifying&nbsp;the <code class="docutils literal"><span class="pre">--install-wordpress-compiler</span></code> option.</p>
</li>
<li>
<p>You can leave the posts the way they are and use the WordPress page
compiler plugin to render them when building your new blog. This also
allows you to create new posts using the WordPress syntax, or to manually
add more shortcode plugins later. Use&nbsp;the <code class="docutils literal"><span class="pre">--use-wordpress-compiler</span></code>
option to not touch your&nbsp;posts.</p>
<p>If you want to use this option, you have to install the plugin permanently.
You can ask Nikola to install the plugin into your new site by specifying&nbsp;the <code class="docutils literal"><span class="pre">--install-wordpress-compiler</span></code> option.</p>
</li>
<li><p>You can let Nikola convert your posts to Markdown. This is <em>not</em> error
free, because WordPress uses some unholy mix of <span class="caps">HTML</span> and strange things.
This is the default option and requires no&nbsp;plugins.</p></li>
</ul>
<p>You will find your old posts&nbsp;in <code class="docutils literal"><span class="pre">new_site/posts/post-title.html</span></code> in the first&nbsp;case,
<code class="docutils literal"><span class="pre">new_site/posts/post-title.wp</span></code> in the second case&nbsp;or <code class="docutils literal"><span class="pre">new_site/posts/post-title.md</span></code>
in the last case if you need to edit or fix any of&nbsp;them.</p>
<p>Please note that the page compiler currently only supports&nbsp;the <code class="docutils literal">[code]</code> shortcode,
but other shortcodes can be supported via&nbsp;plugins.</p>
<p>Also note that the WordPress page compiler is licensed under <span class="caps">GPL</span> v2 since
it uses code from WordPress itself, while Nikola is licensed under the more
liberal <span class="caps">MIT</span>&nbsp;license.</p>
</li>
</ul>
<p>This feature is a work in progress, and the only way to improve it is to have it used for
as many sites as possible and make it work better each time, so we are happy to get requests
about&nbsp;it.</p>
<dl class="footnote brackets">
<dt class="label" id="id10"><span class="brackets"><a class="fn-backref" href="#id9">1</a></span></dt>
<dd>
<p>The dump needs to be in 1.2 format. You can check by reading it, it should&nbsp;say
<code class="docutils literal"><span class="pre">xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"</span></code> near the top of the
file. If it&nbsp;says <code class="docutils literal">1.1</code> instead&nbsp;of <code class="docutils literal">1.2</code> you will have to update your
WordPress before&nbsp;dumping.</p>
<p>Other versions may or may not&nbsp;work.</p>
</dd>
</dl>
<section id="importing-to-a-custom-location-or-into-an-existing-site"><h3><a class="toc-backref" href="#id101">Importing to a custom location or into an existing&nbsp;site</a></h3>
<p>It is possible to either import into a location you desire or into an already existing Nikola site.
To do so you can specify a location after the&nbsp;dump:</p>
<pre class="code console"><a id="rest_code_833f9b318c344c258e870f6cf4cce420-1" name="rest_code_833f9b318c344c258e870f6cf4cce420-1"></a><span class="gp">$ </span>nikola import_wordpress mysite.wordpress.2012-12-20.xml -o import_location
</pre>
<p>With this command Nikola will import into the&nbsp;folder <code class="docutils literal">import_location</code>.</p>
<p>If the folder already exists Nikola will not overwrite an&nbsp;existing <code class="docutils literal">conf.py</code>.
Instead a new file with a timestamp at the end of the filename will be&nbsp;created.</p>
</section></section><section id="using-twitter-cards"><h2><a class="toc-backref" href="#id102">Using Twitter&nbsp;Cards</a></h2>
<p>Nikola supports Twitter Card summaries, but they are disabled by&nbsp;default.</p>
<p>Twitter Cards enable you to show additional information in Tweets that link
to your content.
Nikola supports <a class="reference external" href="https://dev.twitter.com/docs/cards">Twitter Cards</a>.
They are implemented to use <em>Open Graph</em> tags whenever&nbsp;possible.</p>
<p>Images displayed come from the <cite>previewimage</cite> meta&nbsp;tag.</p>
<p>You can specify the card type by using the <cite>card</cite> parameter in&nbsp;TWITTER_CARD.</p>
<p>To enable and configure your use of Twitter Cards, please modify the
corresponding lines in&nbsp;your <code class="docutils literal">conf.py</code>:</p>
<pre class="code python"><a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-1" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-1"></a><span class="n">TWITTER_CARD</span> <span class="o">=</span> <span class="p">{</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-2" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-2"></a>    <span class="s1">'use_twitter_cards'</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>  <span class="c1"># enable Twitter Cards</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-3" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-3"></a>    <span class="s1">'card'</span><span class="p">:</span> <span class="s1">'summary'</span><span class="p">,</span>          <span class="c1"># Card type, you can also use 'summary_large_image',</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-4" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-4"></a>                                <span class="c1"># see https://dev.twitter.com/cards/types</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-5" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-5"></a>    <span class="s1">'site'</span><span class="p">:</span> <span class="s1">'@website'</span><span class="p">,</span>         <span class="c1"># twitter nick for the website</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-6" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-6"></a>    <span class="s1">'creator'</span><span class="p">:</span> <span class="s1">'@username'</span><span class="p">,</span>     <span class="c1"># Username for the content creator / author.</span>
<a id="rest_code_5c1e77827e254cfa92993a6418dc60ee-7" name="rest_code_5c1e77827e254cfa92993a6418dc60ee-7"></a><span class="p">}</span>
</pre></section><section id="custom-plugins"><h2><a class="toc-backref" href="#id103">Custom&nbsp;Plugins</a></h2>
<p>You can create your own plugins (see <a class="reference external" href="../extending/">Extending Nikola</a>) and use them in your own
site by putting them in&nbsp;a <code class="docutils literal">plugins/</code> folder.  You can also put them in
directories listed in&nbsp;the <code class="docutils literal">EXTRA_PLUGINS_DIRS</code> configuration&nbsp;variable.</p>
</section><section id="getting-extra-plugins"><h2><a class="toc-backref" href="#id104">Getting Extra&nbsp;Plugins</a></h2>
<p>If you want extra plugins, there is also the <a class="reference external" href="https://plugins.getnikola.com/">Plugins Index</a>.</p>
<p>Similarly to themes, there is a nice, built-in command to manage them&nbsp;—
<code class="docutils literal">plugin</code>:</p>
<pre class="code console"><a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-1" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-1"></a><span class="gp">$ </span>nikola plugin -l
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-2" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-2"></a><span class="go">Plugins:</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-3" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-3"></a><span class="go">--------</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-4" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-4"></a><span class="go">helloworld</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-5" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-5"></a><span class="go">tags</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-6" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-6"></a><span class="go">⋮</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-7" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-7"></a><span class="go">⋮</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-8" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-8"></a>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-9" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-9"></a><span class="gp">$ </span>nikola plugin --install helloworld
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-10" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-10"></a><span class="go">[2013-10-12T16:51:56Z] NOTICE: install_plugin: Downloading: https://plugins.getnikola.com/v6/helloworld.zip</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-11" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-11"></a><span class="go">[2013-10-12T16:51:58Z] NOTICE: install_plugin: Extracting: helloworld into plugins</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-12" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-12"></a><span class="go">plugins/helloworld/requirements.txt</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-13" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-13"></a><span class="go">[2013-10-12T16:51:58Z] NOTICE: install_plugin: This plugin has Python dependencies.</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-14" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-14"></a><span class="go">[2013-10-12T16:51:58Z] NOTICE: install_plugin: Installing dependencies with pip...</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-15" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-15"></a><span class="go">⋮</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-16" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-16"></a><span class="go">⋮</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-17" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-17"></a><span class="go">[2013-10-12T16:51:59Z] NOTICE: install_plugin: Dependency installation succeeded.</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-18" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-18"></a><span class="go">[2013-10-12T16:51:59Z] NOTICE: install_plugin: This plugin has a sample config file.</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-19" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-19"></a><span class="go">Contents of the conf.py.sample file:</span>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-20" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-20"></a>
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-21" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-21"></a><span class="gp">    # </span>Should the Hello World plugin say “BYE” instead?
<a id="rest_code_d2e25772a31540ee841d3b18c1de37fa-22" name="rest_code_d2e25772a31540ee841d3b18c1de37fa-22"></a><span class="go">    BYE_WORLD = False</span>
</pre>
<p>Then you also can uninstall your&nbsp;plugins:</p>
<pre class="code console"><a id="rest_code_52ee4a7ce80e4163a20210385a8eadaa-1" name="rest_code_52ee4a7ce80e4163a20210385a8eadaa-1"></a><span class="gp">$ </span>nikola plugin --uninstall tags
<a id="rest_code_52ee4a7ce80e4163a20210385a8eadaa-2" name="rest_code_52ee4a7ce80e4163a20210385a8eadaa-2"></a><span class="go">[2014-04-15T08:59:24Z] WARNING: plugin: About to uninstall plugin: tags</span>
<a id="rest_code_52ee4a7ce80e4163a20210385a8eadaa-3" name="rest_code_52ee4a7ce80e4163a20210385a8eadaa-3"></a><span class="go">[2014-04-15T08:59:24Z] WARNING: plugin: This will delete /home/ralsina/foo/plugins/tags</span>
<a id="rest_code_52ee4a7ce80e4163a20210385a8eadaa-4" name="rest_code_52ee4a7ce80e4163a20210385a8eadaa-4"></a><span class="go">Are you sure? [y/n] y</span>
<a id="rest_code_52ee4a7ce80e4163a20210385a8eadaa-5" name="rest_code_52ee4a7ce80e4163a20210385a8eadaa-5"></a><span class="go">[2014-04-15T08:59:26Z] WARNING: plugin: Removing /home/ralsina/foo/plugins/tags</span>
</pre>
<p>And upgrade&nbsp;them:</p>
<pre class="code console"><a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-1" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-1"></a><span class="gp">$ </span>nikola plugin --upgrade
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-2" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-2"></a><span class="go">[2014-04-15T09:00:18Z] WARNING: plugin: This is not very smart, it just reinstalls some plugins and hopes for the best</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-3" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-3"></a><span class="go">Will upgrade 1 plugins: graphviz</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-4" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-4"></a><span class="go">Upgrading graphviz</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-5" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-5"></a><span class="go">[2014-04-15T09:00:20Z] INFO: plugin: Downloading: https://plugins.getnikola.com/v7/graphviz.zip</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-6" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-6"></a><span class="go">[2014-04-15T09:00:20Z] INFO: plugin: Extracting: graphviz into /home/ralsina/.nikola/plugins/</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-7" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-7"></a><span class="go">[2014-04-15T09:00:20Z] NOTICE: plugin: This plugin has third-party dependencies you need to install manually.</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-8" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-8"></a><span class="go">Contents of the requirements-nonpy.txt file:</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-9" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-9"></a>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-10" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-10"></a><span class="go">    Graphviz</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-11" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-11"></a><span class="go">        http://www.graphviz.org/</span>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-12" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-12"></a>
<a id="rest_code_1eaf04f37a6249d3aabd146c8895749e-13" name="rest_code_1eaf04f37a6249d3aabd146c8895749e-13"></a><span class="go">You have to install those yourself or through a package manager.</span>
</pre>
<p>You can also share plugins you created with the community!  Visit the
<a class="reference external" href="https://github.com/getnikola/plugins">GitHub repository</a> to find out&nbsp;more.</p>
<p>You can use the plugins in this repository without installing them into your
site, by cloning the repository and adding the path of the plugins directory to&nbsp;the <code class="docutils literal">EXTRA_PLUGINS_DIRS</code> list in your&nbsp;configuration.</p>
</section><section id="advanced-features"><h2><a class="toc-backref" href="#id105">Advanced&nbsp;Features</a></h2>
<section id="debugging"><h3><a class="toc-backref" href="#id106">Debugging</a></h3>
<p>For pdb debugging in Nikola, you should&nbsp;use <code class="docutils literal">doit.tools.set_trace()</code> instead
of the usual pdb call.  By default, doit (and thus Nikola) redirects stdout and
stderr.  Thus, you must use the different call.  (Alternatively, you could run&nbsp;with <code class="docutils literal">nikola build <span class="pre">-v</span> 2</code>, which disables the&nbsp;redirections.)</p>
<p>To show more logging messages, as well as full tracebacks, you need to set an
environment&nbsp;variable: <code class="docutils literal">NIKOLA_DEBUG=1</code>. If you want to only see tracebacks,&nbsp;set <code class="docutils literal">NIKOLA_SHOW_TRACEBACKS=1</code>.</p>
</section><section id="shell-tab-completion"><h3><a class="toc-backref" href="#id107">Shell Tab&nbsp;Completion</a></h3>
<p>Since Nikola is a command line tool, and this is the 21st century, it&#8217;s handy to have smart tab-completion
so that you don&#8217;t have to type the full&nbsp;commands.</p>
<p>To enable this, you can use&nbsp;the <code class="docutils literal">nikola tabcompletion</code> command like this,
depending on your&nbsp;shell:</p>
<pre class="code console"><a id="rest_code_9743504076a44564a2308ed2768e6b4e-1" name="rest_code_9743504076a44564a2308ed2768e6b4e-1"></a><span class="gp">$ </span>nikola tabcompletion --shell bash --hardcode-tasks &gt; _nikola_bash
<a id="rest_code_9743504076a44564a2308ed2768e6b4e-2" name="rest_code_9743504076a44564a2308ed2768e6b4e-2"></a><span class="gp">$ </span>nikola tabcompletion --shell zsh --hardcode-tasks &gt; _nikola_zsh
</pre>
<p>The <code class="docutils literal"><span class="pre">--hardcode-tasks</span></code> adds tasks to the completion and may need updating&nbsp;periodically.</p>
<p>Please refer to your shell’s documentation for help on how to use those&nbsp;files.</p>
</section></section><section id="license"><h2><a class="toc-backref" href="#id108">License</a></h2>
<p>Nikola is released under the <a class="reference external" href="https://getnikola.com/license.html"><span class="caps">MIT</span> license</a>, which is a free software license. Some
components shipped along with Nikola, or required by it are released under
other&nbsp;licenses.</p>
<p>If you are not familiar with free software licensing, here is a brief
explanation (this is <span class="caps">NOT</span> legal advice): In general, you can do pretty much
anything you want — including modifying Nikola, using and redistributing the
original version or the your modified version. However, if you redistribute
Nikola to someone else, either a modified version or the original version, the
full copyright notice and license text must be included in your distribution.
Nikola is provided “as is”, and the Nikola contributors are not liable for any
damage caused by the software. Read the <a class="reference external" href="https://getnikola.com/license.html">full license text</a> for&nbsp;details.</p>
</section>
</div>
    </div>
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article></main>
</div>
                </div>
            </div>
        </div>
                <footer id="footer"><p>Contents © 2021         <a href="mailto:nicholas.miklaucic@gmail.com">Nicholas Miklaucic</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
                <script src="../../assets/js/baguetteBox.min.js"></script><script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script><script src="../../assets/halfmoon/js/halfmoon.min.js"></script><script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script><script src="../../assets/js/add_styles.js"></script><script src="../../assets/js/etica.js"></script><script>
     baguetteBox.run('div#content', {
         ignoreClass: 'islink',
         captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>